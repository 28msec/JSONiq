<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>12.3. Global Variables</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 2.8" /><meta name="package" content="JSONiq-Introduction_to_JSONiq-0.1-en-US-0-0" /><link rel="home" href="index.html" title="Introduction to JSONiq" /><link rel="up" href="chapter-prolog.html" title="Chapter 12. Prologs" /><link rel="prev" href="ch12s02.html" title="12.2. Namespaces" /><link rel="next" href="ch12s04.html" title="12.4. User-Defined Functions" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img src="Common_Content/images/image_left.png" alt="Product Site" /></a><a class="right" href="https://fedorahosted.org/publican"><img src="Common_Content/images/image_right.png" alt="Documentation Site" /></a></p><ul class="docnav"><li class="previous"><a accesskey="p" href="ch12s02.html"><strong>Prev</strong></a></li><li class="next"><a accesskey="n" href="ch12s04.html"><strong>Next</strong></a></li></ul><div class="section" id="section-globalVariables"><div class="titlepage"><div><div><h2 class="title" id="section-globalVariables">12.3. Global Variables</h2></div></div></div><div class="para">
			Variables can be declared global. Global variables are declared in the prolog.
		</div><div class="example"><h6>Example 12.4. Global variable.</h6><div class="example-contents"><pre class="programlisting">
declare variable $obj
  := { "foo" : "bar" };
declare variable $numbers
    := (1, 2, 3, 4, 5);
$obj,
[ $numbers ]
</pre><div class="para">
				Results:
			</div><pre class="programlisting">{
  "foo" : "bar"
}
[ 1, 2, 3, 4, 5 ]
</pre></div></div><br class="example-break" /><div class="para">
			You can specify a sequence type for a variable. If the type does not match, an error is raised. In general, you do not need to worry too much about variable types except if you want to make sure that what you bind to a variable is really what you want. In most cases, the engine will take care of types for you.
		</div><div class="example"><h6>Example 12.5. Global variable with a type.</h6><div class="example-contents"><pre class="programlisting">
declare variable $obj as object
  := { "foo" : "bar" };
$obj
</pre><div class="para">
				Results:
			</div><pre class="programlisting">{
  "foo" : "bar"
}
</pre></div></div><br class="example-break" /><div class="para">
			An external variable allows you to pass a value from the outside environment, which can be very useful. Each implementation can choose its own way of passing a value to an external variable. A default value for an external variable can also be supplied in case none is provided from outside.
		</div><div class="example"><h6>Example 12.6. An external global variable with a default value.</h6><div class="example-contents"><pre class="programlisting">
declare variable $obj external
  := { "foo" : "bar" };
$obj
</pre><div class="para">
				Results:
			</div><pre class="programlisting">{
  "foo" : "bar"
}
</pre></div></div><br class="example-break" /><div class="para">
			In these examples, global variables have no prefix. They can also be prefixed with the predefined alias <span class="emphasis"><em>local:</em></span>, but them they must be prefixed both in the declaration and when used.
		</div><div class="example"><h6>Example 12.7. An external global variable with the local: alias.</h6><div class="example-contents"><pre class="programlisting">
declare variable $local:obj external := { "foo" : "bar" };
$local:obj
</pre><div class="para">
				Results:
			</div><pre class="programlisting">{
  "foo" : "bar"
}
</pre></div></div><br class="example-break" /><div class="para">
			Global variables that are imported from other modules are prefixed with the alias associated with the imported module, as will be explained in <a class="xref" href="chapter-modules.html">Chapter 13, <em>Modules</em></a>.
		</div></div><ul class="docnav"><li class="previous"><a accesskey="p" href="ch12s02.html"><strong>Prev</strong>12.2. Namespaces</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch12s04.html"><strong>Next</strong>12.4. User-Defined Functions</a></li></ul></body></html>
