<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>6.2. Global variables</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css" /><link rel="stylesheet" media="print" href="Common_Content/css/print.css" type="text/css" /><meta name="generator" content="publican 3.2.1" /><meta name="package" content="JSONiq_-_the_SQL_of_NoSQL-JSONiq-1.0-en-US-1-12" /><link rel="home" href="index.html" title="JSONiq" /><link rel="up" href="chapter-prolog.html" title="Chapter 6. Prologs" /><link rel="prev" href="chapter-prolog.html" title="Chapter 6. Prologs" /><link rel="next" href="ch06s03.html" title="6.3. Functions" /></head><body><p id="title"><a class="left" href="https://fedorahosted.org/publican"><img alt="Product Site" src="Common_Content/images//image_left.png" /></a><a class="right" href="https://fedorahosted.org/publican"><img alt="Documentation Site" src="Common_Content/images//image_right.png" /></a></p><ul class="docnav top"><li class="previous"><a accesskey="p" href="chapter-prolog.html"><strong>Prev</strong></a></li><li class="home">JSONiq</li><li class="next"><a accesskey="n" href="ch06s03.html"><strong>Next</strong></a></li></ul><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="idm140319521985040"></a>6.2. Global variables</h2></div></div></div><div class="figure"><a id="idm140319521984240"></a><div class="figure-contents"><div class="mediaobject"><img src="images/VarDecl.png" alt="VarDecl" /></div></div><p class="title"><strong>Figure 6.9. VarDecl</strong></p></div><br class="figure-break" /><div class="para">
			Variables can be declared global. Global variables are declared in the prolog.
		</div><div class="example"><a id="idm140319521981168"></a><p class="title"><strong>Example 6.1. Global variable</strong></p><div class="example-contents"><pre class="programlisting">
  declare variable $obj := { "foo" : "bar" };
  $obj
</pre><div class="formalpara"><div class="title">Result (run with Zorba):</div>
					{ "foo" : "bar" }
				</div></div></div><br class="example-break" /><div class="example"><a id="idm140319558225120"></a><p class="title"><strong>Example 6.2. Global variable</strong></p><div class="example-contents"><pre class="programlisting">
  declare variable $numbers := (1, 2, 3, 4, 5);
  [ $numbers ]
</pre><div class="formalpara"><div class="title">Result (run with Zorba):</div>
					[ 1, 2, 3, 4, 5 ]
				</div></div></div><br class="example-break" /><div class="para">
			You can specify a type for a variable. If the type does not match, an error is raised. Types will be explained later. In general, you do not need to worry too much about variable types except if you want to make sure that what you bind to a variable is really what you want. In most cases, the engine will take care of types for you.
		</div><div class="example"><a id="idm140319558221536"></a><p class="title"><strong>Example 6.3. Global variable with a type</strong></p><div class="example-contents"><pre class="programlisting">
  declare variable $obj as object := { "foo" : "bar" };
  $obj
</pre><div class="formalpara"><div class="title">Result (run with Zorba):</div>
					{ "foo" : "bar" }
				</div></div></div><br class="example-break" /><div class="para">
			An external variable allows you to pass a value from the outside environment, which can be very useful. Each implementation can choose their own way of passing a value to an external variable. A default value for an external variable can also be supplied in case none is provided outside.
		</div><div class="example"><a id="idm140319563793632"></a><p class="title"><strong>Example 6.4. An external global variable</strong></p><div class="example-contents"><pre class="programlisting">
  declare variable $obj external;
  $obj
</pre><div class="formalpara"><div class="title">Result (run with Zorba):</div>
					An error was raised: "obj": variable has no value
				</div></div></div><br class="example-break" /><div class="example"><a id="idm140319563790880"></a><p class="title"><strong>Example 6.5. An external global variable with a default value</strong></p><div class="example-contents"><pre class="programlisting">
  declare variable $obj external := { "foo" : "bar" };
  $obj
</pre><div class="formalpara"><div class="title">Result (run with Zorba):</div>
					{ "foo" : "bar" }
				</div></div></div><br class="example-break" /></div><ul class="docnav"><li class="previous"><a accesskey="p" href="chapter-prolog.html"><strong>Prev</strong>Chapter 6. Prologs</a></li><li class="up"><a accesskey="u" href="#"><strong>Up</strong></a></li><li class="home"><a accesskey="h" href="index.html"><strong>Home</strong></a></li><li class="next"><a accesskey="n" href="ch06s03.html"><strong>Next</strong>6.3. Functions</a></li></ul></body></html>