<?xml version="1.0" encoding="utf-8"?><!--XSLT Processor: Apache Software Foundation (Xalan XSLTC)--><!--This document was created at 20110124 1248--><ns0:html xmlns:ns0="http://www.w3.org/1999/xhtml" lang="en"><ns1:head xmlns:ns1="http://www.w3.org/1999/xhtml"><ns2:title xmlns:ns2="http://www.w3.org/1999/xhtml">XSLT and XQuery Serialization 1.1 ("Internal Last Call")</ns2:title><ns3:style xmlns:ns3="http://www.w3.org/1999/xhtml" type="text/css">
code           { font-family: monospace; }

div.constraint,
div.issue,
div.note,
div.notice     { margin-left: 2em; }

div.issue
p.title        { margin-left: -2em; }

ol.enumar      { list-style-type: decimal; }
ol.enumla      { list-style-type: lower-alpha; }
ol.enumlr      { list-style-type: lower-roman; }
ol.enumua      { list-style-type: upper-alpha; }
ol.enumur      { list-style-type: upper-roman; }

li p           { margin-top: 0.3em;
                 margin-bottom: 0.3em; }

sup small      { font-style: italic;
                 color: #8F8F8F;
               }
    
div.exampleInner pre { margin-left: 1em;
                       margin-top: 0em; margin-bottom: 0em}
div.exampleOuter {border: 4px double gray;
                  margin: 0em; padding: 0em}
div.exampleInner { background-color: #d5dee3;
                   border-top-width: 4px;
                   border-top-style: double;
                   border-top-color: #d3d3d3;
                   border-bottom-width: 4px;
                   border-bottom-style: double;
                   border-bottom-color: #d3d3d3;
                   padding: 4px; margin: 0em }
div.exampleWrapper { margin: 4px }
div.exampleHeader { font-weight: bold;
                    margin: 4px}

div.issue { border-bottom-color: black;
            border-bottom-style: solid;
	    border-bottom-width: 1pt;
	    margin-bottom: 20pt;
}

th.issue-toc-head { border-bottom-color: black;
                    border-bottom-style: solid;
                    border-bottom-width: 1pt;
}

      
dd.indent { margin-left: 2em; }
p.element-syntax { border: solid thin; background-color: #ffccff }
div.proto { border: solid thin; background-color: #ffccff }
div.example { border: solid thin; background-color: blue; padding: 1em }
span.verb { font: small-caps 100% sans-serif }
span.error { font-size: small }
</ns3:style><ns4:link xmlns:ns4="http://www.w3.org/1999/xhtml" rel="stylesheet" type="text/css" href="http://www.w3.org/StyleSheets/TR/W3C-WD.css"/></ns1:head><ns5:body xmlns:ns5="http://www.w3.org/1999/xhtml"><ns6:div xmlns:ns6="http://www.w3.org/1999/xhtml" class="head"><ns7:p xmlns:ns7="http://www.w3.org/1999/xhtml"><ns8:a xmlns:ns8="http://www.w3.org/1999/xhtml" href="http://www.w3.org/"><ns9:img xmlns:ns9="http://www.w3.org/1999/xhtml" src="http://www.w3.org/Icons/w3c_home" alt="W3C" height="48" width="72"/></ns8:a></ns7:p>
<ns10:h1 xmlns:ns10="http://www.w3.org/1999/xhtml"><ns11:a xmlns:ns11="http://www.w3.org/1999/xhtml" name="title" id="title"/>XSLT and XQuery Serialization 1.1 ("Internal Last Call")</ns10:h1>
<ns12:h2 xmlns:ns12="http://www.w3.org/1999/xhtml"><ns13:a xmlns:ns13="http://www.w3.org/1999/xhtml" name="w3c-doctype" id="w3c-doctype"/>W3C Working Draft 20 July 2010</ns12:h2><ns14:dl xmlns:ns14="http://www.w3.org/1999/xhtml"><ns15:dt xmlns:ns15="http://www.w3.org/1999/xhtml">This version:</ns15:dt><ns16:dd xmlns:ns16="http://www.w3.org/1999/xhtml">
    <ns17:a xmlns:ns17="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/2010/WD-xslt-xquery-serialization-11-20100720/">http://www.w3.org/TR/2010/WD-xslt-xquery-serialization-11-20100720/</ns17:a>
  </ns16:dd><ns18:dt xmlns:ns18="http://www.w3.org/1999/xhtml">Latest version:</ns18:dt><ns19:dd xmlns:ns19="http://www.w3.org/1999/xhtml">
    <ns20:a xmlns:ns20="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xslt-xquery-serialization-11/">http://www.w3.org/TR/xslt-xquery-serialization-11/</ns20:a>
  </ns19:dd><ns21:dt xmlns:ns21="http://www.w3.org/1999/xhtml">Previous versions:</ns21:dt><ns22:dd xmlns:ns22="http://www.w3.org/1999/xhtml">
    <ns23:a xmlns:ns23="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/2009/WD-xslt-xquery-serialization-11-20091215/">http://www.w3.org/TR/2009/WD-xslt-xquery-serialization-11-20091215/</ns23:a>
    <ns24:a xmlns:ns24="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/2007/REC-xslt-xquery-serialization-20070123/">http://www.w3.org/TR/2007/REC-xslt-xquery-serialization-20070123/</ns24:a>
  </ns22:dd><ns25:dt xmlns:ns25="http://www.w3.org/1999/xhtml">Editor:</ns25:dt><ns26:dd xmlns:ns26="http://www.w3.org/1999/xhtml">Henry Zongaro, IBM Canada Lab - Toronto Site <ns27:a xmlns:ns27="http://www.w3.org/1999/xhtml" href="http://www.ibm.com/software/ca/en/canadalabs/toronto_lab.html">&lt;http://www.ibm.com/software/ca/en/canadalabs/toronto_lab.html&gt;</ns27:a></ns26:dd></ns14:dl><ns28:p xmlns:ns28="http://www.w3.org/1999/xhtml">See also <ns29:a xmlns:ns29="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2003/03/Translations/byTechnology?technology=xslt-xquery-serialization"><ns30:strong xmlns:ns30="http://www.w3.org/1999/xhtml">translations</ns30:strong></ns29:a>.</ns28:p><ns31:p xmlns:ns31="http://www.w3.org/1999/xhtml">This document is also available in these non-normative formats: <ns32:a xmlns:ns32="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/2010/WD-xslt-xquery-serialization-11-20100720/xslt-xquery-serialization-11.xml">XML</ns32:a> and <ns33:a xmlns:ns33="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/2010/WD-xslt-xquery-serialization-11-20100720/xslt-xquery-serialization-11-diff-from-20070123.html">Change markings relative to first edition</ns33:a>.</ns31:p><ns34:p xmlns:ns34="http://www.w3.org/1999/xhtml" class="copyright"><ns35:a xmlns:ns35="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</ns35:a> © 2010 <ns36:a xmlns:ns36="http://www.w3.org/1999/xhtml" href="http://www.w3.org/"><ns37:acronym xmlns:ns37="http://www.w3.org/1999/xhtml" title="World Wide Web Consortium">W3C</ns37:acronym></ns36:a><ns38:sup xmlns:ns38="http://www.w3.org/1999/xhtml">®</ns38:sup> (<ns39:a xmlns:ns39="http://www.w3.org/1999/xhtml" href="http://www.csail.mit.edu/"><ns40:acronym xmlns:ns40="http://www.w3.org/1999/xhtml" title="Massachusetts Institute of Technology">MIT</ns40:acronym></ns39:a>, <ns41:a xmlns:ns41="http://www.w3.org/1999/xhtml" href="http://www.ercim.eu/"><ns42:acronym xmlns:ns42="http://www.w3.org/1999/xhtml" title="European Research Consortium for Informatics and Mathematics">ERCIM</ns42:acronym></ns41:a>, <ns43:a xmlns:ns43="http://www.w3.org/1999/xhtml" href="http://www.keio.ac.jp/">Keio</ns43:a>), All Rights Reserved. W3C <ns44:a xmlns:ns44="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</ns44:a>, <ns45:a xmlns:ns45="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</ns45:a> and <ns46:a xmlns:ns46="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Legal/copyright-documents">document use</ns46:a> rules apply.</ns34:p></ns6:div><ns47:hr xmlns:ns47="http://www.w3.org/1999/xhtml"/><ns48:div xmlns:ns48="http://www.w3.org/1999/xhtml">
<ns49:h2 xmlns:ns49="http://www.w3.org/1999/xhtml"><ns50:a xmlns:ns50="http://www.w3.org/1999/xhtml" name="abstract" id="abstract"/>Abstract</ns49:h2><ns51:p xmlns:ns51="http://www.w3.org/1999/xhtml">This document defines serialization of an instance of the data model as defined in
     <ns52:a xmlns:ns52="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns52:a> into a sequence of octets. 
     Serialization is designed to be a component that can be used by other specifications
     such as <ns53:a xmlns:ns53="http://www.w3.org/1999/xhtml" href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</ns53:a> or <ns54:a xmlns:ns54="http://www.w3.org/1999/xhtml" href="#xquery-11">[XQuery 1.1: An XML Query Language]</ns54:a>.</ns51:p></ns48:div><ns55:div xmlns:ns55="http://www.w3.org/1999/xhtml">
<ns56:h2 xmlns:ns56="http://www.w3.org/1999/xhtml"><ns57:a xmlns:ns57="http://www.w3.org/1999/xhtml" name="status" id="status"/>Status of this Document</ns56:h2><ns58:p xmlns:ns58="http://www.w3.org/1999/xhtml"><ns59:em xmlns:ns59="http://www.w3.org/1999/xhtml">This section describes the status of this
         document at the time of its publication.
         Other documents may supersede this document.
         A list of current W3C publications and the latest
         revision of this technical report can be found in the
         <ns60:a xmlns:ns60="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/">W3C technical reports index</ns60:a>
         at http://www.w3.org/TR/.</ns59:em></ns58:p><ns61:p xmlns:ns61="http://www.w3.org/1999/xhtml">This is one document
in a set of eight documents that have progressed to
Recommendation together (XQuery 1.1, XQueryX 1.1, XSLT 2.1,
Data Model 1.1, Functions and Operators 1.1, Formal Semantics 1.1,
Serialization 1.1, XPath 2.1). </ns61:p><ns62:p xmlns:ns62="http://www.w3.org/1999/xhtml">This is a <ns63:a xmlns:ns63="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2005/10/Process-20051014/tr.html#maturity-levels">Working Draft</ns63:a> as described in the <ns64:a xmlns:ns64="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2005/10/Process-20051014/tr.html">Process Document</ns64:a>.
It has been jointly developed by the W3C 
<ns65:a xmlns:ns65="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Style/XSL/">XSL Working Group</ns65:a> and the W3C <ns66:a xmlns:ns66="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/Query/">XML Query Working Group</ns66:a>, each of which is part of the <ns67:a xmlns:ns67="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/Activity">XML Activity</ns67:a>.
The Working Groups expect to advance this specification to <ns68:a xmlns:ns68="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2005/10/Process-20051014/tr.html#RecsW3C">Recommendation</ns68:a> Status.</ns62:p><ns69:p xmlns:ns69="http://www.w3.org/1999/xhtml">This is an "internal last call working draft" of XPath 2.1.
                               The purpose of this publication is for members of the XML Query and XSL WGs to review
                               the content and identify all issues that they believe would inhibit progression of
                               the document to Proposed Recommendation status. 
                               Ideally, WG members will identify all such issues in the document before it is progressed
                               to Last Call Working Draft status and will not submit large numbers of issues during the
                               (public) Last Call review period.
                               WG members' comments on this document should be submitted, using the ordinary Bugzilla
                               reporting mechanism, no later than Friday, 2010-07-09, so they may be considered by the
                               Joint face-to-face meeting scheduled to begin on 2010-07-12. </ns69:p><ns70:p xmlns:ns70="http://www.w3.org/1999/xhtml">No implementation report currently exists.
However, a Test Suite for XSLT and XQuery Serialization 1.1 is under development.</ns70:p><ns71:p xmlns:ns71="http://www.w3.org/1999/xhtml">This document incorporates changes made against the previous publication
  of the Working Draft of 23 March 2010.
  Changes to this document since the previous publication of the Working Draft
  are detailed in <ns72:a xmlns:ns72="http://www.w3.org/1999/xhtml" href="#revision-log"><ns73:b xmlns:ns73="http://www.w3.org/1999/xhtml">F Revision Log</ns73:b></ns72:a>.</ns71:p><ns74:p xmlns:ns74="http://www.w3.org/1999/xhtml">Please report errors in this document using W3C's
         <ns75:a xmlns:ns75="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/">public Bugzilla system</ns75:a>
         (instructions can be found at
         <ns76:a xmlns:ns76="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2005/04/qt-bugzilla">http://www.w3.org/XML/2005/04/qt-bugzilla</ns76:a>).
         If access to that system is not feasible, you may send your comments
         to the W3C XSLT/XPath/XQuery public comments mailing list,
         <ns77:a xmlns:ns77="http://www.w3.org/1999/xhtml" href="mailto:public-qt-comments@w3.org">public-qt-comments@w3.org</ns77:a>.
         It will be very helpful if you include the string 
         “[SER11]”
         in the subject line of your report, whether made in Bugzilla or in email.
         Please use multiple Bugzilla entries (or, if necessary, multiple email messages)
         if you have more than one comment to make.
         Archives of the comments and responses are available at
         <ns78:a xmlns:ns78="http://www.w3.org/1999/xhtml" href="http://lists.w3.org/Archives/Public/public-qt-comments/">http://lists.w3.org/Archives/Public/public-qt-comments/</ns78:a>. </ns74:p><ns79:p xmlns:ns79="http://www.w3.org/1999/xhtml">Publication as a Working Draft
does not imply endorsement by the W3C Membership. 
This is a draft document and may be updated, replaced or obsoleted
by other documents at any time. 
It is inappropriate to cite this document as other than work in progress.</ns79:p><ns80:p xmlns:ns80="http://www.w3.org/1999/xhtml">This document was produced by groups operating under the
   <ns81:a xmlns:ns81="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Patent-Policy-20040205/">5 February 2004
   W3C Patent Policy</ns81:a>.
   W3C maintains a <ns82:a xmlns:ns82="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2004/01/pp-impl/18797/status#disclosures">public list of any 
   patent disclosures</ns82:a> made in connection with the deliverables of the 
   XML Query Working Group and also maintains a <ns83:a xmlns:ns83="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2004/01/pp-impl/19552/status#disclosures">public list of any patent 
   disclosures</ns83:a> made in connection with the deliverables of the XSL 
   Working Group; those pages also include instructions for
   disclosing a patent.
   An individual who has actual knowledge of a patent which the individual believes
   contains
   <ns84:a xmlns:ns84="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Patent-Policy-20040205/#def-essential">Essential Claim(s)</ns84:a>
   must disclose the information in accordance with
   <ns85:a xmlns:ns85="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Consortium/Patent-Policy-20040205/#sec-Disclosure">section 6 of the W3C Patent Policy</ns85:a>. </ns80:p></ns55:div><ns86:div xmlns:ns86="http://www.w3.org/1999/xhtml" class="toc">
<ns87:h2 xmlns:ns87="http://www.w3.org/1999/xhtml"><ns88:a xmlns:ns88="http://www.w3.org/1999/xhtml" name="contents" id="contents"/>Table of Contents</ns87:h2><ns89:p xmlns:ns89="http://www.w3.org/1999/xhtml" class="toc">1 <ns90:a xmlns:ns90="http://www.w3.org/1999/xhtml" href="#intro">Introduction</ns90:a><ns91:br xmlns:ns91="http://www.w3.org/1999/xhtml"/>
    1.1 <ns92:a xmlns:ns92="http://www.w3.org/1999/xhtml" href="#terminology">Terminology</ns92:a><ns93:br xmlns:ns93="http://www.w3.org/1999/xhtml"/>
2 <ns94:a xmlns:ns94="http://www.w3.org/1999/xhtml" href="#serdm">Sequence Normalization</ns94:a><ns95:br xmlns:ns95="http://www.w3.org/1999/xhtml"/>
3 <ns96:a xmlns:ns96="http://www.w3.org/1999/xhtml" href="#serparam">Serialization Parameters</ns96:a><ns97:br xmlns:ns97="http://www.w3.org/1999/xhtml"/>
    3.1 <ns98:a xmlns:ns98="http://www.w3.org/1999/xhtml" href="#serparams-in-xdm-instance">Setting Serialization Parameters by Means of a Data Model Instance</ns98:a><ns99:br xmlns:ns99="http://www.w3.org/1999/xhtml"/>
4 <ns100:a xmlns:ns100="http://www.w3.org/1999/xhtml" href="#serphases">Phases of Serialization</ns100:a><ns101:br xmlns:ns101="http://www.w3.org/1999/xhtml"/>
5 <ns102:a xmlns:ns102="http://www.w3.org/1999/xhtml" href="#xml-output">XML Output Method</ns102:a><ns103:br xmlns:ns103="http://www.w3.org/1999/xhtml"/>
    5.1 <ns104:a xmlns:ns104="http://www.w3.org/1999/xhtml" href="#XML_PARAMS">The Influence of Serialization Parameters upon the XML Output Method</ns104:a><ns105:br xmlns:ns105="http://www.w3.org/1999/xhtml"/>
        5.1.1 <ns106:a xmlns:ns106="http://www.w3.org/1999/xhtml" href="#XML_VERSION">XML Output Method: the version Parameter</ns106:a><ns107:br xmlns:ns107="http://www.w3.org/1999/xhtml"/>
        5.1.2 <ns108:a xmlns:ns108="http://www.w3.org/1999/xhtml" href="#XML_ENCODING">XML Output Method: the encoding Parameter</ns108:a><ns109:br xmlns:ns109="http://www.w3.org/1999/xhtml"/>
        5.1.3 <ns110:a xmlns:ns110="http://www.w3.org/1999/xhtml" href="#xml-indent">XML Output Method: the indent and suppress-indentation Parameters</ns110:a><ns111:br xmlns:ns111="http://www.w3.org/1999/xhtml"/>
        5.1.4 <ns112:a xmlns:ns112="http://www.w3.org/1999/xhtml" href="#XML_CDATA-SECTION-ELEMENTS">XML Output Method: the cdata-section-elements Parameter</ns112:a><ns113:br xmlns:ns113="http://www.w3.org/1999/xhtml"/>
        5.1.5 <ns114:a xmlns:ns114="http://www.w3.org/1999/xhtml" href="#XML_OMIT-XML-DECLARATION">XML Output Method: the omit-xml-declaration and standalone Parameters</ns114:a><ns115:br xmlns:ns115="http://www.w3.org/1999/xhtml"/>
        5.1.6 <ns116:a xmlns:ns116="http://www.w3.org/1999/xhtml" href="#XML_DOCTYPE">XML Output Method: the doctype-system and doctype-public Parameters</ns116:a><ns117:br xmlns:ns117="http://www.w3.org/1999/xhtml"/>
        5.1.7 <ns118:a xmlns:ns118="http://www.w3.org/1999/xhtml" href="#xml-undeclare-NS">XML Output Method: the undeclare-prefixes Parameter</ns118:a><ns119:br xmlns:ns119="http://www.w3.org/1999/xhtml"/>
        5.1.8 <ns120:a xmlns:ns120="http://www.w3.org/1999/xhtml" href="#XML_NORMALIZATION-FORM">XML Output Method: the normalization-form Parameter</ns120:a><ns121:br xmlns:ns121="http://www.w3.org/1999/xhtml"/>
        5.1.9 <ns122:a xmlns:ns122="http://www.w3.org/1999/xhtml" href="#XML_MEDIA-TYPE">XML Output Method: the media-type Parameter</ns122:a><ns123:br xmlns:ns123="http://www.w3.org/1999/xhtml"/>
        5.1.10 <ns124:a xmlns:ns124="http://www.w3.org/1999/xhtml" href="#XML_USE-CHARACTER-MAPS">XML Output Method: the use-character-maps Parameter</ns124:a><ns125:br xmlns:ns125="http://www.w3.org/1999/xhtml"/>
        5.1.11 <ns126:a xmlns:ns126="http://www.w3.org/1999/xhtml" href="#XML_BYTE-ORDER-MARK">XML Output Method: the byte-order-mark Parameter</ns126:a><ns127:br xmlns:ns127="http://www.w3.org/1999/xhtml"/>
        5.1.12 <ns128:a xmlns:ns128="http://www.w3.org/1999/xhtml" href="#XML_ESCAPE-URI-ATTRIBUTES">XML Output Method: the escape-uri-attributes Parameter</ns128:a><ns129:br xmlns:ns129="http://www.w3.org/1999/xhtml"/>
        5.1.13 <ns130:a xmlns:ns130="http://www.w3.org/1999/xhtml" href="#XML_INCLUDE-CONTENT-TYPE">XML Output Method: the include-content-type Parameter</ns130:a><ns131:br xmlns:ns131="http://www.w3.org/1999/xhtml"/>
6 <ns132:a xmlns:ns132="http://www.w3.org/1999/xhtml" href="#xhtml-output">XHTML Output Method</ns132:a><ns133:br xmlns:ns133="http://www.w3.org/1999/xhtml"/>
    6.1 <ns134:a xmlns:ns134="http://www.w3.org/1999/xhtml" href="#XHTML_PARAMS">The Influence of Serialization Parameters upon the XHTML Output Method</ns134:a><ns135:br xmlns:ns135="http://www.w3.org/1999/xhtml"/>
        6.1.1 <ns136:a xmlns:ns136="http://www.w3.org/1999/xhtml" href="#XHTML_VERSION">XHTML Output Method: the version Parameter</ns136:a><ns137:br xmlns:ns137="http://www.w3.org/1999/xhtml"/>
        6.1.2 <ns138:a xmlns:ns138="http://www.w3.org/1999/xhtml" href="#XHTML_ENCODING">XHTML Output Method: the encoding Parameter</ns138:a><ns139:br xmlns:ns139="http://www.w3.org/1999/xhtml"/>
        6.1.3 <ns140:a xmlns:ns140="http://www.w3.org/1999/xhtml" href="#XHTML_INDENT">XHTML Output Method: the indent and suppress-indentation Parameters</ns140:a><ns141:br xmlns:ns141="http://www.w3.org/1999/xhtml"/>
        6.1.4 <ns142:a xmlns:ns142="http://www.w3.org/1999/xhtml" href="#XHTML_CDATA-SECTION-ELEMENTS">XHTML Output Method: the cdata-section-elements Parameter</ns142:a><ns143:br xmlns:ns143="http://www.w3.org/1999/xhtml"/>
        6.1.5 <ns144:a xmlns:ns144="http://www.w3.org/1999/xhtml" href="#XHTML_OMIT-XML-DECLARATION">XHTML Output Method: the omit-xml-declaration and standalone Parameters</ns144:a><ns145:br xmlns:ns145="http://www.w3.org/1999/xhtml"/>
        6.1.6 <ns146:a xmlns:ns146="http://www.w3.org/1999/xhtml" href="#XHTML_DOCTYPE">XHTML Output Method: the doctype-system and doctype-public Parameters</ns146:a><ns147:br xmlns:ns147="http://www.w3.org/1999/xhtml"/>
        6.1.7 <ns148:a xmlns:ns148="http://www.w3.org/1999/xhtml" href="#XHTML_UNDECLARE-PREFIXES">XHTML Output Method: the undeclare-prefixes Parameter</ns148:a><ns149:br xmlns:ns149="http://www.w3.org/1999/xhtml"/>
        6.1.8 <ns150:a xmlns:ns150="http://www.w3.org/1999/xhtml" href="#XHTML_NORMALIZATION-FORM">XHTML Output Method: the normalization-form Parameter</ns150:a><ns151:br xmlns:ns151="http://www.w3.org/1999/xhtml"/>
        6.1.9 <ns152:a xmlns:ns152="http://www.w3.org/1999/xhtml" href="#XHTML_MEDIA-TYPE">XHTML Output Method: the media-type Parameter</ns152:a><ns153:br xmlns:ns153="http://www.w3.org/1999/xhtml"/>
        6.1.10 <ns154:a xmlns:ns154="http://www.w3.org/1999/xhtml" href="#XHTML_USE-CHARACTER-MAPS">XHTML Output Method: the use-character-maps Parameter</ns154:a><ns155:br xmlns:ns155="http://www.w3.org/1999/xhtml"/>
        6.1.11 <ns156:a xmlns:ns156="http://www.w3.org/1999/xhtml" href="#XHTML_BYTE-ORDER-MARK">XHTML Output Method: the byte-order-mark Parameter</ns156:a><ns157:br xmlns:ns157="http://www.w3.org/1999/xhtml"/>
        6.1.12 <ns158:a xmlns:ns158="http://www.w3.org/1999/xhtml" href="#XHTML_ESCAPE-URI-ATTRIBUTES">XHTML Output Method: the escape-uri-attributes Parameter</ns158:a><ns159:br xmlns:ns159="http://www.w3.org/1999/xhtml"/>
        6.1.13 <ns160:a xmlns:ns160="http://www.w3.org/1999/xhtml" href="#XHTML_INCLUDE-CONTENT-TYPE">XHTML Output Method: the include-content-type Parameter</ns160:a><ns161:br xmlns:ns161="http://www.w3.org/1999/xhtml"/>
7 <ns162:a xmlns:ns162="http://www.w3.org/1999/xhtml" href="#html-output">HTML Output Method</ns162:a><ns163:br xmlns:ns163="http://www.w3.org/1999/xhtml"/>
    7.1 <ns164:a xmlns:ns164="http://www.w3.org/1999/xhtml" href="#HTML_MARKUP">Markup for Elements</ns164:a><ns165:br xmlns:ns165="http://www.w3.org/1999/xhtml"/>
    7.2 <ns166:a xmlns:ns166="http://www.w3.org/1999/xhtml" href="#HTML_ATTRIBS">Writing Attributes</ns166:a><ns167:br xmlns:ns167="http://www.w3.org/1999/xhtml"/>
    7.3 <ns168:a xmlns:ns168="http://www.w3.org/1999/xhtml" href="#HTML_CHARDATA">Writing Character Data</ns168:a><ns169:br xmlns:ns169="http://www.w3.org/1999/xhtml"/>
    7.4 <ns170:a xmlns:ns170="http://www.w3.org/1999/xhtml" href="#HTML_PARAMS">The Influence of Serialization Parameters upon the HTML Output Method</ns170:a><ns171:br xmlns:ns171="http://www.w3.org/1999/xhtml"/>
        7.4.1 <ns172:a xmlns:ns172="http://www.w3.org/1999/xhtml" href="#HTML_VERSION">HTML Output Method: the version Parameter</ns172:a><ns173:br xmlns:ns173="http://www.w3.org/1999/xhtml"/>
        7.4.2 <ns174:a xmlns:ns174="http://www.w3.org/1999/xhtml" href="#HTML_ENCODING">HTML Output Method: the encoding Parameter</ns174:a><ns175:br xmlns:ns175="http://www.w3.org/1999/xhtml"/>
        7.4.3 <ns176:a xmlns:ns176="http://www.w3.org/1999/xhtml" href="#HTML_INDENT">HTML Output Method: the indent and suppress-indentation Parameters</ns176:a><ns177:br xmlns:ns177="http://www.w3.org/1999/xhtml"/>
        7.4.4 <ns178:a xmlns:ns178="http://www.w3.org/1999/xhtml" href="#HTML_CDATA-SECTION-ELEMENTS">HTML Output Method: the cdata-section-elements Parameter</ns178:a><ns179:br xmlns:ns179="http://www.w3.org/1999/xhtml"/>
        7.4.5 <ns180:a xmlns:ns180="http://www.w3.org/1999/xhtml" href="#HTML_OMIT-XML-DECLARATION">HTML Output Method: the omit-xml-declaration and standalone Parameters</ns180:a><ns181:br xmlns:ns181="http://www.w3.org/1999/xhtml"/>
        7.4.6 <ns182:a xmlns:ns182="http://www.w3.org/1999/xhtml" href="#HTML_DOCTYPE">HTML Output Method: the doctype-system and doctype-public Parameters</ns182:a><ns183:br xmlns:ns183="http://www.w3.org/1999/xhtml"/>
        7.4.7 <ns184:a xmlns:ns184="http://www.w3.org/1999/xhtml" href="#HTML_UNDECLARE-PREFIXES">HTML Output Method: the undeclare-prefixes Parameter</ns184:a><ns185:br xmlns:ns185="http://www.w3.org/1999/xhtml"/>
        7.4.8 <ns186:a xmlns:ns186="http://www.w3.org/1999/xhtml" href="#HTML_NORMALIZATION-FORM">HTML Output Method: the normalization-form Parameter</ns186:a><ns187:br xmlns:ns187="http://www.w3.org/1999/xhtml"/>
        7.4.9 <ns188:a xmlns:ns188="http://www.w3.org/1999/xhtml" href="#HTML_MEDIA-TYPE">HTML Output Method: the media-type Parameter</ns188:a><ns189:br xmlns:ns189="http://www.w3.org/1999/xhtml"/>
        7.4.10 <ns190:a xmlns:ns190="http://www.w3.org/1999/xhtml" href="#HTML_USE-CHARACTER-MAPS">HTML Output Method: the use-character-maps Parameter</ns190:a><ns191:br xmlns:ns191="http://www.w3.org/1999/xhtml"/>
        7.4.11 <ns192:a xmlns:ns192="http://www.w3.org/1999/xhtml" href="#HTML_BYTE-ORDER-MARK">HTML Output Method: the byte-order-mark Parameter</ns192:a><ns193:br xmlns:ns193="http://www.w3.org/1999/xhtml"/>
        7.4.12 <ns194:a xmlns:ns194="http://www.w3.org/1999/xhtml" href="#HTML_ESCAPE-URI-ATTRIBUTES">HTML Output Method: the escape-uri-attributes Parameter</ns194:a><ns195:br xmlns:ns195="http://www.w3.org/1999/xhtml"/>
        7.4.13 <ns196:a xmlns:ns196="http://www.w3.org/1999/xhtml" href="#HTML_INCLUDE-CONTENT-TYPE">HTML Output Method: the include-content-type Parameter</ns196:a><ns197:br xmlns:ns197="http://www.w3.org/1999/xhtml"/>
8 <ns198:a xmlns:ns198="http://www.w3.org/1999/xhtml" href="#text-output">Text Output Method</ns198:a><ns199:br xmlns:ns199="http://www.w3.org/1999/xhtml"/>
    8.1 <ns200:a xmlns:ns200="http://www.w3.org/1999/xhtml" href="#TEXT_PARAMS">The Influence of Serialization Parameters upon the Text Output Method</ns200:a><ns201:br xmlns:ns201="http://www.w3.org/1999/xhtml"/>
        8.1.1 <ns202:a xmlns:ns202="http://www.w3.org/1999/xhtml" href="#TEXT_VERSION">Text Output Method: the version Parameter</ns202:a><ns203:br xmlns:ns203="http://www.w3.org/1999/xhtml"/>
        8.1.2 <ns204:a xmlns:ns204="http://www.w3.org/1999/xhtml" href="#TEXT_ENCODING">Text Output Method: the encoding Parameter</ns204:a><ns205:br xmlns:ns205="http://www.w3.org/1999/xhtml"/>
        8.1.3 <ns206:a xmlns:ns206="http://www.w3.org/1999/xhtml" href="#TEXT_INDENT">Text Output Method: the indent and suppress-indentation Parameters</ns206:a><ns207:br xmlns:ns207="http://www.w3.org/1999/xhtml"/>
        8.1.4 <ns208:a xmlns:ns208="http://www.w3.org/1999/xhtml" href="#TEXT_CDATA-SECTION-ELEMENTS">Text Output Method: the cdata-section-elements Parameter</ns208:a><ns209:br xmlns:ns209="http://www.w3.org/1999/xhtml"/>
        8.1.5 <ns210:a xmlns:ns210="http://www.w3.org/1999/xhtml" href="#TEXT_OMIT-XML-DECLARATION">Text Output Method: the omit-xml-declaration and standalone Parameters</ns210:a><ns211:br xmlns:ns211="http://www.w3.org/1999/xhtml"/>
        8.1.6 <ns212:a xmlns:ns212="http://www.w3.org/1999/xhtml" href="#TEXT_DOCTYPE">Text Output Method: the doctype-system and doctype-public Parameters</ns212:a><ns213:br xmlns:ns213="http://www.w3.org/1999/xhtml"/>
        8.1.7 <ns214:a xmlns:ns214="http://www.w3.org/1999/xhtml" href="#TEXT_UNDECLARE-PREFIXES">Text Output Method: the undeclare-prefixes Parameter</ns214:a><ns215:br xmlns:ns215="http://www.w3.org/1999/xhtml"/>
        8.1.8 <ns216:a xmlns:ns216="http://www.w3.org/1999/xhtml" href="#TEXT_NORMALIZATION-FORM">Text Output Method: the normalization-form Parameter</ns216:a><ns217:br xmlns:ns217="http://www.w3.org/1999/xhtml"/>
        8.1.9 <ns218:a xmlns:ns218="http://www.w3.org/1999/xhtml" href="#TEXT_MEDIA-TYPE">Text Output Method: the media-type Parameter</ns218:a><ns219:br xmlns:ns219="http://www.w3.org/1999/xhtml"/>
        8.1.10 <ns220:a xmlns:ns220="http://www.w3.org/1999/xhtml" href="#TEXT_USE-CHARACTER-MAPS">Text Output Method: the use-character-maps Parameter</ns220:a><ns221:br xmlns:ns221="http://www.w3.org/1999/xhtml"/>
        8.1.11 <ns222:a xmlns:ns222="http://www.w3.org/1999/xhtml" href="#TEXT_BYTE-ORDER-MARK">Text Output Method: the byte-order-mark Parameter</ns222:a><ns223:br xmlns:ns223="http://www.w3.org/1999/xhtml"/>
        8.1.12 <ns224:a xmlns:ns224="http://www.w3.org/1999/xhtml" href="#TEXT_ESCAPE-URI-ATTRIBUTES">Text Output Method: the escape-uri-attributes Parameter</ns224:a><ns225:br xmlns:ns225="http://www.w3.org/1999/xhtml"/>
        8.1.13 <ns226:a xmlns:ns226="http://www.w3.org/1999/xhtml" href="#TEXT_INCLUDE-CONTENT-TYPE">Text Output Method: the include-content-type Parameter</ns226:a><ns227:br xmlns:ns227="http://www.w3.org/1999/xhtml"/>
9 <ns228:a xmlns:ns228="http://www.w3.org/1999/xhtml" href="#character-maps">Character Maps</ns228:a><ns229:br xmlns:ns229="http://www.w3.org/1999/xhtml"/>
10 <ns230:a xmlns:ns230="http://www.w3.org/1999/xhtml" href="#conformance">Conformance</ns230:a><ns231:br xmlns:ns231="http://www.w3.org/1999/xhtml"/>
</ns89:p>
<ns232:h3 xmlns:ns232="http://www.w3.org/1999/xhtml"><ns233:a xmlns:ns233="http://www.w3.org/1999/xhtml" name="appendices" id="appendices"/>Appendices</ns232:h3><ns234:p xmlns:ns234="http://www.w3.org/1999/xhtml" class="toc">A <ns235:a xmlns:ns235="http://www.w3.org/1999/xhtml" href="#references">References</ns235:a><ns236:br xmlns:ns236="http://www.w3.org/1999/xhtml"/>
    A.1 <ns237:a xmlns:ns237="http://www.w3.org/1999/xhtml" href="#normative-references">Normative References</ns237:a><ns238:br xmlns:ns238="http://www.w3.org/1999/xhtml"/>
    A.2 <ns239:a xmlns:ns239="http://www.w3.org/1999/xhtml" href="#informative-references">Informative References</ns239:a><ns240:br xmlns:ns240="http://www.w3.org/1999/xhtml"/>
B <ns241:a xmlns:ns241="http://www.w3.org/1999/xhtml" href="#serparams-schema">Schema for Serialization Parameters</ns241:a><ns242:br xmlns:ns242="http://www.w3.org/1999/xhtml"/>
C <ns243:a xmlns:ns243="http://www.w3.org/1999/xhtml" href="#id-errors">Summary of Error Conditions</ns243:a><ns244:br xmlns:ns244="http://www.w3.org/1999/xhtml"/>
D <ns245:a xmlns:ns245="http://www.w3.org/1999/xhtml" href="#list-of-uri-attributes">List of URI Attributes</ns245:a><ns246:br xmlns:ns246="http://www.w3.org/1999/xhtml"/>
E <ns247:a xmlns:ns247="http://www.w3.org/1999/xhtml" href="#implementation-defined-features">Checklist of Implementation-Defined Features</ns247:a> (Non-Normative)<ns248:br xmlns:ns248="http://www.w3.org/1999/xhtml"/>
F <ns249:a xmlns:ns249="http://www.w3.org/1999/xhtml" href="#revision-log">Revision Log</ns249:a> (Non-Normative)<ns250:br xmlns:ns250="http://www.w3.org/1999/xhtml"/>
    F.1 <ns251:a xmlns:ns251="http://www.w3.org/1999/xhtml" href="#changes-since-2ed">Changes since XSLT 2.0 and XQuery 1.0 Serialization (Second Edition)</ns251:a><ns252:br xmlns:ns252="http://www.w3.org/1999/xhtml"/>
        F.1.1 <ns253:a xmlns:ns253="http://www.w3.org/1999/xhtml" href="#changes-for-1st-WD">Changes applied for the first Public Working Draft</ns253:a><ns254:br xmlns:ns254="http://www.w3.org/1999/xhtml"/>
        F.1.2 <ns255:a xmlns:ns255="http://www.w3.org/1999/xhtml" href="#changes-for-2nd-WD">Changes applied for the second Public Working Draft</ns255:a><ns256:br xmlns:ns256="http://www.w3.org/1999/xhtml"/>
    F.2 <ns257:a xmlns:ns257="http://www.w3.org/1999/xhtml" href="#changes-since-1ed">Changes incorporated in the Second Edition</ns257:a><ns258:br xmlns:ns258="http://www.w3.org/1999/xhtml"/>
</ns234:p></ns86:div><ns259:hr xmlns:ns259="http://www.w3.org/1999/xhtml"/><ns260:div xmlns:ns260="http://www.w3.org/1999/xhtml" class="body"><ns261:div xmlns:ns261="http://www.w3.org/1999/xhtml" class="div1">
<ns262:h2 xmlns:ns262="http://www.w3.org/1999/xhtml"><ns263:a xmlns:ns263="http://www.w3.org/1999/xhtml" name="intro" id="intro"/>1 Introduction</ns262:h2><ns264:p xmlns:ns264="http://www.w3.org/1999/xhtml">This document defines serialization of the W3C XQuery
 and XPath
 Data Model
<ns265:span xmlns:ns265="http://www.w3.org/1999/xhtml">1.1</ns265:span> (XDM),
which is the data model of at least <ns266:a xmlns:ns266="http://www.w3.org/1999/xhtml" href="#xpath-21">[XML Path Language (XPath) 2.1]</ns266:a>,
<ns267:a xmlns:ns267="http://www.w3.org/1999/xhtml" href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</ns267:a>, and
<ns268:a xmlns:ns268="http://www.w3.org/1999/xhtml" href="#xquery-11">[XQuery 1.1: An XML Query Language]</ns268:a>, and any other specifications that reference it.</ns264:p><ns269:p xmlns:ns269="http://www.w3.org/1999/xhtml">In this document, examples and material labeled as "Note" are provided for
explanatory purposes and are not normative. </ns269:p><ns270:p xmlns:ns270="http://www.w3.org/1999/xhtml">Serialization is the process of converting an instance of the
<ns271:a xmlns:ns271="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns271:a> into a sequence of octets. Serialization is
well-defined for most data model instances.</ns270:p><ns272:div xmlns:ns272="http://www.w3.org/1999/xhtml" class="div2">
<ns273:h3 xmlns:ns273="http://www.w3.org/1999/xhtml"><ns274:a xmlns:ns274="http://www.w3.org/1999/xhtml" name="terminology" id="terminology"/>1.1 Terminology</ns273:h3><ns275:p xmlns:ns275="http://www.w3.org/1999/xhtml">In this specification,
where they appear in upper case,
the words "MUST", "MUST NOT",
"SHOULD", "SHOULD NOT", "MAY", "REQUIRED", and
"RECOMMENDED" are to be interpreted as described in
<ns276:a xmlns:ns276="http://www.w3.org/1999/xhtml" href="#RFC2119">[RFC2119]</ns276:a>.</ns275:p><ns277:p xmlns:ns277="http://www.w3.org/1999/xhtml">[<ns278:a xmlns:ns278="http://www.w3.org/1999/xhtml" name="serializer" id="serializer" title="serializer">Definition</ns278:a>: As is indicated in
<ns279:a xmlns:ns279="http://www.w3.org/1999/xhtml" href="#conformance"><ns280:b xmlns:ns280="http://www.w3.org/1999/xhtml">10 Conformance</ns280:b></ns279:a>, conformance criteria for serialization
are determined by other specifications that refer to this specification.
A <ns281:b xmlns:ns281="http://www.w3.org/1999/xhtml">serializer</ns281:b> is software that implements some or all of the
requirements of this specification in accordance with such conformance
criteria.]  A serializer is not <ns282:strong xmlns:ns282="http://www.w3.org/1999/xhtml">REQUIRED</ns282:strong> to directly provide a
programming interface that permits a user to set serialization parameters
or to provide an input sequence for serialization.
<ns283:span xmlns:ns283="http://www.w3.org/1999/xhtml">  In this document, material labeled
as "Note" and examples are provided for explanatory purposes and are not
normative.</ns283:span>
      </ns277:p><ns284:p xmlns:ns284="http://www.w3.org/1999/xhtml">Certain aspects of serialization are described in this specification as <ns285:a xmlns:ns285="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns285:a> or <ns286:a xmlns:ns286="http://www.w3.org/1999/xhtml" title="implementation-dependent" href="#impdep">implementation-dependent</ns286:a>.</ns284:p><ns287:p xmlns:ns287="http://www.w3.org/1999/xhtml">
[<ns288:a xmlns:ns288="http://www.w3.org/1999/xhtml" name="impdef" id="impdef" title="implementation-defined">Definition</ns288:a>: <ns289:b xmlns:ns289="http://www.w3.org/1999/xhtml">Implementation-defined</ns289:b> indicates an
aspect that <ns290:strong xmlns:ns290="http://www.w3.org/1999/xhtml">MAY</ns290:strong> differ between
<ns291:a xmlns:ns291="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializers</ns291:a>, but whose actual
behavior <ns292:strong xmlns:ns292="http://www.w3.org/1999/xhtml">MUST</ns292:strong> be specified either by another specification that sets
conformance criteria for serialization (see <ns293:a xmlns:ns293="http://www.w3.org/1999/xhtml" href="#conformance"><ns294:b xmlns:ns294="http://www.w3.org/1999/xhtml">10 Conformance</ns294:b></ns293:a>)
or in documentation that accompanies the
<ns295:a xmlns:ns295="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns295:a>.]</ns287:p><ns296:p xmlns:ns296="http://www.w3.org/1999/xhtml">
[<ns297:a xmlns:ns297="http://www.w3.org/1999/xhtml" name="impdep" id="impdep" title="implementation-dependent">Definition</ns297:a>: <ns298:b xmlns:ns298="http://www.w3.org/1999/xhtml">Implementation-dependent</ns298:b> indicates an
aspect that <ns299:strong xmlns:ns299="http://www.w3.org/1999/xhtml">MAY</ns299:strong> differ between
<ns300:a xmlns:ns300="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializers</ns300:a>, and whose actual
behavior is not <ns301:strong xmlns:ns301="http://www.w3.org/1999/xhtml">REQUIRED</ns301:strong>  to be specified either by another specification
that sets conformance criteria for serialization (see
<ns302:a xmlns:ns302="http://www.w3.org/1999/xhtml" href="#conformance"><ns303:b xmlns:ns303="http://www.w3.org/1999/xhtml">10 Conformance</ns303:b></ns302:a>) or in documentation that accompanies the
<ns304:a xmlns:ns304="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns304:a>.]</ns296:p><ns305:p xmlns:ns305="http://www.w3.org/1999/xhtml">
[<ns306:a xmlns:ns306="http://www.w3.org/1999/xhtml" name="serial-err" id="serial-err" title="serialization error">Definition</ns306:a>: In some instances, the
sequence that is input to serialization cannot be successfully converted
into a sequence of octets given the set of serialization parameter
(<ns307:a xmlns:ns307="http://www.w3.org/1999/xhtml" href="#serparam"><ns308:b xmlns:ns308="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns308:b></ns307:a>) values specified.  A
<ns309:b xmlns:ns309="http://www.w3.org/1999/xhtml">serialization error</ns309:b> is said to occur in such an instance.]
In some cases, a <ns310:a xmlns:ns310="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns310:a> is
<ns311:strong xmlns:ns311="http://www.w3.org/1999/xhtml">REQUIRED</ns311:strong>  to signal such an error.
What it means to signal a serialization error is determined by the
relevant conformance criteria (<ns312:a xmlns:ns312="http://www.w3.org/1999/xhtml" href="#conformance"><ns313:b xmlns:ns313="http://www.w3.org/1999/xhtml">10 Conformance</ns313:b></ns312:a>) to which
the <ns314:a xmlns:ns314="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns314:a> conforms.  In other cases,
there is an <ns315:a xmlns:ns315="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns315:a> choice
between signaling a serialization error and performing a recovery action.
Such a recovery action will allow a
<ns316:a xmlns:ns316="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns316:a> to produce a sequence of
octets that might not fully reflect the usual requirements of the
parameter settings that are in effect.
</ns305:p><ns317:p xmlns:ns317="http://www.w3.org/1999/xhtml">
[<ns318:a xmlns:ns318="http://www.w3.org/1999/xhtml" name="caseless-compare" id="caseless-compare" title="without regard to case">Definition</ns318:a>: 
Where this specification indicates that two strings are to be
compared <ns319:b xmlns:ns319="http://www.w3.org/1999/xhtml">without regard to case</ns319:b>, the serializer
<ns320:strong xmlns:ns320="http://www.w3.org/1999/xhtml">MUST</ns320:strong> translate any characters in the range
#x41 (LATIN CAPITAL LETTER A) to #x5A (LATIN CAPITAL LETTER Z),
inclusive, to the corresponding lower-case letters in the range
#x61 (LATIN SMALL LETTER A) to #x7A (LATIN SMALL LETTER Z) only
for the purposes of making the comparison.  The comparison
succeeds if the two strings are the same length and the code
point of each character in the first string is equal to the
code point of the character in the corresponding position in
the second string.]
</ns317:p><ns321:p xmlns:ns321="http://www.w3.org/1999/xhtml">Many terms used in this document are defined in the XPath specification 
<ns322:a xmlns:ns322="http://www.w3.org/1999/xhtml" href="#xpath-21">[XML Path Language (XPath) 2.1]</ns322:a> or the Data Model specification <ns323:a xmlns:ns323="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns323:a>. Particular
attention is drawn to the following:</ns321:p><ns324:ul xmlns:ns324="http://www.w3.org/1999/xhtml"><ns325:li xmlns:ns325="http://www.w3.org/1999/xhtml"><ns326:p xmlns:ns326="http://www.w3.org/1999/xhtml">[<ns327:a xmlns:ns327="http://www.w3.org/1999/xhtml" name="dt-atomization" id="dt-atomization" title="atomize">Definition</ns327:a>: The term <ns328:b xmlns:ns328="http://www.w3.org/1999/xhtml">atomization</ns328:b> is defined
in <ns329:a xmlns:ns329="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/#id-atomization">Section 
2.4.2 Atomization</ns329:a><ns330:sup xmlns:ns330="http://www.w3.org/1999/xhtml"><ns331:small xmlns:ns331="http://www.w3.org/1999/xhtml">XP21</ns331:small></ns330:sup>. It is a process that takes as input a sequence of <ns332:a xmlns:ns332="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns332:a> and <ns333:a xmlns:ns333="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/#dt-atomic-value">atomic values</ns333:a><ns334:sup xmlns:ns334="http://www.w3.org/1999/xhtml"><ns335:small xmlns:ns335="http://www.w3.org/1999/xhtml">XP21</ns335:small></ns334:sup>, and
returns a sequence of <ns336:a xmlns:ns336="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/#dt-atomic-value">atomic values</ns336:a><ns337:sup xmlns:ns337="http://www.w3.org/1999/xhtml"><ns338:small xmlns:ns338="http://www.w3.org/1999/xhtml">XP21</ns338:small></ns337:sup>, in which the <ns339:a xmlns:ns339="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns339:a> are replaced by their <ns340:a xmlns:ns340="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/#dt-typed-value">typed values</ns340:a><ns341:sup xmlns:ns341="http://www.w3.org/1999/xhtml"><ns342:small xmlns:ns342="http://www.w3.org/1999/xhtml">XP21</ns342:small></ns341:sup> as defined in
<ns343:a xmlns:ns343="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns343:a>.]</ns326:p></ns325:li><ns344:li xmlns:ns344="http://www.w3.org/1999/xhtml"><ns345:p xmlns:ns345="http://www.w3.org/1999/xhtml">[<ns346:a xmlns:ns346="http://www.w3.org/1999/xhtml" name="dt-node" id="dt-node" title="node">Definition</ns346:a>: The term <ns347:b xmlns:ns347="http://www.w3.org/1999/xhtml">Node</ns347:b>
is defined as part of   <ns348:a xmlns:ns348="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/#Node">Section 
6 Nodes</ns348:a><ns349:sup xmlns:ns349="http://www.w3.org/1999/xhtml"><ns350:small xmlns:ns350="http://www.w3.org/1999/xhtml">DM11</ns350:small></ns349:sup>. 
There are seven kinds of <ns351:a xmlns:ns351="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns351:a> in the data model: document, element, attribute, text, namespace, processing instruction, and comment.]</ns345:p></ns344:li><ns352:li xmlns:ns352="http://www.w3.org/1999/xhtml"><ns353:p xmlns:ns353="http://www.w3.org/1999/xhtml">[<ns354:a xmlns:ns354="http://www.w3.org/1999/xhtml" name="dt-sequence" id="dt-sequence" title="sequence">Definition</ns354:a>: The term <ns355:b xmlns:ns355="http://www.w3.org/1999/xhtml">sequence</ns355:b>
is defined in <ns356:a xmlns:ns356="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/#id-basics">Section 
2      Basics</ns356:a><ns357:sup xmlns:ns357="http://www.w3.org/1999/xhtml"><ns358:small xmlns:ns358="http://www.w3.org/1999/xhtml">XP21</ns358:small></ns357:sup>. 
A <ns359:a xmlns:ns359="http://www.w3.org/1999/xhtml" title="sequence" href="#dt-sequence">sequence</ns359:a> is an ordered collection of zero or more items.]</ns353:p></ns352:li><ns360:li xmlns:ns360="http://www.w3.org/1999/xhtml"><ns361:p xmlns:ns361="http://www.w3.org/1999/xhtml">[<ns362:a xmlns:ns362="http://www.w3.org/1999/xhtml" name="dt-function-item" id="dt-function-item" title="function item">Definition</ns362:a>: The term
<ns363:b xmlns:ns363="http://www.w3.org/1999/xhtml">function item</ns363:b> is defined in
<ns364:a xmlns:ns364="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/#function-items">Section 
2.7 Function Items</ns364:a><ns365:sup xmlns:ns365="http://www.w3.org/1999/xhtml"><ns366:small xmlns:ns366="http://www.w3.org/1999/xhtml">DM11</ns366:small></ns365:sup>.]</ns361:p></ns360:li><ns367:li xmlns:ns367="http://www.w3.org/1999/xhtml"><ns368:p xmlns:ns368="http://www.w3.org/1999/xhtml">[<ns369:a xmlns:ns369="http://www.w3.org/1999/xhtml" name="dt-string-value" id="dt-string-value" title="string value">Definition</ns369:a>: The term <ns370:b xmlns:ns370="http://www.w3.org/1999/xhtml">string value</ns370:b>
is defined in <ns371:a xmlns:ns371="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/#dm-string-value">Section 
5.13 string-value Accessor</ns371:a><ns372:sup xmlns:ns372="http://www.w3.org/1999/xhtml"><ns373:small xmlns:ns373="http://www.w3.org/1999/xhtml">DM11</ns373:small></ns372:sup>. 
Every <ns374:a xmlns:ns374="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns374:a> has a <ns375:a xmlns:ns375="http://www.w3.org/1999/xhtml" title="string value" href="#dt-string-value">string value</ns375:a>. For example, the <ns376:a xmlns:ns376="http://www.w3.org/1999/xhtml" title="string value" href="#dt-string-value">string value</ns376:a>
of an element is the concatenation of the <ns377:a xmlns:ns377="http://www.w3.org/1999/xhtml" title="string value" href="#dt-string-value">string values</ns377:a> of all its descendant text <ns378:a xmlns:ns378="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns378:a>.]</ns368:p></ns367:li><ns379:li xmlns:ns379="http://www.w3.org/1999/xhtml"><ns380:p xmlns:ns380="http://www.w3.org/1999/xhtml">[<ns381:a xmlns:ns381="http://www.w3.org/1999/xhtml" name="dt-expanded-qname" id="dt-expanded-qname" title="expanded QName">Definition</ns381:a>: The term <ns382:b xmlns:ns382="http://www.w3.org/1999/xhtml">expanded QName</ns382:b>
is defined in <ns383:a xmlns:ns383="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/#id-basics">Section 
2      Basics</ns383:a><ns384:sup xmlns:ns384="http://www.w3.org/1999/xhtml"><ns385:small xmlns:ns385="http://www.w3.org/1999/xhtml">XP21</ns385:small></ns384:sup>. 
An <ns386:a xmlns:ns386="http://www.w3.org/1999/xhtml" title="expanded QName" href="#dt-expanded-qname">expanded QName</ns386:a> consists of an optional namespace URI and a local name. An <ns387:a xmlns:ns387="http://www.w3.org/1999/xhtml" title="expanded QName" href="#dt-expanded-qname">expanded QName</ns387:a> also retains its original namespace prefix (if any), to facilitate casting the expanded QName into a string.]</ns380:p></ns379:li><ns388:li xmlns:ns388="http://www.w3.org/1999/xhtml"><ns389:p xmlns:ns389="http://www.w3.org/1999/xhtml">[<ns390:a xmlns:ns390="http://www.w3.org/1999/xhtml" name="null-namespace-URI" id="null-namespace-URI" title="null namespace URI">Definition</ns390:a>: An element or attribute that is in no namespace, or an <ns391:a xmlns:ns391="http://www.w3.org/1999/xhtml" title="expanded QName" href="#dt-expanded-qname">expanded-QName</ns391:a> whose namespace part is an empty sequence, is referred to as having a <ns392:b xmlns:ns392="http://www.w3.org/1999/xhtml">null namespace URI</ns392:b>].</ns389:p></ns388:li><ns393:li xmlns:ns393="http://www.w3.org/1999/xhtml"><ns394:p xmlns:ns394="http://www.w3.org/1999/xhtml">[<ns395:a xmlns:ns395="http://www.w3.org/1999/xhtml" name="non-null-namespace-URI" id="non-null-namespace-URI" title="non-null namespace URI">Definition</ns395:a>: An element or attribute that does not have a <ns396:a xmlns:ns396="http://www.w3.org/1999/xhtml" title="null namespace URI" href="#null-namespace-URI">null namespace URI</ns396:a>, is referred to as having a <ns397:b xmlns:ns397="http://www.w3.org/1999/xhtml">non-null namespace URI</ns397:b>].</ns394:p></ns393:li></ns324:ul></ns272:div></ns261:div><ns398:div xmlns:ns398="http://www.w3.org/1999/xhtml" class="div1">
<ns399:h2 xmlns:ns399="http://www.w3.org/1999/xhtml"><ns400:a xmlns:ns400="http://www.w3.org/1999/xhtml" name="serdm" id="serdm"/>2 Sequence Normalization</ns399:h2><ns401:p xmlns:ns401="http://www.w3.org/1999/xhtml">An instance of the data model that is input to the serialization
process is a sequence.
Prior to serializing a sequence using any of
the output methods whose behavior is specified by this document
(<ns402:a xmlns:ns402="http://www.w3.org/1999/xhtml" href="#serparam"><ns403:b xmlns:ns403="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns403:b></ns402:a>), 
the <ns404:a xmlns:ns404="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns404:a> <ns405:strong xmlns:ns405="http://www.w3.org/1999/xhtml">MUST</ns405:strong> first
compute a normalized sequence for serialization; it
is the normalized sequence that is actually serialized.
[<ns406:a xmlns:ns406="http://www.w3.org/1999/xhtml" name="sequence-normalization" id="sequence-normalization" title="sequence normalization">Definition</ns406:a>: The purpose of <ns407:b xmlns:ns407="http://www.w3.org/1999/xhtml">sequence normalization</ns407:b> is
to create a sequence that can be serialized as a
well-formed XML document or external general parsed entity, that
also reflects the content of the input sequence to the extent possible.]
[<ns408:a xmlns:ns408="http://www.w3.org/1999/xhtml" name="result-tree" id="result-tree" title="result tree">Definition</ns408:a>: The result of the <ns409:a xmlns:ns409="http://www.w3.org/1999/xhtml" title="sequence normalization" href="#sequence-normalization">sequence normalization</ns409:a> process is a <ns410:b xmlns:ns410="http://www.w3.org/1999/xhtml">result tree</ns410:b>.]</ns401:p><ns411:p xmlns:ns411="http://www.w3.org/1999/xhtml">The normalized sequence for serialization is constructed by applying all
of the following rules in order, with the initial sequence being
input to the first step, and the sequence that results from any
step being used as input to the subsequent step.
For any <ns412:a xmlns:ns412="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns412:a>
output method, it is <ns413:a xmlns:ns413="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns413:a>
whether this sequence normalization process takes place.</ns411:p><ns414:p xmlns:ns414="http://www.w3.org/1999/xhtml">Where the process of converting the input sequence
to a normalized sequence indicates that a value <ns415:strong xmlns:ns415="http://www.w3.org/1999/xhtml">MUST</ns415:strong> be cast to
<ns416:code xmlns:ns416="http://www.w3.org/1999/xhtml">xs:string</ns416:code>, that operation is
defined in <ns417:a xmlns:ns417="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#casting-to-string">Section 
18.1.2 Casting to xs:string and xs:untypedAtomic</ns417:a><ns418:sup xmlns:ns418="http://www.w3.org/1999/xhtml"><ns419:small xmlns:ns419="http://www.w3.org/1999/xhtml">FO11</ns419:small></ns418:sup> of
<ns420:a xmlns:ns420="http://www.w3.org/1999/xhtml" href="#xpath-functions-11">[XQuery and XPath Functions and Operators 1.1]</ns420:a>.
<ns421:span xmlns:ns421="http://www.w3.org/1999/xhtml">Where a
step in the sequence normalization process indicates that a node should be
copied, the copy is performed in the same way as an XSLT
<ns422:code xmlns:ns422="http://www.w3.org/1999/xhtml">xsl:copy-of</ns422:code> instruction that has a
<ns423:code xmlns:ns423="http://www.w3.org/1999/xhtml">validation</ns423:code> attribute whose value is
<ns424:code xmlns:ns424="http://www.w3.org/1999/xhtml">preserve</ns424:code> and has a
<ns425:code xmlns:ns425="http://www.w3.org/1999/xhtml">select</ns425:code> attribute whose effective value is the
node, as described in <ns426:a xmlns:ns426="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xslt-21/#copy-of">Section 
11.9.2 Deep Copy</ns426:a><ns427:sup xmlns:ns427="http://www.w3.org/1999/xhtml"><ns428:small xmlns:ns428="http://www.w3.org/1999/xhtml">XT21</ns428:small></ns427:sup>
of <ns429:a xmlns:ns429="http://www.w3.org/1999/xhtml" href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</ns429:a>,
or equivalently in the same way as an XQuery
content expression as described in Step 1e of
<ns430:a xmlns:ns430="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xquery-11/#id-content">Section 
3.8.1.3 Content</ns430:a><ns431:sup xmlns:ns431="http://www.w3.org/1999/xhtml"><ns432:small xmlns:ns432="http://www.w3.org/1999/xhtml">XQ11</ns432:small></ns431:sup>
of <ns433:a xmlns:ns433="http://www.w3.org/1999/xhtml" href="#xquery-11">[XQuery 1.1: An XML Query Language]</ns433:a>, where the construction mode is
<ns434:code xmlns:ns434="http://www.w3.org/1999/xhtml">preserve</ns434:code>.
</ns421:span>
The steps in computing the normalized sequence are:
</ns414:p><ns435:ol xmlns:ns435="http://www.w3.org/1999/xhtml" class="enumar"><ns436:li xmlns:ns436="http://www.w3.org/1999/xhtml"><ns437:p xmlns:ns437="http://www.w3.org/1999/xhtml">If the sequence that is input to serialization is
empty, create a sequence <ns438:em xmlns:ns438="http://www.w3.org/1999/xhtml">S<ns439:sub xmlns:ns439="http://www.w3.org/1999/xhtml">1</ns439:sub></ns438:em> that consists of a
zero-length string.  Otherwise, copy each item in the sequence that is
input to serialization to create the new sequence <ns440:em xmlns:ns440="http://www.w3.org/1999/xhtml">S<ns441:sub xmlns:ns441="http://www.w3.org/1999/xhtml">1</ns441:sub></ns440:em>.</ns437:p></ns436:li><ns442:li xmlns:ns442="http://www.w3.org/1999/xhtml"><ns443:p xmlns:ns443="http://www.w3.org/1999/xhtml">For each item in <ns444:em xmlns:ns444="http://www.w3.org/1999/xhtml">S<ns445:sub xmlns:ns445="http://www.w3.org/1999/xhtml">1</ns445:sub></ns444:em>, if the item is atomic, obtain the 
lexical representation of the item by casting it to an <ns446:code xmlns:ns446="http://www.w3.org/1999/xhtml">xs:string</ns446:code>
and copy the string representation to the new sequence; otherwise, copy the
item, which will be a <ns447:a xmlns:ns447="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns447:a>, to the new sequence.
The new sequence is <ns448:em xmlns:ns448="http://www.w3.org/1999/xhtml">S<ns449:sub xmlns:ns449="http://www.w3.org/1999/xhtml">2</ns449:sub></ns448:em>.</ns443:p></ns442:li><ns450:li xmlns:ns450="http://www.w3.org/1999/xhtml"><ns451:p xmlns:ns451="http://www.w3.org/1999/xhtml">For each subsequence of adjacent strings in <ns452:em xmlns:ns452="http://www.w3.org/1999/xhtml">S<ns453:sub xmlns:ns453="http://www.w3.org/1999/xhtml">2</ns453:sub></ns452:em>,
copy a single string to the new sequence equal to the values of the
strings in the subsequence concatenated in order, each separated by a
single space.  Copy all other items to the new sequence.  The new
sequence is <ns454:em xmlns:ns454="http://www.w3.org/1999/xhtml">S<ns455:sub xmlns:ns455="http://www.w3.org/1999/xhtml">3</ns455:sub></ns454:em>.</ns451:p></ns450:li><ns456:li xmlns:ns456="http://www.w3.org/1999/xhtml"><ns457:p xmlns:ns457="http://www.w3.org/1999/xhtml">For each item in <ns458:em xmlns:ns458="http://www.w3.org/1999/xhtml">S<ns459:sub xmlns:ns459="http://www.w3.org/1999/xhtml">3</ns459:sub></ns458:em>, if the item is a string,
create a text <ns460:a xmlns:ns460="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns460:a> in the new sequence whose <ns461:a xmlns:ns461="http://www.w3.org/1999/xhtml" title="string value" href="#dt-string-value">string value</ns461:a> is equal to
the string; otherwise, copy the item to the new sequence.  The new
sequence is <ns462:em xmlns:ns462="http://www.w3.org/1999/xhtml">S<ns463:sub xmlns:ns463="http://www.w3.org/1999/xhtml">4</ns463:sub></ns462:em>.</ns457:p></ns456:li><ns464:li xmlns:ns464="http://www.w3.org/1999/xhtml"><ns465:p xmlns:ns465="http://www.w3.org/1999/xhtml">For each item in <ns466:em xmlns:ns466="http://www.w3.org/1999/xhtml">S<ns467:sub xmlns:ns467="http://www.w3.org/1999/xhtml">4</ns467:sub></ns466:em>, if the item is a document <ns468:a xmlns:ns468="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns468:a>,
copy its children to the new sequence; otherwise, copy the item to the new 
sequence.  The new sequence is <ns469:em xmlns:ns469="http://www.w3.org/1999/xhtml">S<ns470:sub xmlns:ns470="http://www.w3.org/1999/xhtml">5</ns470:sub></ns469:em>.</ns465:p></ns464:li><ns471:li xmlns:ns471="http://www.w3.org/1999/xhtml"><ns472:p xmlns:ns472="http://www.w3.org/1999/xhtml">For each subsequence of adjacent text nodes in <ns473:em xmlns:ns473="http://www.w3.org/1999/xhtml">S<ns474:sub xmlns:ns474="http://www.w3.org/1999/xhtml">5</ns474:sub></ns473:em>, copy a single text node to the new sequence equal to the values of the text nodes in the subsequence concatenated in order.  Any text nodes with values of zero length are dropped.  Copy all other items to the new sequence. The new sequence is <ns475:em xmlns:ns475="http://www.w3.org/1999/xhtml">S<ns476:sub xmlns:ns476="http://www.w3.org/1999/xhtml">6</ns476:sub></ns475:em>.</ns472:p></ns471:li><ns477:li xmlns:ns477="http://www.w3.org/1999/xhtml"><ns478:p xmlns:ns478="http://www.w3.org/1999/xhtml">It is a <ns479:a xmlns:ns479="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns479:a> [<ns480:a xmlns:ns480="http://www.w3.org/1999/xhtml" href="#ERRSENR0001" title="err:SENR0001">err:SENR0001</ns480:a>] if an item in <ns481:em xmlns:ns481="http://www.w3.org/1999/xhtml">S<ns482:sub xmlns:ns482="http://www.w3.org/1999/xhtml">6</ns482:sub></ns481:em> is an
attribute <ns483:a xmlns:ns483="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns483:a>,
a namespace <ns484:a xmlns:ns484="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns484:a>
<ns485:span xmlns:ns485="http://www.w3.org/1999/xhtml">or a
<ns486:a xmlns:ns486="http://www.w3.org/1999/xhtml" title="function item" href="#dt-function-item">function item</ns486:a>.</ns485:span>
Otherwise, construct a new sequence,
<ns487:em xmlns:ns487="http://www.w3.org/1999/xhtml">S<ns488:sub xmlns:ns488="http://www.w3.org/1999/xhtml">7</ns488:sub></ns487:em>, that consists of a single document <ns489:a xmlns:ns489="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns489:a> and
copy all the items in the sequence, which are all <ns490:a xmlns:ns490="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns490:a>, as children of
that document <ns491:a xmlns:ns491="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns491:a>.</ns478:p></ns477:li></ns435:ol><ns492:p xmlns:ns492="http://www.w3.org/1999/xhtml"><ns493:em xmlns:ns493="http://www.w3.org/1999/xhtml">S<ns494:sub xmlns:ns494="http://www.w3.org/1999/xhtml">7</ns494:sub></ns493:em> is the normalized sequence.</ns492:p><ns495:p xmlns:ns495="http://www.w3.org/1999/xhtml">The <ns496:a xmlns:ns496="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns496:a> rooted at the document <ns497:a xmlns:ns497="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns497:a> that is
created by the final step of this sequence
normalization process is the
instance of the data model to which the rules of the appropriate
output method are applied.  If the sequence
normalization process results
in a <ns498:a xmlns:ns498="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns498:a>, the
<ns499:a xmlns:ns499="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns499:a> <ns500:strong xmlns:ns500="http://www.w3.org/1999/xhtml">MUST</ns500:strong> signal the error.</ns495:p><ns501:div xmlns:ns501="http://www.w3.org/1999/xhtml" class="note"><ns502:p xmlns:ns502="http://www.w3.org/1999/xhtml" class="prefix"><ns503:b xmlns:ns503="http://www.w3.org/1999/xhtml">Note:</ns503:b></ns502:p><ns504:p xmlns:ns504="http://www.w3.org/1999/xhtml">The sequence normalization process for a sequence <ns505:code xmlns:ns505="http://www.w3.org/1999/xhtml">$seq</ns505:code> is equivalent
to constructing a document <ns506:a xmlns:ns506="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns506:a> using the XSLT instruction:</ns504:p><ns507:div xmlns:ns507="http://www.w3.org/1999/xhtml" class="exampleInner"><ns508:pre xmlns:ns508="http://www.w3.org/1999/xhtml">&lt;xsl:document&gt;
  &lt;xsl:copy-of select="$seq" validation="preserve"/&gt;
&lt;/xsl:document&gt;</ns508:pre></ns507:div><ns509:p xmlns:ns509="http://www.w3.org/1999/xhtml">or the XQuery expression:</ns509:p><ns510:div xmlns:ns510="http://www.w3.org/1999/xhtml" class="exampleInner"><ns511:pre xmlns:ns511="http://www.w3.org/1999/xhtml">
declare construction preserve;

document {
  for $s in $seq return
    if ($s instance of document-node())
    then $s/child::node()
    else $s
}</ns511:pre></ns510:div><ns512:p xmlns:ns512="http://www.w3.org/1999/xhtml">This process results in a <ns513:a xmlns:ns513="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns513:a> [<ns514:a xmlns:ns514="http://www.w3.org/1999/xhtml" href="#ERRSENR0001" title="err:SENR0001">err:SENR0001</ns514:a>]
if sequences contain parentless attribute and/or namespace
<ns515:a xmlns:ns515="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns515:a>.</ns512:p></ns501:div></ns398:div><ns516:div xmlns:ns516="http://www.w3.org/1999/xhtml" class="div1">
<ns517:h2 xmlns:ns517="http://www.w3.org/1999/xhtml"><ns518:a xmlns:ns518="http://www.w3.org/1999/xhtml" name="serparam" id="serparam"/>3 Serialization Parameters</ns517:h2><ns519:p xmlns:ns519="http://www.w3.org/1999/xhtml">There are a number of parameters that influence how serialization
is performed. <ns520:a xmlns:ns520="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">Host languages</ns520:a> <ns521:strong xmlns:ns521="http://www.w3.org/1999/xhtml">MAY</ns521:strong> allow users to specify any or all of these parameters, but
they are not <ns522:strong xmlns:ns522="http://www.w3.org/1999/xhtml">REQUIRED</ns522:strong> to be able to do so. However, the <ns523:a xmlns:ns523="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns523:a>
specification <ns524:strong xmlns:ns524="http://www.w3.org/1999/xhtml">MUST</ns524:strong> specify how the value of all applicable parameters is to be
determined. </ns519:p><ns525:p xmlns:ns525="http://www.w3.org/1999/xhtml">It is a <ns526:a xmlns:ns526="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns526:a> [<ns527:a xmlns:ns527="http://www.w3.org/1999/xhtml" href="#ERRSEPM0016" title="err:SEPM0016">err:SEPM0016</ns527:a>] if a parameter value is invalid for the given parameter.   It
is the responsibility of the <ns528:a xmlns:ns528="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns528:a> to specify how invalid values should be handled at the level of that language.</ns525:p><ns529:p xmlns:ns529="http://www.w3.org/1999/xhtml">The following serialization parameters are defined:</ns529:p><ns530:table xmlns:ns530="http://www.w3.org/1999/xhtml" border="1" summary="Serialization parameters"><ns531:col xmlns:ns531="http://www.w3.org/1999/xhtml" width="180" span="1"/><ns532:col xmlns:ns532="http://www.w3.org/1999/xhtml" span="1"/><ns533:thead xmlns:ns533="http://www.w3.org/1999/xhtml"><ns534:tr xmlns:ns534="http://www.w3.org/1999/xhtml"><ns535:th xmlns:ns535="http://www.w3.org/1999/xhtml" align="left" colspan="1">Serialization parameter name</ns535:th><ns536:th xmlns:ns536="http://www.w3.org/1999/xhtml" align="left" colspan="1">Permitted values for parameter</ns536:th></ns534:tr></ns533:thead><ns537:tbody xmlns:ns537="http://www.w3.org/1999/xhtml"><ns538:tr xmlns:ns538="http://www.w3.org/1999/xhtml"><ns539:td xmlns:ns539="http://www.w3.org/1999/xhtml"><ns540:code xmlns:ns540="http://www.w3.org/1999/xhtml">byte-order-mark</ns540:code></ns539:td><ns541:td xmlns:ns541="http://www.w3.org/1999/xhtml">One of the enumerated values
          <ns542:code xmlns:ns542="http://www.w3.org/1999/xhtml">yes</ns542:code> or <ns543:code xmlns:ns543="http://www.w3.org/1999/xhtml">no</ns543:code>.  This parameter indicates
          whether the serialized sequence of octets is to be preceded by
          a Byte Order Mark.  (See Section 5.1 of
          <ns544:a xmlns:ns544="http://www.w3.org/1999/xhtml" href="#UNICODE-ENCODING">[Unicode Encoding]</ns544:a>.)  The actual octet order used is
          <ns545:a xmlns:ns545="http://www.w3.org/1999/xhtml" title="implementation-dependent" href="#impdep">implementation-dependent</ns545:a>.
          If the encoding defines no Byte Order Mark, or if the Byte Order Mark is
          prohibited for the specific Unicode encoding or implementation environment, then
          this parameter is ignored.</ns541:td></ns538:tr><ns546:tr xmlns:ns546="http://www.w3.org/1999/xhtml"><ns547:td xmlns:ns547="http://www.w3.org/1999/xhtml"><ns548:code xmlns:ns548="http://www.w3.org/1999/xhtml">cdata-section-elements</ns548:code></ns547:td><ns549:td xmlns:ns549="http://www.w3.org/1999/xhtml">A list of expanded QNames, possibly empty.</ns549:td></ns546:tr><ns550:tr xmlns:ns550="http://www.w3.org/1999/xhtml"><ns551:td xmlns:ns551="http://www.w3.org/1999/xhtml"><ns552:code xmlns:ns552="http://www.w3.org/1999/xhtml">doctype-public</ns552:code></ns551:td><ns553:td xmlns:ns553="http://www.w3.org/1999/xhtml"><ns554:span xmlns:ns554="http://www.w3.org/1999/xhtml">A string of
<ns555:a xmlns:ns555="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml#NT-PubidChar">PubidChar</ns555:a><ns556:sup xmlns:ns556="http://www.w3.org/1999/xhtml"><ns557:small xmlns:ns557="http://www.w3.org/1999/xhtml">XML</ns557:small></ns556:sup> characters.</ns554:span>
<ns558:span xmlns:ns558="http://www.w3.org/1999/xhtml">This parameter may be absent.</ns558:span></ns553:td></ns550:tr><ns559:tr xmlns:ns559="http://www.w3.org/1999/xhtml"><ns560:td xmlns:ns560="http://www.w3.org/1999/xhtml"><ns561:code xmlns:ns561="http://www.w3.org/1999/xhtml">doctype-system</ns561:code></ns560:td><ns562:td xmlns:ns562="http://www.w3.org/1999/xhtml"><ns563:span xmlns:ns563="http://www.w3.org/1999/xhtml">A string of Unicode characters</ns563:span>
<ns564:span xmlns:ns564="http://www.w3.org/1999/xhtml">that does not include both an
apostrophe (#x27) and a quotation mark (#x22) character.</ns564:span>
<ns565:span xmlns:ns565="http://www.w3.org/1999/xhtml">This parameter may be absent.</ns565:span></ns562:td></ns559:tr><ns566:tr xmlns:ns566="http://www.w3.org/1999/xhtml"><ns567:td xmlns:ns567="http://www.w3.org/1999/xhtml"><ns568:code xmlns:ns568="http://www.w3.org/1999/xhtml">encoding</ns568:code></ns567:td><ns569:td xmlns:ns569="http://www.w3.org/1999/xhtml">A string of Unicode characters in the range #x21 to #x7E (that is,
          printable ASCII characters); the value <ns570:strong xmlns:ns570="http://www.w3.org/1999/xhtml">SHOULD</ns570:strong> be a charset
          registered with the Internet Assigned Numbers Authority
          <ns571:a xmlns:ns571="http://www.w3.org/1999/xhtml" href="#IANA">[IANA]</ns571:a>, <ns572:a xmlns:ns572="http://www.w3.org/1999/xhtml" href="#RFC2278">[RFC2278]</ns572:a> or begin with the
          characters <ns573:code xmlns:ns573="http://www.w3.org/1999/xhtml">x-</ns573:code> or <ns574:code xmlns:ns574="http://www.w3.org/1999/xhtml">X-</ns574:code>.</ns569:td></ns566:tr><ns575:tr xmlns:ns575="http://www.w3.org/1999/xhtml"><ns576:td xmlns:ns576="http://www.w3.org/1999/xhtml"><ns577:code xmlns:ns577="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns577:code></ns576:td><ns578:td xmlns:ns578="http://www.w3.org/1999/xhtml">One of the enumerated values <ns579:code xmlns:ns579="http://www.w3.org/1999/xhtml">yes</ns579:code> or <ns580:code xmlns:ns580="http://www.w3.org/1999/xhtml">no</ns580:code>.</ns578:td></ns575:tr><ns581:tr xmlns:ns581="http://www.w3.org/1999/xhtml"><ns582:td xmlns:ns582="http://www.w3.org/1999/xhtml"><ns583:code xmlns:ns583="http://www.w3.org/1999/xhtml">include-content-type</ns583:code></ns582:td><ns584:td xmlns:ns584="http://www.w3.org/1999/xhtml">One of the enumerated values <ns585:code xmlns:ns585="http://www.w3.org/1999/xhtml">yes</ns585:code> or <ns586:code xmlns:ns586="http://www.w3.org/1999/xhtml">no</ns586:code>.</ns584:td></ns581:tr><ns587:tr xmlns:ns587="http://www.w3.org/1999/xhtml"><ns588:td xmlns:ns588="http://www.w3.org/1999/xhtml"><ns589:code xmlns:ns589="http://www.w3.org/1999/xhtml">indent</ns589:code></ns588:td><ns590:td xmlns:ns590="http://www.w3.org/1999/xhtml">One of the enumerated values <ns591:code xmlns:ns591="http://www.w3.org/1999/xhtml">yes</ns591:code> or <ns592:code xmlns:ns592="http://www.w3.org/1999/xhtml">no</ns592:code>.</ns590:td></ns587:tr><ns593:tr xmlns:ns593="http://www.w3.org/1999/xhtml"><ns594:td xmlns:ns594="http://www.w3.org/1999/xhtml"><ns595:code xmlns:ns595="http://www.w3.org/1999/xhtml">media-type</ns595:code></ns594:td><ns596:td xmlns:ns596="http://www.w3.org/1999/xhtml">A string of Unicode characters specifying the media type (MIME
          content type) <ns597:a xmlns:ns597="http://www.w3.org/1999/xhtml" href="#RFC2046">[RFC2046]</ns597:a>;
          the charset parameter of
          the media type <ns598:strong xmlns:ns598="http://www.w3.org/1999/xhtml">MUST NOT</ns598:strong> be specified explicitly in the value of
          the <ns599:code xmlns:ns599="http://www.w3.org/1999/xhtml">media-type</ns599:code> parameter.
          If the destination of the serialized output
          is annotated with a media type, this parameter <ns600:strong xmlns:ns600="http://www.w3.org/1999/xhtml">MAY</ns600:strong> be used to
          provide such an annotation.  For example, it <ns601:strong xmlns:ns601="http://www.w3.org/1999/xhtml">MAY</ns601:strong> be used to set
          the media type in an HTTP header.</ns596:td></ns593:tr><ns602:tr xmlns:ns602="http://www.w3.org/1999/xhtml"><ns603:td xmlns:ns603="http://www.w3.org/1999/xhtml"><ns604:code xmlns:ns604="http://www.w3.org/1999/xhtml">method</ns604:code></ns603:td><ns605:td xmlns:ns605="http://www.w3.org/1999/xhtml">An expanded QName with a <ns606:a xmlns:ns606="http://www.w3.org/1999/xhtml" title="null namespace URI" href="#null-namespace-URI">null namespace URI</ns606:a>, and the local part of
          the name equal to one of <ns607:code xmlns:ns607="http://www.w3.org/1999/xhtml">xml</ns607:code>, <ns608:code xmlns:ns608="http://www.w3.org/1999/xhtml">xhtml</ns608:code>,
          <ns609:code xmlns:ns609="http://www.w3.org/1999/xhtml">html</ns609:code> or <ns610:code xmlns:ns610="http://www.w3.org/1999/xhtml">text</ns610:code>, or having a <ns611:a xmlns:ns611="http://www.w3.org/1999/xhtml" title="non-null namespace URI" href="#non-null-namespace-URI">non-null
          namespace URI</ns611:a>.  If the namespace URI is non-null, the parameter
          specifies an <ns612:a xmlns:ns612="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns612:a> output method.</ns605:td></ns602:tr><ns613:tr xmlns:ns613="http://www.w3.org/1999/xhtml"><ns614:td xmlns:ns614="http://www.w3.org/1999/xhtml"><ns615:code xmlns:ns615="http://www.w3.org/1999/xhtml">normalization-form</ns615:code></ns614:td><ns616:td xmlns:ns616="http://www.w3.org/1999/xhtml">One of the enumerated values <ns617:code xmlns:ns617="http://www.w3.org/1999/xhtml">NFC</ns617:code>, <ns618:code xmlns:ns618="http://www.w3.org/1999/xhtml">NFD</ns618:code>,
          <ns619:code xmlns:ns619="http://www.w3.org/1999/xhtml">NFKC</ns619:code>, <ns620:code xmlns:ns620="http://www.w3.org/1999/xhtml">NFKD</ns620:code>, <ns621:code xmlns:ns621="http://www.w3.org/1999/xhtml">fully-normalized</ns621:code>,
          <ns622:code xmlns:ns622="http://www.w3.org/1999/xhtml">none</ns622:code> or an
          <ns623:a xmlns:ns623="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns623:a> value.</ns616:td></ns613:tr><ns624:tr xmlns:ns624="http://www.w3.org/1999/xhtml"><ns625:td xmlns:ns625="http://www.w3.org/1999/xhtml"><ns626:code xmlns:ns626="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns626:code></ns625:td><ns627:td xmlns:ns627="http://www.w3.org/1999/xhtml">One of the enumerated values <ns628:code xmlns:ns628="http://www.w3.org/1999/xhtml">yes</ns628:code> or <ns629:code xmlns:ns629="http://www.w3.org/1999/xhtml">no</ns629:code>.</ns627:td></ns624:tr><ns630:tr xmlns:ns630="http://www.w3.org/1999/xhtml"><ns631:td xmlns:ns631="http://www.w3.org/1999/xhtml"><ns632:code xmlns:ns632="http://www.w3.org/1999/xhtml">standalone</ns632:code></ns631:td><ns633:td xmlns:ns633="http://www.w3.org/1999/xhtml">One of the enumerated values <ns634:code xmlns:ns634="http://www.w3.org/1999/xhtml">yes</ns634:code>, <ns635:code xmlns:ns635="http://www.w3.org/1999/xhtml">no</ns635:code> or
          <ns636:code xmlns:ns636="http://www.w3.org/1999/xhtml">omit</ns636:code>.</ns633:td></ns630:tr><ns637:tr xmlns:ns637="http://www.w3.org/1999/xhtml"><ns638:td xmlns:ns638="http://www.w3.org/1999/xhtml"><ns639:code xmlns:ns639="http://www.w3.org/1999/xhtml">suppress-indentation</ns639:code></ns638:td><ns640:td xmlns:ns640="http://www.w3.org/1999/xhtml"><ns641:span xmlns:ns641="http://www.w3.org/1999/xhtml">A list of expanded QNames, possibly empty.</ns641:span></ns640:td></ns637:tr><ns642:tr xmlns:ns642="http://www.w3.org/1999/xhtml"><ns643:td xmlns:ns643="http://www.w3.org/1999/xhtml"><ns644:code xmlns:ns644="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns644:code></ns643:td><ns645:td xmlns:ns645="http://www.w3.org/1999/xhtml">One of the enumerated values <ns646:code xmlns:ns646="http://www.w3.org/1999/xhtml">yes</ns646:code> or <ns647:code xmlns:ns647="http://www.w3.org/1999/xhtml">no</ns647:code>.</ns645:td></ns642:tr><ns648:tr xmlns:ns648="http://www.w3.org/1999/xhtml"><ns649:td xmlns:ns649="http://www.w3.org/1999/xhtml"><ns650:code xmlns:ns650="http://www.w3.org/1999/xhtml">use-character-maps</ns650:code></ns649:td><ns651:td xmlns:ns651="http://www.w3.org/1999/xhtml">A list of pairs, possibly empty, with each pair consisting of
          a single Unicode character and a string of Unicode characters.</ns651:td></ns648:tr><ns652:tr xmlns:ns652="http://www.w3.org/1999/xhtml"><ns653:td xmlns:ns653="http://www.w3.org/1999/xhtml"><ns654:code xmlns:ns654="http://www.w3.org/1999/xhtml">version</ns654:code></ns653:td><ns655:td xmlns:ns655="http://www.w3.org/1999/xhtml">A string of Unicode characters.</ns655:td></ns652:tr></ns537:tbody></ns530:table><ns656:p xmlns:ns656="http://www.w3.org/1999/xhtml">The value of the <ns657:code xmlns:ns657="http://www.w3.org/1999/xhtml">method</ns657:code> parameter is an <ns658:a xmlns:ns658="http://www.w3.org/1999/xhtml" title="expanded QName" href="#dt-expanded-qname">expanded QName</ns658:a>. 
If the value has a <ns659:a xmlns:ns659="http://www.w3.org/1999/xhtml" title="null namespace URI" href="#null-namespace-URI">null namespace URI</ns659:a>, then the local name identifies 
a method specified in this document and <ns660:strong xmlns:ns660="http://www.w3.org/1999/xhtml">MUST</ns660:strong> be one of <ns661:code xmlns:ns661="http://www.w3.org/1999/xhtml">xml</ns661:code>, <ns662:code xmlns:ns662="http://www.w3.org/1999/xhtml">html</ns662:code>, 
<ns663:code xmlns:ns663="http://www.w3.org/1999/xhtml">xhtml</ns663:code>, or <ns664:code xmlns:ns664="http://www.w3.org/1999/xhtml">text</ns664:code>; in this case, the output method specified <ns665:strong xmlns:ns665="http://www.w3.org/1999/xhtml">MUST</ns665:strong> be 
used for serializing. If the namespace URI is non-null, then it identifies an 
<ns666:a xmlns:ns666="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns666:a> output method; the behavior in this case is not specified 
by this document.</ns656:p><ns667:p xmlns:ns667="http://www.w3.org/1999/xhtml">In those cases where they have no important
effect on the content of the serialized result, details of the
output methods defined by this specification are left unspecified
and are regarded as <ns668:a xmlns:ns668="http://www.w3.org/1999/xhtml" title="implementation-dependent" href="#impdep">implementation-dependent</ns668:a>.
Whether a <ns669:a xmlns:ns669="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns669:a> uses
apostrophes or quotation marks to delimit attribute values in the
XML output method is an example of such a detail.</ns667:p><ns670:p xmlns:ns670="http://www.w3.org/1999/xhtml">The detailed semantics of each parameter will be described
separately for each output method<ns671:span xmlns:ns671="http://www.w3.org/1999/xhtml"> for which it is applicable</ns671:span>. <ns672:span xmlns:ns672="http://www.w3.org/1999/xhtml">If the
semantics of a parameter are not described for an output method, then
it is not applicable to that output method.</ns672:span></ns670:p><ns673:p xmlns:ns673="http://www.w3.org/1999/xhtml">Implementations <ns674:strong xmlns:ns674="http://www.w3.org/1999/xhtml">MAY</ns674:strong> define additional serialization parameters, and <ns675:strong xmlns:ns675="http://www.w3.org/1999/xhtml">MAY</ns675:strong>
allow users to do so. For this purpose, the name of a serialization
parameter is considered to be a QName; the parameters listed above are
QNames in no namespace, while any additional serialization parameters must
have names that are namespace-qualified. If the serialization method is one
of the four methods <ns676:code xmlns:ns676="http://www.w3.org/1999/xhtml">xml</ns676:code>, <ns677:code xmlns:ns677="http://www.w3.org/1999/xhtml">html</ns677:code>, 
<ns678:code xmlns:ns678="http://www.w3.org/1999/xhtml">xhtml</ns678:code>, or <ns679:code xmlns:ns679="http://www.w3.org/1999/xhtml">text</ns679:code>, then the additional serialization parameters <ns680:strong xmlns:ns680="http://www.w3.org/1999/xhtml">MAY</ns680:strong>
affect the output of the serializer to the extent (but only to the extent)
that this specification leaves the output <ns681:a xmlns:ns681="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns681:a> or
<ns682:a xmlns:ns682="http://www.w3.org/1999/xhtml" title="implementation-dependent" href="#impdep">implementation-dependent</ns682:a>. For example, such parameters might control whether
namespace declarations on an element are written before or after the
attributes of the element, or they might define the number of space or tab
characters to be inserted when the <ns683:code xmlns:ns683="http://www.w3.org/1999/xhtml">indent</ns683:code> parameter is set to <ns684:code xmlns:ns684="http://www.w3.org/1999/xhtml">yes</ns684:code>; but they
could not instruct the serializer to suppress the error that occurs when the
HTML output method encounters illegal characters (see error [<ns685:a xmlns:ns685="http://www.w3.org/1999/xhtml" href="#ERRSERE0014" title="err:SERE0014">err:SERE0014</ns685:a>]).</ns673:p><ns686:div xmlns:ns686="http://www.w3.org/1999/xhtml" class="div2">
<ns687:h3 xmlns:ns687="http://www.w3.org/1999/xhtml"><ns688:a xmlns:ns688="http://www.w3.org/1999/xhtml" name="serparams-in-xdm-instance" id="serparams-in-xdm-instance"/>3.1 Setting Serialization Parameters by Means of a Data Model Instance</ns687:h3><ns689:p xmlns:ns689="http://www.w3.org/1999/xhtml">A host language <ns690:strong xmlns:ns690="http://www.w3.org/1999/xhtml">MAY</ns690:strong> provide, by reference to this
section, a mechanism by 
which the settings of serialization parameters are supplied in the form of 
an instance of the data model as specified in
<ns691:a xmlns:ns691="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns691:a>.  The instance of the data model used
to determine the settings of 
serialization parameters <ns692:strong xmlns:ns692="http://www.w3.org/1999/xhtml">MUST</ns692:strong> be processed as if by the
procedure described below.</ns689:p><ns693:p xmlns:ns693="http://www.w3.org/1999/xhtml">With the exception of the <ns694:code xmlns:ns694="http://www.w3.org/1999/xhtml">use-character-maps</ns694:code> parameter,
the setting of each serialization parameter is equal to the result of
evaluating the XQuery expression</ns693:p><ns695:div xmlns:ns695="http://www.w3.org/1999/xhtml" class="exampleInner"><ns696:pre xmlns:ns696="http://www.w3.org/1999/xhtml">
(validate lax { document { . } })
   /output:serialization-parameters
   /output:*[local-name() eq $param-name]/data(@value)
</ns696:pre></ns695:div><ns697:p xmlns:ns697="http://www.w3.org/1999/xhtml">with the supplied instance of the data model as the context item, the 
<ns698:code xmlns:ns698="http://www.w3.org/1999/xhtml">param-name</ns698:code> variable having as its value a value of type
<ns699:code xmlns:ns699="http://www.w3.org/1999/xhtml">xs:string</ns699:code> equal to 
the local part of the name of the particular serialization parameter, and 
the other components of the dynamic context and static context as 
specified in the subsequent tables.  If in any case evaluating this 
expression would yield an error,
<ns700:a xmlns:ns700="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns700:a>
[<ns701:a xmlns:ns701="http://www.w3.org/1999/xhtml" href="#ERRSEPM0017" title="err:SEPM0017">err:SEPM0017</ns701:a>]
results.</ns697:p><ns702:p xmlns:ns702="http://www.w3.org/1999/xhtml">If the result of evaluating this expression for a particular serialization 
parameter is the empty sequence:</ns702:p><ns703:ol xmlns:ns703="http://www.w3.org/1999/xhtml" class="enumar"><ns704:li xmlns:ns704="http://www.w3.org/1999/xhtml"><ns705:p xmlns:ns705="http://www.w3.org/1999/xhtml">if the parameter is either <ns706:code xmlns:ns706="http://www.w3.org/1999/xhtml">cdata-section-elements</ns706:code> or 
<ns707:code xmlns:ns707="http://www.w3.org/1999/xhtml">supress-indentation</ns707:code> and the result of evaluating
the expression</ns705:p><ns708:div xmlns:ns708="http://www.w3.org/1999/xhtml" class="exampleInner"><ns709:pre xmlns:ns709="http://www.w3.org/1999/xhtml">
(validate lax { document { . } })
   /output:serialization-parameters
   /output:*[local-name() eq $param-name]
</ns709:pre></ns708:div><ns710:p xmlns:ns710="http://www.w3.org/1999/xhtml">with the same settings of the static context and dynamic context is not an 
empty sequence, the setting of the parameter is the empty list;</ns710:p></ns704:li><ns711:li xmlns:ns711="http://www.w3.org/1999/xhtml"><ns712:p xmlns:ns712="http://www.w3.org/1999/xhtml">otherwise, the setting of the parameter is unspecified.</ns712:p></ns711:li></ns703:ol><ns713:p xmlns:ns713="http://www.w3.org/1999/xhtml">The components of the static context used in evaluating the XQuery 
expressions are as defined in the following table.</ns713:p><ns714:table xmlns:ns714="http://www.w3.org/1999/xhtml" border="1" summary="Settings of static context components used in extracting serialization parameter settings from an XDM instance"><ns715:thead xmlns:ns715="http://www.w3.org/1999/xhtml"><ns716:tr xmlns:ns716="http://www.w3.org/1999/xhtml"><ns717:th xmlns:ns717="http://www.w3.org/1999/xhtml" colspan="1">Static Context Component</ns717:th><ns718:th xmlns:ns718="http://www.w3.org/1999/xhtml" colspan="1">Setting</ns718:th></ns716:tr></ns715:thead><ns719:tbody xmlns:ns719="http://www.w3.org/1999/xhtml"><ns720:tr xmlns:ns720="http://www.w3.org/1999/xhtml"><ns721:td xmlns:ns721="http://www.w3.org/1999/xhtml">XPath compatibility mode</ns721:td><ns722:td xmlns:ns722="http://www.w3.org/1999/xhtml">false</ns722:td></ns720:tr><ns723:tr xmlns:ns723="http://www.w3.org/1999/xhtml"><ns724:td xmlns:ns724="http://www.w3.org/1999/xhtml">Statically known namespaces</ns724:td><ns725:td xmlns:ns725="http://www.w3.org/1999/xhtml">The pair
(output,http://www.w3.org/2010/xslt-xquery-serialization)
</ns725:td></ns723:tr><ns726:tr xmlns:ns726="http://www.w3.org/1999/xhtml"><ns727:td xmlns:ns727="http://www.w3.org/1999/xhtml">Default element/type namespace</ns727:td><ns728:td xmlns:ns728="http://www.w3.org/1999/xhtml">"none"</ns728:td></ns726:tr><ns729:tr xmlns:ns729="http://www.w3.org/1999/xhtml"><ns730:td xmlns:ns730="http://www.w3.org/1999/xhtml">Default function namespace</ns730:td><ns731:td xmlns:ns731="http://www.w3.org/1999/xhtml">http://www.w3.org/2005/xpath-functions</ns731:td></ns729:tr><ns732:tr xmlns:ns732="http://www.w3.org/1999/xhtml"><ns733:td xmlns:ns733="http://www.w3.org/1999/xhtml">In-scope schema types, In-scope element declarations,
Substitution groups, In-scope attribute declarations</ns733:td><ns734:td xmlns:ns734="http://www.w3.org/1999/xhtml">As defined by the schema for serialization parameters
(<ns735:a xmlns:ns735="http://www.w3.org/1999/xhtml" href="#serparams-schema"><ns736:b xmlns:ns736="http://www.w3.org/1999/xhtml">B Schema for Serialization Parameters</ns736:b></ns735:a>)
and any additional implementation-defined in-scope schema components</ns734:td></ns732:tr><ns737:tr xmlns:ns737="http://www.w3.org/1999/xhtml"><ns738:td xmlns:ns738="http://www.w3.org/1999/xhtml">In-scope variables</ns738:td><ns739:td xmlns:ns739="http://www.w3.org/1999/xhtml">{param-name}</ns739:td></ns737:tr><ns740:tr xmlns:ns740="http://www.w3.org/1999/xhtml"><ns741:td xmlns:ns741="http://www.w3.org/1999/xhtml">Context item static type</ns741:td><ns742:td xmlns:ns742="http://www.w3.org/1999/xhtml"><ns743:code xmlns:ns743="http://www.w3.org/1999/xhtml">node()</ns743:code></ns742:td></ns740:tr><ns744:tr xmlns:ns744="http://www.w3.org/1999/xhtml"><ns745:td xmlns:ns745="http://www.w3.org/1999/xhtml">Function signatures</ns745:td><ns746:td xmlns:ns746="http://www.w3.org/1999/xhtml">{<ns747:code xmlns:ns747="http://www.w3.org/1999/xhtml">fn:data($arg as item()*) as xs:anyAtomicType*</ns747:code>}</ns746:td></ns744:tr><ns748:tr xmlns:ns748="http://www.w3.org/1999/xhtml"><ns749:td xmlns:ns749="http://www.w3.org/1999/xhtml">Statically known collations</ns749:td><ns750:td xmlns:ns750="http://www.w3.org/1999/xhtml"> { (http://www.w3.org/2005/xpath-functions/collation/codepoint,
The Unicode codepoint collation ) }
</ns750:td></ns748:tr><ns751:tr xmlns:ns751="http://www.w3.org/1999/xhtml"><ns752:td xmlns:ns752="http://www.w3.org/1999/xhtml">Default collation</ns752:td><ns753:td xmlns:ns753="http://www.w3.org/1999/xhtml">The Unicode codepoint collation</ns753:td></ns751:tr><ns754:tr xmlns:ns754="http://www.w3.org/1999/xhtml"><ns755:td xmlns:ns755="http://www.w3.org/1999/xhtml">Construction mode</ns755:td><ns756:td xmlns:ns756="http://www.w3.org/1999/xhtml">strip</ns756:td></ns754:tr><ns757:tr xmlns:ns757="http://www.w3.org/1999/xhtml"><ns758:td xmlns:ns758="http://www.w3.org/1999/xhtml">Ordering mode</ns758:td><ns759:td xmlns:ns759="http://www.w3.org/1999/xhtml">ordered</ns759:td></ns757:tr><ns760:tr xmlns:ns760="http://www.w3.org/1999/xhtml"><ns761:td xmlns:ns761="http://www.w3.org/1999/xhtml">Default order for empty sequences</ns761:td><ns762:td xmlns:ns762="http://www.w3.org/1999/xhtml">least</ns762:td></ns760:tr><ns763:tr xmlns:ns763="http://www.w3.org/1999/xhtml"><ns764:td xmlns:ns764="http://www.w3.org/1999/xhtml">Boundary space policy</ns764:td><ns765:td xmlns:ns765="http://www.w3.org/1999/xhtml">strip</ns765:td></ns763:tr><ns766:tr xmlns:ns766="http://www.w3.org/1999/xhtml"><ns767:td xmlns:ns767="http://www.w3.org/1999/xhtml">Copy-namespaces mode</ns767:td><ns768:td xmlns:ns768="http://www.w3.org/1999/xhtml">(preserve,inherit)</ns768:td></ns766:tr><ns769:tr xmlns:ns769="http://www.w3.org/1999/xhtml"><ns770:td xmlns:ns770="http://www.w3.org/1999/xhtml">Base URI</ns770:td><ns771:td xmlns:ns771="http://www.w3.org/1999/xhtml">Absent</ns771:td></ns769:tr><ns772:tr xmlns:ns772="http://www.w3.org/1999/xhtml"><ns773:td xmlns:ns773="http://www.w3.org/1999/xhtml">Statically known documents</ns773:td><ns774:td xmlns:ns774="http://www.w3.org/1999/xhtml">None</ns774:td></ns772:tr><ns775:tr xmlns:ns775="http://www.w3.org/1999/xhtml"><ns776:td xmlns:ns776="http://www.w3.org/1999/xhtml">Statically known collections</ns776:td><ns777:td xmlns:ns777="http://www.w3.org/1999/xhtml">None</ns777:td></ns775:tr><ns778:tr xmlns:ns778="http://www.w3.org/1999/xhtml"><ns779:td xmlns:ns779="http://www.w3.org/1999/xhtml">Statically known default collection type</ns779:td><ns780:td xmlns:ns780="http://www.w3.org/1999/xhtml"><ns781:code xmlns:ns781="http://www.w3.org/1999/xhtml">node()*</ns781:code></ns780:td></ns778:tr><ns782:tr xmlns:ns782="http://www.w3.org/1999/xhtml"><ns783:td xmlns:ns783="http://www.w3.org/1999/xhtml">Statically known decimal formats</ns783:td><ns784:td xmlns:ns784="http://www.w3.org/1999/xhtml">None</ns784:td></ns782:tr></ns719:tbody></ns714:table><ns785:p xmlns:ns785="http://www.w3.org/1999/xhtml">The remaining components of the dynamic context used in evaluating the 
XQuery expressions in the preceding table are as defined in the following 
table.</ns785:p><ns786:table xmlns:ns786="http://www.w3.org/1999/xhtml" border="1" summary="Settings of dynamic context components used in extracting serialization parameter settings from an XDM instance"><ns787:thead xmlns:ns787="http://www.w3.org/1999/xhtml"><ns788:tr xmlns:ns788="http://www.w3.org/1999/xhtml"><ns789:th xmlns:ns789="http://www.w3.org/1999/xhtml" colspan="1">Dynamic Context Component</ns789:th><ns790:th xmlns:ns790="http://www.w3.org/1999/xhtml" colspan="1">Setting</ns790:th></ns788:tr></ns787:thead><ns791:tbody xmlns:ns791="http://www.w3.org/1999/xhtml"><ns792:tr xmlns:ns792="http://www.w3.org/1999/xhtml"><ns793:td xmlns:ns793="http://www.w3.org/1999/xhtml">Context position</ns793:td><ns794:td xmlns:ns794="http://www.w3.org/1999/xhtml">1</ns794:td></ns792:tr><ns795:tr xmlns:ns795="http://www.w3.org/1999/xhtml"><ns796:td xmlns:ns796="http://www.w3.org/1999/xhtml">Context size</ns796:td><ns797:td xmlns:ns797="http://www.w3.org/1999/xhtml">1</ns797:td></ns795:tr><ns798:tr xmlns:ns798="http://www.w3.org/1999/xhtml"><ns799:td xmlns:ns799="http://www.w3.org/1999/xhtml">Variable values</ns799:td><ns800:td xmlns:ns800="http://www.w3.org/1999/xhtml">The <ns801:code xmlns:ns801="http://www.w3.org/1999/xhtml">param-name</ns801:code> variable has
a value of type <ns802:code xmlns:ns802="http://www.w3.org/1999/xhtml">xs:string</ns802:code> equal the local part of the name
of the serialization parameter under consideration</ns800:td></ns798:tr><ns803:tr xmlns:ns803="http://www.w3.org/1999/xhtml"><ns804:td xmlns:ns804="http://www.w3.org/1999/xhtml">Function implementations</ns804:td><ns805:td xmlns:ns805="http://www.w3.org/1999/xhtml">The implementation of fn:data</ns805:td></ns803:tr><ns806:tr xmlns:ns806="http://www.w3.org/1999/xhtml"><ns807:td xmlns:ns807="http://www.w3.org/1999/xhtml">Current dateTime</ns807:td><ns808:td xmlns:ns808="http://www.w3.org/1999/xhtml">Absent</ns808:td></ns806:tr><ns809:tr xmlns:ns809="http://www.w3.org/1999/xhtml"><ns810:td xmlns:ns810="http://www.w3.org/1999/xhtml">Implicit timezone</ns810:td><ns811:td xmlns:ns811="http://www.w3.org/1999/xhtml">Absent</ns811:td></ns809:tr><ns812:tr xmlns:ns812="http://www.w3.org/1999/xhtml"><ns813:td xmlns:ns813="http://www.w3.org/1999/xhtml">Available documents</ns813:td><ns814:td xmlns:ns814="http://www.w3.org/1999/xhtml">None</ns814:td></ns812:tr><ns815:tr xmlns:ns815="http://www.w3.org/1999/xhtml"><ns816:td xmlns:ns816="http://www.w3.org/1999/xhtml">Available collections</ns816:td><ns817:td xmlns:ns817="http://www.w3.org/1999/xhtml">None</ns817:td></ns815:tr><ns818:tr xmlns:ns818="http://www.w3.org/1999/xhtml"><ns819:td xmlns:ns819="http://www.w3.org/1999/xhtml">Default collection</ns819:td><ns820:td xmlns:ns820="http://www.w3.org/1999/xhtml">None</ns820:td></ns818:tr></ns791:tbody></ns786:table><ns821:p xmlns:ns821="http://www.w3.org/1999/xhtml">In the case of the <ns822:code xmlns:ns822="http://www.w3.org/1999/xhtml">use-character-maps</ns822:code> parameter, the
expression</ns821:p><ns823:div xmlns:ns823="http://www.w3.org/1999/xhtml" class="exampleInner"><ns824:pre xmlns:ns824="http://www.w3.org/1999/xhtml">
(validate lax { document { . } })
  /output:serialization-parameters/output:use-character-maps
  /output:character-map[@character eq $char]/string(@map-string)
</ns824:pre></ns823:div><ns825:p xmlns:ns825="http://www.w3.org/1999/xhtml">is evaluated for each Unicode character that is permitted in an XML 
document.  The dynamic context and static context used to evaluate the 
expression are as defined above, except that in-scope variables is the set 
{<ns826:code xmlns:ns826="http://www.w3.org/1999/xhtml">char</ns826:code>} and the value of the variable "<ns827:code xmlns:ns827="http://www.w3.org/1999/xhtml">char</ns827:code>"
is a value of type <ns828:code xmlns:ns828="http://www.w3.org/1999/xhtml">xs:string</ns828:code>
of length one whose value is the Unicode character under consideration. If 
the result of evaluating the expression is not an empty sequence, the pair 
consisting of the Unicode character and the result of evaluating the 
expression is part of the list of pairs in the value of the 
<ns829:code xmlns:ns829="http://www.w3.org/1999/xhtml">use-character-maps</ns829:code> parameter.  It is a
<ns830:a xmlns:ns830="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns830:a>
[<ns831:a xmlns:ns831="http://www.w3.org/1999/xhtml" href="#ERRSEPM0018" title="err:SEPM0018">err:SEPM0018</ns831:a>]
if the result of evaluating this expression for any character is a 
sequence of length greater than one.</ns825:p><ns832:p xmlns:ns832="http://www.w3.org/1999/xhtml">Using the same settings of the components of the dynamic context and 
static context,
<ns833:a xmlns:ns833="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns833:a>
[<ns834:a xmlns:ns834="http://www.w3.org/1999/xhtml" href="#ERRSEPM0019" title="err:SEPM0019">err:SEPM0019</ns834:a>]
results if the result 
of evaluating the following expression is not true — that is, if
the data model instance specifies more than one setting for any
particular serialization parameter.</ns832:p><ns835:div xmlns:ns835="http://www.w3.org/1999/xhtml" class="exampleInner"><ns836:pre xmlns:ns836="http://www.w3.org/1999/xhtml">
(document { . })/output:serialization-parameters
   /(count(distinct-values(*/node-name(.))) eq (count(*)))
</ns836:pre></ns835:div><ns837:div xmlns:ns837="http://www.w3.org/1999/xhtml" class="note"><ns838:p xmlns:ns838="http://www.w3.org/1999/xhtml" class="prefix"><ns839:b xmlns:ns839="http://www.w3.org/1999/xhtml">Note:</ns839:b></ns838:p><ns840:p xmlns:ns840="http://www.w3.org/1999/xhtml">A serializer or implementation of a host language does not need to 
be accompanied by an XQuery processor nor by a general-purpose schema 
validator in order to meet the requirements of this section.  It merely 
needs to be capable of extracting values from an XDM instance that 
conforms to the schema for serialization parameters, while checking that 
the constraints implied by the schema and additional constraints implied 
by the XQuery validate expression or explicitly stated in this section are 
satisfied.</ns840:p></ns837:div><ns841:p xmlns:ns841="http://www.w3.org/1999/xhtml">The host language <ns842:strong xmlns:ns842="http://www.w3.org/1999/xhtml">MAY</ns842:strong> provide additional mechanisms for overriding the 
values of any serialization parameters specified through the mechanism 
defined in this section, as well as additional mechanisms for specifying 
the values of any serialization parameters whose values remain unspecified 
after applying the mechanism defined in this section.</ns841:p><ns843:p xmlns:ns843="http://www.w3.org/1999/xhtml">If the instance of the data model contains elements or attributes in the 
instance of the data model that are in a namespace other than 
<ns844:code xmlns:ns844="http://www.w3.org/1999/xhtml">http://www.w3.org/2010/xslt-xquery-serialization</ns844:code>, the
implementation <ns845:strong xmlns:ns845="http://www.w3.org/1999/xhtml">MAY</ns845:strong> interpret them to specify the
values of <ns846:a xmlns:ns846="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns846:a> 
serialization parameters in an
<ns847:a xmlns:ns847="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns847:a> manner.</ns843:p><ns848:div xmlns:ns848="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns849:p xmlns:ns849="http://www.w3.org/1999/xhtml">The following XML document, if converted to a data model instance
and processed using the mechanism described in this section,
would specify the settings of the <ns850:code xmlns:ns850="http://www.w3.org/1999/xhtml">method</ns850:code>, <ns851:code xmlns:ns851="http://www.w3.org/1999/xhtml">version</ns851:code>
and <ns852:code xmlns:ns852="http://www.w3.org/1999/xhtml">indent</ns852:code> serialization parameters with the values
<ns853:code xmlns:ns853="http://www.w3.org/1999/xhtml">xml</ns853:code>, <ns854:code xmlns:ns854="http://www.w3.org/1999/xhtml">1.0</ns854:code> and <ns855:code xmlns:ns855="http://www.w3.org/1999/xhtml">yes</ns855:code>, respectively.
</ns849:p><ns856:div xmlns:ns856="http://www.w3.org/1999/xhtml" class="exampleInner"><ns857:pre xmlns:ns857="http://www.w3.org/1999/xhtml">
&lt;output:serialization-parameters
       xmlns:output="http://www.w3.org/2010/xslt-xquery-serialization"&gt;
  &lt;output:method value="xml"/&gt;
  &lt;output:version value="1.0"/&gt;
  &lt;output:indent value="yes"/&gt;
&lt;/output:serialization-parameters&gt;
</ns857:pre></ns856:div><ns858:p xmlns:ns858="http://www.w3.org/1999/xhtml">The following document would specify the setting of the
<ns859:code xmlns:ns859="http://www.w3.org/1999/xhtml">cdata-section-elements</ns859:code> serialization parameter with value the
pair of expanded QNames
(<ns860:code xmlns:ns860="http://www.w3.org/1999/xhtml">http://example.org/book/chapter</ns860:code>,<ns861:code xmlns:ns861="http://www.w3.org/1999/xhtml">heading</ns861:code>) and
(<ns862:code xmlns:ns862="http://www.w3.org/1999/xhtml">http://example.org/book</ns862:code>,<ns863:code xmlns:ns863="http://www.w3.org/1999/xhtml">footnote</ns863:code>)</ns858:p><ns864:div xmlns:ns864="http://www.w3.org/1999/xhtml" class="exampleInner"><ns865:pre xmlns:ns865="http://www.w3.org/1999/xhtml">
&lt;output:serialization-parameters
       xmlns:output="http://www.w3.org/2010/xslt-xquery-serialization"
       xmlns:book="http://example.org/book"
       xmlns="http://example.org/book/chapter"&gt;
  &lt;output:cdata-section-elements value="heading book:footnote"/&gt;
&lt;/output:serialization-parameters&gt;
</ns865:pre></ns864:div><ns866:p xmlns:ns866="http://www.w3.org/1999/xhtml">The following document would specify the value of the <ns867:code xmlns:ns867="http://www.w3.org/1999/xhtml">method</ns867:code>
serialization parameter with the value <ns868:code xmlns:ns868="http://www.w3.org/1999/xhtml">html</ns868:code>.</ns866:p><ns869:p xmlns:ns869="http://www.w3.org/1999/xhtml">Notice that in this example, the default namespace declaration
in scope has no effect on the interpretation of the setting of the
<ns870:code xmlns:ns870="http://www.w3.org/1999/xhtml">method</ns870:code> parameter.</ns869:p><ns871:div xmlns:ns871="http://www.w3.org/1999/xhtml" class="exampleInner"><ns872:pre xmlns:ns872="http://www.w3.org/1999/xhtml">
&lt;output:serialization-parameters
       xmlns:output="http://www.w3.org/2010/xslt-xquery-serialization"
       xmlns="http://example.org/ext"&gt;
  &lt;output:method value="html"/&gt;
&lt;/output:serialization-parameters&gt;
</ns872:pre></ns871:div><ns873:p xmlns:ns873="http://www.w3.org/1999/xhtml">The following document would specify the value of the <ns874:code xmlns:ns874="http://www.w3.org/1999/xhtml">method</ns874:code>
serialization parameter with value equal to the expanded QName
(<ns875:code xmlns:ns875="http://www.w3.org/1999/xhtml">http://example.org/ext</ns875:code>, <ns876:code xmlns:ns876="http://www.w3.org/1999/xhtml">jsp</ns876:code>), and the
<ns877:code xmlns:ns877="http://www.w3.org/1999/xhtml">use-character-maps</ns877:code> parameter with value equal to the list of
pairs, <ns878:code xmlns:ns878="http://www.w3.org/1999/xhtml">(«, &lt;%), (», %&gt;)</ns878:code></ns873:p><ns879:div xmlns:ns879="http://www.w3.org/1999/xhtml" class="exampleInner"><ns880:pre xmlns:ns880="http://www.w3.org/1999/xhtml">
&lt;output:serialization-parameters
       xmlns:output="http://www.w3.org/2010/xslt-xquery-serialization"
       xmlns:ext="http://example.org/ext"&gt;
  &lt;output:method value="ext:jsp"/&gt;
  &lt;output:use-character-maps&gt;
    &lt;output:character-map character="&amp;#xAB;" map-string="&amp;lt;%"/&gt;
    &lt;output:character-map character="&amp;#xBB;" map-string="%&amp;gt;"/&gt;
  &lt;/output:use-character-maps&gt;
&lt;/output:serialization-parameters&gt;
</ns880:pre></ns879:div></ns848:div></ns686:div></ns516:div><ns881:div xmlns:ns881="http://www.w3.org/1999/xhtml" class="div1">
<ns882:h2 xmlns:ns882="http://www.w3.org/1999/xhtml"><ns883:a xmlns:ns883="http://www.w3.org/1999/xhtml" name="serphases" id="serphases"/>4 Phases of Serialization</ns882:h2><ns884:p xmlns:ns884="http://www.w3.org/1999/xhtml">Serialization comprises five phases of processing 
(preceded optionally by the sequence normalization process 
described in <ns885:a xmlns:ns885="http://www.w3.org/1999/xhtml" href="#serdm"><ns886:b xmlns:ns886="http://www.w3.org/1999/xhtml">2 Sequence Normalization</ns886:b></ns885:a>).</ns884:p><ns887:p xmlns:ns887="http://www.w3.org/1999/xhtml">For an
<ns888:a xmlns:ns888="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns888:a> output method,
any of these phases <ns889:strong xmlns:ns889="http://www.w3.org/1999/xhtml">MAY</ns889:strong> be skipped or <ns890:strong xmlns:ns890="http://www.w3.org/1999/xhtml">MAY</ns890:strong> be performed in a different
order than is specified here.
For the output methods defined in this specification,
these phases are carried out sequentially as follows:</ns887:p><ns891:ol xmlns:ns891="http://www.w3.org/1999/xhtml" class="enumar"><ns892:li xmlns:ns892="http://www.w3.org/1999/xhtml"><ns893:p xmlns:ns893="http://www.w3.org/1999/xhtml">A <ns894:code xmlns:ns894="http://www.w3.org/1999/xhtml">meta</ns894:code> element is added to the normalized sequence along with discarding an existing 
<ns895:code xmlns:ns895="http://www.w3.org/1999/xhtml">meta</ns895:code> element, as controlled by the <ns896:code xmlns:ns896="http://www.w3.org/1999/xhtml">include-content-type</ns896:code> parameter for the XHTML and HTML output methods.
</ns893:p></ns892:li><ns897:li xmlns:ns897="http://www.w3.org/1999/xhtml"><ns898:p xmlns:ns898="http://www.w3.org/1999/xhtml"><ns899:em xmlns:ns899="http://www.w3.org/1999/xhtml">Markup generation</ns899:em> produces the character representation of
those parts of the serialized result that describe the structure of the normalized 
sequence.  In the cases of the XML, HTML and XHTML
output methods, this phase produces the character representations of the following:</ns898:p><ns900:ul xmlns:ns900="http://www.w3.org/1999/xhtml"><ns901:li xmlns:ns901="http://www.w3.org/1999/xhtml"><ns902:p xmlns:ns902="http://www.w3.org/1999/xhtml">the document type declaration;
</ns902:p></ns901:li><ns903:li xmlns:ns903="http://www.w3.org/1999/xhtml"><ns904:p xmlns:ns904="http://www.w3.org/1999/xhtml">start tags and end tags (except for
attribute values, whose representation is produced by the character
expansion phase);
</ns904:p></ns903:li><ns905:li xmlns:ns905="http://www.w3.org/1999/xhtml"><ns906:p xmlns:ns906="http://www.w3.org/1999/xhtml">processing instructions; and</ns906:p></ns905:li><ns907:li xmlns:ns907="http://www.w3.org/1999/xhtml"><ns908:p xmlns:ns908="http://www.w3.org/1999/xhtml">comments.</ns908:p></ns907:li></ns900:ul><ns909:p xmlns:ns909="http://www.w3.org/1999/xhtml">In the cases of the XML and XHTML output methods,
this phase also produces the following:</ns909:p><ns910:ul xmlns:ns910="http://www.w3.org/1999/xhtml"><ns911:li xmlns:ns911="http://www.w3.org/1999/xhtml"><ns912:p xmlns:ns912="http://www.w3.org/1999/xhtml">the XML or text declaration; and</ns912:p></ns911:li><ns913:li xmlns:ns913="http://www.w3.org/1999/xhtml"><ns914:p xmlns:ns914="http://www.w3.org/1999/xhtml">empty element tags (except for the attribute
values);</ns914:p></ns913:li></ns910:ul><ns915:p xmlns:ns915="http://www.w3.org/1999/xhtml">
In the case of the text output method,
<ns916:span xmlns:ns916="http://www.w3.org/1999/xhtml">this phase replaces the single
document node produced by <ns917:a xmlns:ns917="http://www.w3.org/1999/xhtml" title="sequence normalization" href="#sequence-normalization">sequence
normalization</ns917:a> with a new document node that has exactly one child,
which is a text node.  The string value of the new text node is the string value
of the document node that was produced by sequence normalization.</ns916:span>
</ns915:p></ns897:li><ns918:li xmlns:ns918="http://www.w3.org/1999/xhtml"><ns919:p xmlns:ns919="http://www.w3.org/1999/xhtml"><ns920:em xmlns:ns920="http://www.w3.org/1999/xhtml">Character expansion</ns920:em> 
is concerned with the representation of characters appearing in text and attribute <ns921:a xmlns:ns921="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns921:a>
in the normalized sequence. For each text and attribute <ns922:a xmlns:ns922="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns922:a>, the following rules are applied in sequence. 
</ns919:p><ns923:ol xmlns:ns923="http://www.w3.org/1999/xhtml" class="enumla"><ns924:li xmlns:ns924="http://www.w3.org/1999/xhtml"><ns925:p xmlns:ns925="http://www.w3.org/1999/xhtml">
If the node is an attribute that is a <ns926:a xmlns:ns926="http://www.w3.org/1999/xhtml" title="URI attribute values" href="#uri-attribute-values">URI attribute value</ns926:a> 
and the <ns927:code xmlns:ns927="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns927:code> parameter is set to require escaping of URI attributes, 
apply <ns928:a xmlns:ns928="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns928:a> as defined below, 
and skip rules b-e. Otherwise, continue with rule b.</ns925:p><ns929:p xmlns:ns929="http://www.w3.org/1999/xhtml">[<ns930:a xmlns:ns930="http://www.w3.org/1999/xhtml" name="uri-escaping" id="uri-escaping" title="URI Escaping">Definition</ns930:a>: <ns931:b xmlns:ns931="http://www.w3.org/1999/xhtml">URI escaping</ns931:b> consists of the following three steps applied in sequence to the content of 
<ns932:a xmlns:ns932="http://www.w3.org/1999/xhtml" title="URI attribute values" href="#uri-attribute-values">URI attribute values</ns932:a>:]
</ns929:p><ns933:ol xmlns:ns933="http://www.w3.org/1999/xhtml" class="enumlr"><ns934:li xmlns:ns934="http://www.w3.org/1999/xhtml"><ns935:p xmlns:ns935="http://www.w3.org/1999/xhtml">normalize to NFC using the method defined in <ns936:a xmlns:ns936="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#func-normalize-unicode">Section 
5.4.6 </ns936:a><ns937:sup xmlns:ns937="http://www.w3.org/1999/xhtml"><ns938:small xmlns:ns938="http://www.w3.org/1999/xhtml">FO11</ns938:small></ns937:sup></ns935:p></ns934:li><ns939:li xmlns:ns939="http://www.w3.org/1999/xhtml"><ns940:p xmlns:ns940="http://www.w3.org/1999/xhtml">percent-encode any special characters in the URI using the method defined in <ns941:a xmlns:ns941="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#func-escape-html-uri">Section 
6.4 </ns941:a><ns942:sup xmlns:ns942="http://www.w3.org/1999/xhtml"><ns943:small xmlns:ns943="http://www.w3.org/1999/xhtml">FO11</ns943:small></ns942:sup></ns940:p></ns939:li><ns944:li xmlns:ns944="http://www.w3.org/1999/xhtml"><ns945:p xmlns:ns945="http://www.w3.org/1999/xhtml">escape according to


<ns946:span xmlns:ns946="http://www.w3.org/1999/xhtml">the rules of the XML or HTML output
method, whichever is applicable, any characters that require</ns946:span>

escaping, and any characters that cannot be represented in the
selected encoding. 
For example, replace <ns947:code xmlns:ns947="http://www.w3.org/1999/xhtml">&lt;</ns947:code> with <ns948:code xmlns:ns948="http://www.w3.org/1999/xhtml">&amp;lt;</ns948:code>.
(See also section <ns949:a xmlns:ns949="http://www.w3.org/1999/xhtml" href="#HTML_CHARDATA"><ns950:b xmlns:ns950="http://www.w3.org/1999/xhtml">7.3 Writing Character Data</ns950:b></ns949:a>)
</ns945:p></ns944:li></ns933:ol><ns951:p xmlns:ns951="http://www.w3.org/1999/xhtml">
[<ns952:a xmlns:ns952="http://www.w3.org/1999/xhtml" name="uri-attribute-values" id="uri-attribute-values" title="URI attribute values">Definition</ns952:a>:  The values of attributes listed in 
<ns953:a xmlns:ns953="http://www.w3.org/1999/xhtml" href="#list-of-uri-attributes"><ns954:b xmlns:ns954="http://www.w3.org/1999/xhtml">D List of URI Attributes</ns954:b></ns953:a> are <ns955:b xmlns:ns955="http://www.w3.org/1999/xhtml">URI attribute values</ns955:b>. 
Attributes are not considered to be URI attributes simply because they are namespace declaration attributes or have the type annotation <ns956:code xmlns:ns956="http://www.w3.org/1999/xhtml">xs:anyURI</ns956:code>.]</ns951:p></ns924:li><ns957:li xmlns:ns957="http://www.w3.org/1999/xhtml"><ns958:p xmlns:ns958="http://www.w3.org/1999/xhtml">
If the node is a text node whose parent element is selected by the rules of the 
<ns959:code xmlns:ns959="http://www.w3.org/1999/xhtml">cdata-section-elements</ns959:code> parameter for the applicable output method, 
create CDATA sections as described below, and skip rules c-e. Otherwise, continue with rule c.
</ns958:p><ns960:p xmlns:ns960="http://www.w3.org/1999/xhtml">Apply the following two processes in sequence to create CDATA sections
</ns960:p><ns961:ol xmlns:ns961="http://www.w3.org/1999/xhtml" class="enumlr"><ns962:li xmlns:ns962="http://www.w3.org/1999/xhtml"><ns963:p xmlns:ns963="http://www.w3.org/1999/xhtml"><ns964:a xmlns:ns964="http://www.w3.org/1999/xhtml" title="Unicode Normalization" href="#unicode-normalization">Unicode Normalization</ns964:a> if requested by the <ns965:code xmlns:ns965="http://www.w3.org/1999/xhtml">normalization-form</ns965:code> parameter.</ns963:p></ns962:li><ns966:li xmlns:ns966="http://www.w3.org/1999/xhtml"><ns967:p xmlns:ns967="http://www.w3.org/1999/xhtml">apply changes as detailed in the description of the <ns968:code xmlns:ns968="http://www.w3.org/1999/xhtml">cdata-section-elements</ns968:code> parameter for the applicable output method.</ns967:p></ns966:li></ns961:ol></ns957:li><ns969:li xmlns:ns969="http://www.w3.org/1999/xhtml"><ns970:p xmlns:ns970="http://www.w3.org/1999/xhtml">Apply character mapping as determined by the 
<ns971:code xmlns:ns971="http://www.w3.org/1999/xhtml">use-character-maps</ns971:code> parameter for the applicable output method.  
For characters that were substituted by this process, skip rules d and e. 
For the remaining characters that were not modified by character mapping, continue with rule d. 
</ns970:p></ns969:li><ns972:li xmlns:ns972="http://www.w3.org/1999/xhtml"><ns973:p xmlns:ns973="http://www.w3.org/1999/xhtml">Apply <ns974:a xmlns:ns974="http://www.w3.org/1999/xhtml" title="Unicode Normalization" href="#unicode-normalization">Unicode Normalization</ns974:a> if requested by the <ns975:code xmlns:ns975="http://www.w3.org/1999/xhtml">normalization-form</ns975:code> parameter.  </ns973:p><ns976:p xmlns:ns976="http://www.w3.org/1999/xhtml">
[<ns977:a xmlns:ns977="http://www.w3.org/1999/xhtml" name="unicode-normalization" id="unicode-normalization" title="Unicode Normalization">Definition</ns977:a>: <ns978:b xmlns:ns978="http://www.w3.org/1999/xhtml">Unicode Normalization</ns978:b>
is the process of removing alternate representations of equivalent sequences from textual data,
to convert the data into a form that can be binary-compared for equivalence, as specified in 
<ns979:a xmlns:ns979="http://www.w3.org/1999/xhtml" href="#UNICODE-NORMALIZATION-FORM">[UAX #15: Unicode Normalization Forms]</ns979:a>.   
For specific recommendations for character normalization on the World Wide Web, 
see <ns980:a xmlns:ns980="http://www.w3.org/1999/xhtml" href="#charmod-norm">[Character Model for the World Wide Web 1.0: Normalization]</ns980:a>.]</ns976:p><ns981:p xmlns:ns981="http://www.w3.org/1999/xhtml">
The meanings associated with the possible values of the <ns982:code xmlns:ns982="http://www.w3.org/1999/xhtml">normalization-form</ns982:code> parameter 
are defined in section <ns983:a xmlns:ns983="http://www.w3.org/1999/xhtml" href="#XML_NORMALIZATION-FORM"><ns984:b xmlns:ns984="http://www.w3.org/1999/xhtml">5.1.8 XML Output Method: the normalization-form Parameter</ns984:b></ns983:a>. </ns981:p><ns985:p xmlns:ns985="http://www.w3.org/1999/xhtml">Continue with step e.
</ns985:p></ns972:li><ns986:li xmlns:ns986="http://www.w3.org/1999/xhtml"><ns987:p xmlns:ns987="http://www.w3.org/1999/xhtml">Escape according to

<ns988:span xmlns:ns988="http://www.w3.org/1999/xhtml">the rules of the XML or HTML output
method, whichever is applicable,</ns988:span>

any characters (such as <ns989:code xmlns:ns989="http://www.w3.org/1999/xhtml">&lt;</ns989:code> and <ns990:code xmlns:ns990="http://www.w3.org/1999/xhtml">&amp;</ns990:code>) where XML or HTML requires 
escaping, and any characters that cannot be represented in the selected encoding. 
For example, replace <ns991:code xmlns:ns991="http://www.w3.org/1999/xhtml">&lt;</ns991:code> with <ns992:code xmlns:ns992="http://www.w3.org/1999/xhtml">&amp;lt;</ns992:code>. 
(See also section <ns993:a xmlns:ns993="http://www.w3.org/1999/xhtml" href="#HTML_CHARDATA"><ns994:b xmlns:ns994="http://www.w3.org/1999/xhtml">7.3 Writing Character Data</ns994:b></ns993:a>).
For characters such as <ns995:code xmlns:ns995="http://www.w3.org/1999/xhtml">&gt;</ns995:code> where XML defines a built-in entity but does not 
require its use in all circumstances, it is implementation-dependent whether the character 
is escaped.
</ns987:p></ns986:li></ns923:ol></ns918:li><ns996:li xmlns:ns996="http://www.w3.org/1999/xhtml"><ns997:p xmlns:ns997="http://www.w3.org/1999/xhtml"><ns998:em xmlns:ns998="http://www.w3.org/1999/xhtml">Indentation</ns998:em>, as controlled by
the <ns999:code xmlns:ns999="http://www.w3.org/1999/xhtml">indent</ns999:code> parameter <ns1000:span xmlns:ns1000="http://www.w3.org/1999/xhtml">and the
<ns1001:code xmlns:ns1001="http://www.w3.org/1999/xhtml">suppress-indentation</ns1001:code> parameter</ns1000:span>, <ns1002:strong xmlns:ns1002="http://www.w3.org/1999/xhtml">MAY</ns1002:strong>
add or remove
whitespace according to the rules defined by the applicable output method.</ns997:p></ns996:li><ns1003:li xmlns:ns1003="http://www.w3.org/1999/xhtml"><ns1004:p xmlns:ns1004="http://www.w3.org/1999/xhtml"><ns1005:em xmlns:ns1005="http://www.w3.org/1999/xhtml">Encoding</ns1005:em>, as controlled by the
<ns1006:code xmlns:ns1006="http://www.w3.org/1999/xhtml">encoding</ns1006:code> parameter, converts the character stream
produced by the previous phases into an octet stream.</ns1004:p><ns1007:div xmlns:ns1007="http://www.w3.org/1999/xhtml" class="note"><ns1008:p xmlns:ns1008="http://www.w3.org/1999/xhtml" class="prefix"><ns1009:b xmlns:ns1009="http://www.w3.org/1999/xhtml">Note:</ns1009:b></ns1008:p><ns1010:p xmlns:ns1010="http://www.w3.org/1999/xhtml">Serialization is only defined in terms of encoding the result as a stream of octets.  
However, a <ns1011:a xmlns:ns1011="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1011:a> may provide an option that allows the encoding phase to be skipped, so
that the result of serialization is a stream of Unicode characters.
The effect of any such option is <ns1012:a xmlns:ns1012="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns1012:a>, 
and a <ns1013:a xmlns:ns1013="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1013:a> is not required to support such an option.
</ns1010:p></ns1007:div></ns1003:li></ns891:ol></ns881:div><ns1014:div xmlns:ns1014="http://www.w3.org/1999/xhtml" class="div1">
<ns1015:h2 xmlns:ns1015="http://www.w3.org/1999/xhtml"><ns1016:a xmlns:ns1016="http://www.w3.org/1999/xhtml" name="xml-output" id="xml-output"/>5 XML Output Method</ns1015:h2><ns1017:p xmlns:ns1017="http://www.w3.org/1999/xhtml">The XML output method serializes the normalized sequence as an XML entity that
<ns1018:strong xmlns:ns1018="http://www.w3.org/1999/xhtml">MUST</ns1018:strong> satisfy the rules for either a well-formed XML document entity or a well-formed XML
external general parsed entity, or both.
A <ns1019:a xmlns:ns1019="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1019:a> [<ns1020:a xmlns:ns1020="http://www.w3.org/1999/xhtml" href="#ERRSERE0003" title="err:SERE0003">err:SERE0003</ns1020:a>] results if the
<ns1021:a xmlns:ns1021="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1021:a>
is unable to satisfy those rules,
except for content modified by the character expansion phase of serialization,
as described in <ns1022:a xmlns:ns1022="http://www.w3.org/1999/xhtml" href="#serphases"><ns1023:b xmlns:ns1023="http://www.w3.org/1999/xhtml">4 Phases of Serialization</ns1023:b></ns1022:a>.
The effects of the character expansion phase could result in the serialized output 
being not well-formed, but will not result in a <ns1024:a xmlns:ns1024="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1024:a>.  
If a <ns1025:a xmlns:ns1025="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1025:a> results, the 
<ns1026:a xmlns:ns1026="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1026:a> <ns1027:strong xmlns:ns1027="http://www.w3.org/1999/xhtml">MUST</ns1027:strong> signal the error.</ns1017:p><ns1028:p xmlns:ns1028="http://www.w3.org/1999/xhtml">If the document <ns1029:a xmlns:ns1029="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1029:a> of the
normalized sequence has a single element
<ns1030:a xmlns:ns1030="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1030:a> child and no text <ns1031:a xmlns:ns1031="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1031:a> children,
then the serialized output
is a well-formed XML document entity, and the serialized output
<ns1032:strong xmlns:ns1032="http://www.w3.org/1999/xhtml">MUST</ns1032:strong> conform to the
appropriate version of the
XML Namespaces Recommendation <ns1033:a xmlns:ns1033="http://www.w3.org/1999/xhtml" href="#xml-names">[XML Names]</ns1033:a>
or <ns1034:a xmlns:ns1034="http://www.w3.org/1999/xhtml" href="#xml-names11">[XML Names 1.1]</ns1034:a>.
If the normalized sequence does not take this form, then
the serialized output is a well-formed XML external general parsed entity,
which, when referenced within a trivial XML document wrapper
like this:</ns1028:p><ns1035:div xmlns:ns1035="http://www.w3.org/1999/xhtml" class="exampleInner"><ns1036:pre xmlns:ns1036="http://www.w3.org/1999/xhtml">
&lt;?xml version="<ns1037:em xmlns:ns1037="http://www.w3.org/1999/xhtml">version</ns1037:em>"?&gt;
&lt;!DOCTYPE doc [
&lt;!ENTITY e SYSTEM "<ns1038:em xmlns:ns1038="http://www.w3.org/1999/xhtml">entity-URI</ns1038:em>"&gt;
]&gt;
&lt;doc&gt;&amp;e;&lt;/doc&gt;</ns1036:pre></ns1035:div><ns1039:p xmlns:ns1039="http://www.w3.org/1999/xhtml">where <ns1040:code xmlns:ns1040="http://www.w3.org/1999/xhtml">entity-URI</ns1040:code> is a URI for the entity,
and the value of the <ns1041:code xmlns:ns1041="http://www.w3.org/1999/xhtml">version</ns1041:code>
pseudo-attribute is the value of the <ns1042:code xmlns:ns1042="http://www.w3.org/1999/xhtml">version</ns1042:code>
parameter, produces a
document which <ns1043:strong xmlns:ns1043="http://www.w3.org/1999/xhtml">MUST</ns1043:strong> itself be a
well-formed XML document conforming
to the
corresponding version of the
XML Namespaces Recommendation <ns1044:a xmlns:ns1044="http://www.w3.org/1999/xhtml" href="#xml-names">[XML Names]</ns1044:a>
or <ns1045:a xmlns:ns1045="http://www.w3.org/1999/xhtml" href="#xml-names11">[XML Names 1.1]</ns1045:a>.</ns1039:p><ns1046:p xmlns:ns1046="http://www.w3.org/1999/xhtml">[<ns1047:a xmlns:ns1047="http://www.w3.org/1999/xhtml" name="reconstructed-tree" id="reconstructed-tree" title="reconstructed tree">Definition</ns1047:a>: A <ns1048:b xmlns:ns1048="http://www.w3.org/1999/xhtml">reconstructed tree</ns1048:b> may be
constructed by parsing the XML document and converting it into an
instance of the data model as specified in 
<ns1049:a xmlns:ns1049="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns1049:a>.]
The result of serialization <ns1050:strong xmlns:ns1050="http://www.w3.org/1999/xhtml">MUST</ns1050:strong> be such that the <ns1051:a xmlns:ns1051="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1051:a>
is the same as the <ns1052:a xmlns:ns1052="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1052:a> except for the following permitted differences:</ns1046:p><ns1053:ul xmlns:ns1053="http://www.w3.org/1999/xhtml"><ns1054:li xmlns:ns1054="http://www.w3.org/1999/xhtml"><ns1055:p xmlns:ns1055="http://www.w3.org/1999/xhtml">If the document was produced by adding a document wrapper, as
described above, then it will contain an extra <ns1056:code xmlns:ns1056="http://www.w3.org/1999/xhtml">doc</ns1056:code>
element as the document element.</ns1055:p></ns1054:li><ns1057:li xmlns:ns1057="http://www.w3.org/1999/xhtml"><ns1058:p xmlns:ns1058="http://www.w3.org/1999/xhtml">The order of attribute and namespace <ns1059:a xmlns:ns1059="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1059:a> in the two trees <ns1060:strong xmlns:ns1060="http://www.w3.org/1999/xhtml">MAY</ns1060:strong> be
different.</ns1058:p></ns1057:li><ns1061:li xmlns:ns1061="http://www.w3.org/1999/xhtml"><ns1062:p xmlns:ns1062="http://www.w3.org/1999/xhtml">
The following properties of corresponding <ns1063:a xmlns:ns1063="http://www.w3.org/1999/xhtml" href="#dt-node" title="node">nodes</ns1063:a>
in the two trees <ns1064:strong xmlns:ns1064="http://www.w3.org/1999/xhtml">MAY</ns1064:strong> be different:
</ns1062:p><ns1065:ul xmlns:ns1065="http://www.w3.org/1999/xhtml"><ns1066:li xmlns:ns1066="http://www.w3.org/1999/xhtml"><ns1067:p xmlns:ns1067="http://www.w3.org/1999/xhtml">the base-uri property of document <ns1068:a xmlns:ns1068="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1068:a> and element <ns1069:a xmlns:ns1069="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1069:a>;</ns1067:p></ns1066:li><ns1070:li xmlns:ns1070="http://www.w3.org/1999/xhtml"><ns1071:p xmlns:ns1071="http://www.w3.org/1999/xhtml">the document-uri and unparsed-entities properties of document
<ns1072:a xmlns:ns1072="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1072:a>;</ns1071:p></ns1070:li><ns1073:li xmlns:ns1073="http://www.w3.org/1999/xhtml"><ns1074:p xmlns:ns1074="http://www.w3.org/1999/xhtml">the type-name and typed-value properties of element and attribute
<ns1075:a xmlns:ns1075="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1075:a>;</ns1074:p></ns1073:li><ns1076:li xmlns:ns1076="http://www.w3.org/1999/xhtml"><ns1077:p xmlns:ns1077="http://www.w3.org/1999/xhtml">the nilled property of element <ns1078:a xmlns:ns1078="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1078:a>;</ns1077:p></ns1076:li><ns1079:li xmlns:ns1079="http://www.w3.org/1999/xhtml"><ns1080:p xmlns:ns1080="http://www.w3.org/1999/xhtml">the content property of text <ns1081:a xmlns:ns1081="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1081:a>, due to the effect of the
<ns1082:code xmlns:ns1082="http://www.w3.org/1999/xhtml">indent</ns1082:code> and <ns1083:code xmlns:ns1083="http://www.w3.org/1999/xhtml">use-character-maps</ns1083:code>
parameters.</ns1080:p></ns1079:li></ns1065:ul></ns1061:li><ns1084:li xmlns:ns1084="http://www.w3.org/1999/xhtml"><ns1085:p xmlns:ns1085="http://www.w3.org/1999/xhtml">The <ns1086:a xmlns:ns1086="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1086:a> <ns1087:strong xmlns:ns1087="http://www.w3.org/1999/xhtml">MAY</ns1087:strong> contain additional attributes and text <ns1088:a xmlns:ns1088="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1088:a> resulting from the
expansion of default and fixed values in its DTD or schema;
also, in the presence of a DTD, non-CDATA attributes may lose whitespace
characters as a result of attribute value normalization.</ns1085:p></ns1084:li><ns1089:li xmlns:ns1089="http://www.w3.org/1999/xhtml"><ns1090:p xmlns:ns1090="http://www.w3.org/1999/xhtml">The type annotations of the <ns1091:a xmlns:ns1091="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1091:a> in the two trees <ns1092:strong xmlns:ns1092="http://www.w3.org/1999/xhtml">MAY</ns1092:strong> be different. 
Type annotations in a <ns1093:a xmlns:ns1093="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1093:a> are discarded when the tree is serialized. 
Any new type annotations obtained by parsing the document will depend on whether the serialized XML document is assessed against a schema, 
and this <ns1094:strong xmlns:ns1094="http://www.w3.org/1999/xhtml">MAY</ns1094:strong> result in type annotations that are different from
those in the original <ns1095:a xmlns:ns1095="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1095:a>.
</ns1090:p><ns1096:div xmlns:ns1096="http://www.w3.org/1999/xhtml" class="note"><ns1097:p xmlns:ns1097="http://www.w3.org/1999/xhtml" class="prefix"><ns1098:b xmlns:ns1098="http://www.w3.org/1999/xhtml">Note:</ns1098:b></ns1097:p><ns1099:p xmlns:ns1099="http://www.w3.org/1999/xhtml">In order to influence the type annotations in the
instance of the data model that would result from processing a serialized XML document,
the author of the XSLT stylesheet, XQuery expression or other process
might wish to create the instance of the data model that is input to the
serialization process so that it makes use of mechanisms provided by
<ns1100:a xmlns:ns1100="http://www.w3.org/1999/xhtml" href="#xmlschema-1">[XML Schema]</ns1100:a>, such as <ns1101:code xmlns:ns1101="http://www.w3.org/1999/xhtml">xsi:type</ns1101:code> and
<ns1102:code xmlns:ns1102="http://www.w3.org/1999/xhtml">xsi:schemaLocation</ns1102:code> attributes.  The serialization process
will not automatically create such attributes in the serialized
document if those attributes were not part of the <ns1103:a xmlns:ns1103="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1103:a> that is
to be serialized.</ns1099:p><ns1104:p xmlns:ns1104="http://www.w3.org/1999/xhtml">Similarly, it is possible that an element <ns1105:a xmlns:ns1105="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1105:a> in
the instance of the data model that is to be serialized has the <ns1106:code xmlns:ns1106="http://www.w3.org/1999/xhtml">nilled</ns1106:code>
property with the value <ns1107:code xmlns:ns1107="http://www.w3.org/1999/xhtml">true</ns1107:code>, but no <ns1108:code xmlns:ns1108="http://www.w3.org/1999/xhtml">xsi:nil</ns1108:code>
attribute.  The serialization process will not create such an attribute
in the serialized document simply to reflect the value of the property.
The value of the <ns1109:code xmlns:ns1109="http://www.w3.org/1999/xhtml">nilled</ns1109:code> property has no direct effect on
the serialized result.
</ns1104:p></ns1096:div></ns1089:li><ns1110:li xmlns:ns1110="http://www.w3.org/1999/xhtml"><ns1111:p xmlns:ns1111="http://www.w3.org/1999/xhtml">Additional namespace <ns1112:a xmlns:ns1112="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1112:a> <ns1113:strong xmlns:ns1113="http://www.w3.org/1999/xhtml">MAY</ns1113:strong> be present
in the <ns1114:a xmlns:ns1114="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1114:a> if the serialization process
did not undeclare one or more namespaces,
as described in <ns1115:a xmlns:ns1115="http://www.w3.org/1999/xhtml" href="#xml-undeclare-NS"><ns1116:b xmlns:ns1116="http://www.w3.org/1999/xhtml">5.1.7 XML Output Method: the undeclare-prefixes Parameter</ns1116:b></ns1115:a>,
and the starting instance of the data model contained an element <ns1117:a xmlns:ns1117="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1117:a>
with a namespace <ns1118:a xmlns:ns1118="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1118:a> that declared some prefix, but a child element
of that <ns1119:a xmlns:ns1119="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1119:a> did not have any namespace <ns1120:a xmlns:ns1120="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1120:a> that declared the same prefix.</ns1111:p><ns1121:p xmlns:ns1121="http://www.w3.org/1999/xhtml">
The <ns1122:a xmlns:ns1122="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1122:a> <ns1123:strong xmlns:ns1123="http://www.w3.org/1999/xhtml">MAY</ns1123:strong> contain namespace <ns1124:a xmlns:ns1124="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1124:a>
that are not present in the <ns1125:a xmlns:ns1125="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1125:a>, as the process of creating an instance
of the data model <ns1126:strong xmlns:ns1126="http://www.w3.org/1999/xhtml">MAY</ns1126:strong> ignore namespace declarations in some circumstances.
See <ns1127:a xmlns:ns1127="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/#const-infoset-element">Section 
6.2.3 Construction from an Infoset</ns1127:a><ns1128:sup xmlns:ns1128="http://www.w3.org/1999/xhtml"><ns1129:small xmlns:ns1129="http://www.w3.org/1999/xhtml">DM11</ns1129:small></ns1128:sup> and
<ns1130:a xmlns:ns1130="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/#const-psvi-element">Section 
6.2.4 Construction from a PSVI</ns1130:a><ns1131:sup xmlns:ns1131="http://www.w3.org/1999/xhtml"><ns1132:small xmlns:ns1132="http://www.w3.org/1999/xhtml">DM11</ns1132:small></ns1131:sup> of <ns1133:a xmlns:ns1133="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns1133:a>
for additional information.
</ns1121:p></ns1110:li><ns1134:li xmlns:ns1134="http://www.w3.org/1999/xhtml"><ns1135:p xmlns:ns1135="http://www.w3.org/1999/xhtml">If the <ns1136:code xmlns:ns1136="http://www.w3.org/1999/xhtml">indent</ns1136:code> parameter has
the value <ns1137:code xmlns:ns1137="http://www.w3.org/1999/xhtml">yes</ns1137:code>,</ns1135:p><ns1138:ul xmlns:ns1138="http://www.w3.org/1999/xhtml"><ns1139:li xmlns:ns1139="http://www.w3.org/1999/xhtml"><ns1140:p xmlns:ns1140="http://www.w3.org/1999/xhtml">additional text <ns1141:a xmlns:ns1141="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1141:a> consisting of
whitespace characters <ns1142:strong xmlns:ns1142="http://www.w3.org/1999/xhtml">MAY</ns1142:strong> be present in the <ns1143:a xmlns:ns1143="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1143:a>; and</ns1140:p></ns1139:li><ns1144:li xmlns:ns1144="http://www.w3.org/1999/xhtml"><ns1145:p xmlns:ns1145="http://www.w3.org/1999/xhtml">text <ns1146:a xmlns:ns1146="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1146:a> in the <ns1147:a xmlns:ns1147="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1147:a> that contained only whitespace
characters <ns1148:strong xmlns:ns1148="http://www.w3.org/1999/xhtml">MAY</ns1148:strong> correspond to text <ns1149:a xmlns:ns1149="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1149:a> in the <ns1150:a xmlns:ns1150="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1150:a> that contain additional
whitespace characters that were not present in the <ns1151:a xmlns:ns1151="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1151:a></ns1145:p></ns1144:li></ns1138:ul><ns1152:p xmlns:ns1152="http://www.w3.org/1999/xhtml">See <ns1153:a xmlns:ns1153="http://www.w3.org/1999/xhtml" href="#xml-indent"><ns1154:b xmlns:ns1154="http://www.w3.org/1999/xhtml">5.1.3 XML Output Method: the indent and suppress-indentation Parameters</ns1154:b></ns1153:a> for more information on the
<ns1155:code xmlns:ns1155="http://www.w3.org/1999/xhtml">indent</ns1155:code> parameter.</ns1152:p></ns1134:li><ns1156:li xmlns:ns1156="http://www.w3.org/1999/xhtml"><ns1157:p xmlns:ns1157="http://www.w3.org/1999/xhtml">Additional <ns1158:a xmlns:ns1158="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1158:a> <ns1159:strong xmlns:ns1159="http://www.w3.org/1999/xhtml">MAY</ns1159:strong> be present in the
<ns1160:a xmlns:ns1160="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1160:a> due to the effect of character mapping in the character expansion phase,
and the values of attribute <ns1161:a xmlns:ns1161="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1161:a> and text <ns1162:a xmlns:ns1162="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1162:a> in the
<ns1163:a xmlns:ns1163="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1163:a> <ns1164:strong xmlns:ns1164="http://www.w3.org/1999/xhtml">MAY</ns1164:strong> be different from those in the <ns1165:a xmlns:ns1165="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1165:a>, due to
the effects of URI expansion, character mapping
and <ns1166:a xmlns:ns1166="http://www.w3.org/1999/xhtml" title="Unicode Normalization" href="#unicode-normalization">Unicode Normalization</ns1166:a> in
the character expansion phase of serialization.
</ns1157:p><ns1167:div xmlns:ns1167="http://www.w3.org/1999/xhtml" class="note"><ns1168:p xmlns:ns1168="http://www.w3.org/1999/xhtml" class="prefix"><ns1169:b xmlns:ns1169="http://www.w3.org/1999/xhtml">Note:</ns1169:b></ns1168:p><ns1170:p xmlns:ns1170="http://www.w3.org/1999/xhtml">The <ns1171:code xmlns:ns1171="http://www.w3.org/1999/xhtml">use-character-maps</ns1171:code> parameter can
cause arbitrary characters to be inserted into the serialized XML document
in an unescaped form, including characters that would be considered to be
part of XML markup.  Such characters could result in arbitrary new element
<ns1172:a xmlns:ns1172="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1172:a>, attribute <ns1173:a xmlns:ns1173="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1173:a>, and so on, in the <ns1174:a xmlns:ns1174="http://www.w3.org/1999/xhtml" title="reconstructed tree" href="#reconstructed-tree">reconstructed tree</ns1174:a> that results from
processing the serialized XML document.</ns1170:p></ns1167:div></ns1156:li></ns1053:ul><ns1175:p xmlns:ns1175="http://www.w3.org/1999/xhtml">A consequence of this rule is that certain characters
<ns1176:strong xmlns:ns1176="http://www.w3.org/1999/xhtml">MUST</ns1176:strong> be output as character
references, to ensure that they survive
the round trip through serialization and parsing.
Specifically, CR, NEL and LINE
SEPARATOR characters in text <ns1177:a xmlns:ns1177="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1177:a> <ns1178:strong xmlns:ns1178="http://www.w3.org/1999/xhtml">MUST</ns1178:strong> be output respectively as
"<ns1179:code xmlns:ns1179="http://www.w3.org/1999/xhtml">&amp;#xD;</ns1179:code>", "<ns1180:code xmlns:ns1180="http://www.w3.org/1999/xhtml">&amp;#x85;</ns1180:code>", and
"<ns1181:code xmlns:ns1181="http://www.w3.org/1999/xhtml">&amp;#x2028;</ns1181:code>", or their equivalents; while CR, NL, TAB, NEL and
LINE SEPARATOR characters in attribute <ns1182:a xmlns:ns1182="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1182:a> <ns1183:strong xmlns:ns1183="http://www.w3.org/1999/xhtml">MUST</ns1183:strong> be output respectively
as "<ns1184:code xmlns:ns1184="http://www.w3.org/1999/xhtml">&amp;#xD;</ns1184:code>", "<ns1185:code xmlns:ns1185="http://www.w3.org/1999/xhtml">&amp;#xA;</ns1185:code>", "<ns1186:code xmlns:ns1186="http://www.w3.org/1999/xhtml">&amp;#x9;</ns1186:code>",
"<ns1187:code xmlns:ns1187="http://www.w3.org/1999/xhtml">&amp;#x85;</ns1187:code>", and "<ns1188:code xmlns:ns1188="http://www.w3.org/1999/xhtml">&amp;#x2028;</ns1188:code>", or their equivalents.
In addition, the non-whitespace control characters
#x1 through #x1F and #x7F through #x9F in text <ns1189:a xmlns:ns1189="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1189:a> and attribute <ns1190:a xmlns:ns1190="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1190:a> <ns1191:strong xmlns:ns1191="http://www.w3.org/1999/xhtml">MUST</ns1191:strong> be
output as character references.
</ns1175:p><ns1192:p xmlns:ns1192="http://www.w3.org/1999/xhtml">For example, an attribute with the value "x" followed by "y"
separated by a newline will result in the output
<ns1193:code xmlns:ns1193="http://www.w3.org/1999/xhtml">"x&amp;#xA;y"</ns1193:code> (or with any equivalent character
reference). The XML output cannot be "x" followed by a literal newline
followed by a "y" because after parsing, the attribute value would be
<ns1194:code xmlns:ns1194="http://www.w3.org/1999/xhtml">"x y"</ns1194:code> as a consequence of the XML attribute normalization
rules.</ns1192:p><ns1195:div xmlns:ns1195="http://www.w3.org/1999/xhtml" class="note"><ns1196:p xmlns:ns1196="http://www.w3.org/1999/xhtml" class="prefix"><ns1197:b xmlns:ns1197="http://www.w3.org/1999/xhtml">Note:</ns1197:b></ns1196:p><ns1198:p xmlns:ns1198="http://www.w3.org/1999/xhtml">XML 1.0 did not permit
an XML processor to normalize NEL or LINE SEPARATOR characters to a LINE FEED character.  However, if
a document entity that specifies version 1.1 invokes an external general
parsed entity with no text declaration or a text declaration that specifies
version 1.0, the external parsed entity is processed according to the rules
of XML 1.1.  For this reason, NEL and LINE SEPARATOR characters in text and
attribute <ns1199:a xmlns:ns1199="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1199:a> must always be escaped using character references,
regardless of the value of the <ns1200:code xmlns:ns1200="http://www.w3.org/1999/xhtml">version</ns1200:code> parameter.
</ns1198:p><ns1201:p xmlns:ns1201="http://www.w3.org/1999/xhtml">
XML 1.0 permitted control characters in the range #x7F through #x9F
to appear as literal characters in an XML document, but XML 1.1
requires such characters, other than NEL,
to be escaped as character references.  An
external general parsed entity with no text declaration or a text
declaration that specifies a version pseudo-attribute with value
<ns1202:code xmlns:ns1202="http://www.w3.org/1999/xhtml">1.0</ns1202:code> that is invoked by an XML 1.1 document entity must
follow the rules of XML 1.1.  Therefore, the non-whitespace control
characters in the ranges #x1 through #x1F and #x7F through #x9F must
always be escaped, regardless of the value of the <ns1203:code xmlns:ns1203="http://www.w3.org/1999/xhtml">version</ns1203:code> parameter.
</ns1201:p></ns1195:div><ns1204:p xmlns:ns1204="http://www.w3.org/1999/xhtml">It is a <ns1205:a xmlns:ns1205="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1205:a> [<ns1206:a xmlns:ns1206="http://www.w3.org/1999/xhtml" href="#ERRSEPM0004" title="err:SEPM0004">err:SEPM0004</ns1206:a>] to specify the doctype-system parameter, or to specify the standalone parameter with a value other than <ns1207:code xmlns:ns1207="http://www.w3.org/1999/xhtml">omit</ns1207:code>, if the
instance of the data model contains text <ns1208:a xmlns:ns1208="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1208:a> or multiple element <ns1209:a xmlns:ns1209="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1209:a> as children
of the root <ns1210:a xmlns:ns1210="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1210:a>. The
<ns1211:a xmlns:ns1211="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1211:a>
<ns1212:strong xmlns:ns1212="http://www.w3.org/1999/xhtml">MUST</ns1212:strong> either signal the error, or recover
by ignoring the request to output a document type declaration or
<ns1213:code xmlns:ns1213="http://www.w3.org/1999/xhtml">standalone</ns1213:code> parameter.</ns1204:p><ns1214:div xmlns:ns1214="http://www.w3.org/1999/xhtml" class="div2">
<ns1215:h3 xmlns:ns1215="http://www.w3.org/1999/xhtml"><ns1216:a xmlns:ns1216="http://www.w3.org/1999/xhtml" name="XML_PARAMS" id="XML_PARAMS"/>5.1 The Influence of Serialization Parameters upon the XML Output Method</ns1215:h3><ns1217:div xmlns:ns1217="http://www.w3.org/1999/xhtml" class="div3">
<ns1218:h4 xmlns:ns1218="http://www.w3.org/1999/xhtml"><ns1219:a xmlns:ns1219="http://www.w3.org/1999/xhtml" name="XML_VERSION" id="XML_VERSION"/>5.1.1 XML Output Method: the <ns1220:code xmlns:ns1220="http://www.w3.org/1999/xhtml">version</ns1220:code> Parameter</ns1218:h4><ns1221:p xmlns:ns1221="http://www.w3.org/1999/xhtml">The <ns1222:code xmlns:ns1222="http://www.w3.org/1999/xhtml">version</ns1222:code> parameter specifies the version of XML
and the version of Namespaces in XML to
be used for outputting the instance of the data model.   
The version output in the XML declaration (if an XML declaration is not omitted) 
<ns1223:strong xmlns:ns1223="http://www.w3.org/1999/xhtml">MUST</ns1223:strong> correspond to the version of XML that
the <ns1224:a xmlns:ns1224="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1224:a>
used for outputting the instance of the data model. <ns1225:span xmlns:ns1225="http://www.w3.org/1999/xhtml">The value of the
<ns1226:code xmlns:ns1226="http://www.w3.org/1999/xhtml">version</ns1226:code> parameter 
<ns1227:strong xmlns:ns1227="http://www.w3.org/1999/xhtml">MUST</ns1227:strong> match the
<ns1228:a xmlns:ns1228="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml#NT-VersionNum">
VersionNum
</ns1228:a><ns1229:sup xmlns:ns1229="http://www.w3.org/1999/xhtml"><ns1230:small xmlns:ns1230="http://www.w3.org/1999/xhtml">XML</ns1230:small></ns1229:sup>
production of the XML Recommendation <ns1231:a xmlns:ns1231="http://www.w3.org/1999/xhtml" href="#xml">[XML10]</ns1231:a> or <ns1232:a xmlns:ns1232="http://www.w3.org/1999/xhtml" href="#xml11">[XML11]</ns1232:a>.</ns1225:span>
A serialization error [<ns1233:a xmlns:ns1233="http://www.w3.org/1999/xhtml" href="#ERRSESU0013" title="err:SESU0013">err:SESU0013</ns1233:a>] results if the value of the <ns1234:code xmlns:ns1234="http://www.w3.org/1999/xhtml">version</ns1234:code> parameter specifies 
a version of XML that is not supported by the <ns1235:a xmlns:ns1235="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1235:a>; 
the <ns1236:a xmlns:ns1236="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1236:a> <ns1237:strong xmlns:ns1237="http://www.w3.org/1999/xhtml">MUST</ns1237:strong>
signal the error.</ns1221:p><ns1238:p xmlns:ns1238="http://www.w3.org/1999/xhtml">This document provides the normative
definition of serialization for the XML output method if the
<ns1239:code xmlns:ns1239="http://www.w3.org/1999/xhtml">version</ns1239:code> parameter has either the value <ns1240:code xmlns:ns1240="http://www.w3.org/1999/xhtml">1.0</ns1240:code> or
<ns1241:code xmlns:ns1241="http://www.w3.org/1999/xhtml">1.1</ns1241:code>.  For
any other value of <ns1242:code xmlns:ns1242="http://www.w3.org/1999/xhtml">version</ns1242:code> parameter, the behavior is
<ns1243:a xmlns:ns1243="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns1243:a>. 
In that case the <ns1244:a xmlns:ns1244="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns1244:a>
behavior <ns1245:strong xmlns:ns1245="http://www.w3.org/1999/xhtml">MAY</ns1245:strong> supersede all other requirements of
this recommendation.</ns1238:p><ns1246:p xmlns:ns1246="http://www.w3.org/1999/xhtml">If the serialized result would contain an
<ns1247:a xmlns:ns1247="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml-names/#NT-NCName">
NCName
</ns1247:a><ns1248:sup xmlns:ns1248="http://www.w3.org/1999/xhtml"><ns1249:small xmlns:ns1249="http://www.w3.org/1999/xhtml">Names</ns1249:small></ns1248:sup> that contains a character that is not
permitted by the version of Namespaces in XML specified by the
<ns1250:code xmlns:ns1250="http://www.w3.org/1999/xhtml">version</ns1250:code> parameter, a <ns1251:a xmlns:ns1251="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1251:a> [<ns1252:a xmlns:ns1252="http://www.w3.org/1999/xhtml" href="#ERRSERE0005" title="err:SERE0005">err:SERE0005</ns1252:a>] results.
The <ns1253:a xmlns:ns1253="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1253:a> <ns1254:strong xmlns:ns1254="http://www.w3.org/1999/xhtml">MUST</ns1254:strong> signal the error.</ns1246:p><ns1255:p xmlns:ns1255="http://www.w3.org/1999/xhtml">If the serialized result would contain a character
that is not permitted by the version of XML specified by the
<ns1256:code xmlns:ns1256="http://www.w3.org/1999/xhtml">version</ns1256:code> parameter, a <ns1257:a xmlns:ns1257="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1257:a> [<ns1258:a xmlns:ns1258="http://www.w3.org/1999/xhtml" href="#ERRSERE0006" title="err:SERE0006">err:SERE0006</ns1258:a>] results.  The
<ns1259:a xmlns:ns1259="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1259:a> <ns1260:strong xmlns:ns1260="http://www.w3.org/1999/xhtml">MUST</ns1260:strong> signal the error.</ns1255:p><ns1261:div xmlns:ns1261="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns1262:p xmlns:ns1262="http://www.w3.org/1999/xhtml">For example, if the <ns1263:code xmlns:ns1263="http://www.w3.org/1999/xhtml">version</ns1263:code>
parameter has the value <ns1264:code xmlns:ns1264="http://www.w3.org/1999/xhtml">1.0</ns1264:code>, and the instance of the data
model contains a non-whitespace control character in the range #x1 to
#x1F, a <ns1265:a xmlns:ns1265="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1265:a> [<ns1266:a xmlns:ns1266="http://www.w3.org/1999/xhtml" href="#ERRSERE0006" title="err:SERE0006">err:SERE0006</ns1266:a>] results.
If the <ns1267:code xmlns:ns1267="http://www.w3.org/1999/xhtml">version</ns1267:code> parameter has the value <ns1268:code xmlns:ns1268="http://www.w3.org/1999/xhtml">1.1</ns1268:code>
and a comment <ns1269:a xmlns:ns1269="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1269:a> in the instance of the data model contains a
non-whitespace control character in the range #x1 to #x1F or a
control character other than NEL in the range #x7F to #x9F, a
<ns1270:a xmlns:ns1270="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1270:a> [<ns1271:a xmlns:ns1271="http://www.w3.org/1999/xhtml" href="#ERRSERE0006" title="err:SERE0006">err:SERE0006</ns1271:a>] results.</ns1262:p></ns1261:div></ns1217:div><ns1272:div xmlns:ns1272="http://www.w3.org/1999/xhtml" class="div3">
<ns1273:h4 xmlns:ns1273="http://www.w3.org/1999/xhtml"><ns1274:a xmlns:ns1274="http://www.w3.org/1999/xhtml" name="XML_ENCODING" id="XML_ENCODING"/>5.1.2 XML Output Method: the <ns1275:code xmlns:ns1275="http://www.w3.org/1999/xhtml">encoding</ns1275:code> Parameter</ns1273:h4><ns1276:p xmlns:ns1276="http://www.w3.org/1999/xhtml">The <ns1277:code xmlns:ns1277="http://www.w3.org/1999/xhtml">encoding</ns1277:code> parameter specifies the
encoding to be used for outputting the instance of the data model.
<ns1278:a xmlns:ns1278="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">Serializers</ns1278:a>
are <ns1279:strong xmlns:ns1279="http://www.w3.org/1999/xhtml">REQUIRED</ns1279:strong>  to support values of <ns1280:code xmlns:ns1280="http://www.w3.org/1999/xhtml">UTF-8</ns1280:code> and
<ns1281:code xmlns:ns1281="http://www.w3.org/1999/xhtml">UTF-16</ns1281:code>. A <ns1282:a xmlns:ns1282="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1282:a> [<ns1283:a xmlns:ns1283="http://www.w3.org/1999/xhtml" href="#ERRSESU0007" title="err:SESU0007">err:SESU0007</ns1283:a>] occurs if an output
encoding other than <ns1284:code xmlns:ns1284="http://www.w3.org/1999/xhtml">UTF-8</ns1284:code> or <ns1285:code xmlns:ns1285="http://www.w3.org/1999/xhtml">UTF-16</ns1285:code> is
requested and the <ns1286:a xmlns:ns1286="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1286:a>
does not support that encoding. The <ns1287:a xmlns:ns1287="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1287:a>
<ns1288:strong xmlns:ns1288="http://www.w3.org/1999/xhtml">MUST</ns1288:strong> signal the error, or recover by using
<ns1289:code xmlns:ns1289="http://www.w3.org/1999/xhtml">UTF-8</ns1289:code> or <ns1290:code xmlns:ns1290="http://www.w3.org/1999/xhtml">UTF-16</ns1290:code> instead.
The <ns1291:a xmlns:ns1291="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1291:a>
<ns1292:strong xmlns:ns1292="http://www.w3.org/1999/xhtml">MUST NOT</ns1292:strong> use an encoding whose name does not match the
<ns1293:a xmlns:ns1293="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml#NT-EncName">
EncName
</ns1293:a><ns1294:sup xmlns:ns1294="http://www.w3.org/1999/xhtml"><ns1295:small xmlns:ns1295="http://www.w3.org/1999/xhtml">XML</ns1295:small></ns1294:sup>
production of the XML Recommendation <ns1296:a xmlns:ns1296="http://www.w3.org/1999/xhtml" href="#xml">[XML10]</ns1296:a>.
</ns1276:p><ns1297:p xmlns:ns1297="http://www.w3.org/1999/xhtml">When outputting a newline character in the instance of the data model, the
<ns1298:a xmlns:ns1298="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1298:a> is free to represent it using any character sequence
that will be normalized to a newline character by an XML parser,
unless a specific mapping for the newline character is
provided in a character map (see <ns1299:a xmlns:ns1299="http://www.w3.org/1999/xhtml" href="#character-maps"><ns1300:b xmlns:ns1300="http://www.w3.org/1999/xhtml">9 Character Maps</ns1300:b></ns1299:a>).</ns1297:p><ns1301:p xmlns:ns1301="http://www.w3.org/1999/xhtml">When outputting any other character that is defined in the
selected encoding, the character 
<ns1302:strong xmlns:ns1302="http://www.w3.org/1999/xhtml">MUST</ns1302:strong> be output
using the correct representation of that character in the selected encoding.</ns1301:p><ns1303:p xmlns:ns1303="http://www.w3.org/1999/xhtml">It is possible that the instance of the data model will contain a character that
cannot be represented in the encoding that the <ns1304:a xmlns:ns1304="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1304:a>
is using for output. In this case, if the character occurs in a context where XML
recognizes character references (that is, in the value of an attribute
<ns1305:a xmlns:ns1305="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1305:a> or text <ns1306:a xmlns:ns1306="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1306:a>), then the character <ns1307:strong xmlns:ns1307="http://www.w3.org/1999/xhtml">MUST</ns1307:strong> be output as a character
reference. A <ns1308:a xmlns:ns1308="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1308:a> [<ns1309:a xmlns:ns1309="http://www.w3.org/1999/xhtml" href="#ERRSERE0008" title="err:SERE0008">err:SERE0008</ns1309:a>] occurs if such a character appears in
a context where character references are not allowed (for example, if
the character occurs in the name of an element). The <ns1310:a xmlns:ns1310="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1310:a>
<ns1311:strong xmlns:ns1311="http://www.w3.org/1999/xhtml">MUST</ns1311:strong> signal the error.
</ns1303:p><ns1312:div xmlns:ns1312="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns1313:p xmlns:ns1313="http://www.w3.org/1999/xhtml">For example,
if a text <ns1314:a xmlns:ns1314="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1314:a> contains the character LATIN SMALL LETTER E WITH ACUTE (#xE9),
and the value of the <ns1315:code xmlns:ns1315="http://www.w3.org/1999/xhtml">encoding</ns1315:code> parameter is
<ns1316:code xmlns:ns1316="http://www.w3.org/1999/xhtml">US-ASCII</ns1316:code>, the character <ns1317:strong xmlns:ns1317="http://www.w3.org/1999/xhtml">MUST</ns1317:strong> be serialized as a character
reference.  If a comment <ns1318:a xmlns:ns1318="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1318:a> contains the same character, a
<ns1319:a xmlns:ns1319="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1319:a> [<ns1320:a xmlns:ns1320="http://www.w3.org/1999/xhtml" href="#ERRSERE0008" title="err:SERE0008">err:SERE0008</ns1320:a>] results.
</ns1313:p></ns1312:div></ns1272:div><ns1321:div xmlns:ns1321="http://www.w3.org/1999/xhtml" class="div3">
<ns1322:h4 xmlns:ns1322="http://www.w3.org/1999/xhtml"><ns1323:a xmlns:ns1323="http://www.w3.org/1999/xhtml" name="xml-indent" id="xml-indent"/>5.1.3 XML Output Method: the <ns1324:code xmlns:ns1324="http://www.w3.org/1999/xhtml">indent</ns1324:code> <ns1325:span xmlns:ns1325="http://www.w3.org/1999/xhtml">and <ns1326:code xmlns:ns1326="http://www.w3.org/1999/xhtml">suppress-indentation</ns1326:code></ns1325:span> Parameters</ns1322:h4><ns1327:p xmlns:ns1327="http://www.w3.org/1999/xhtml">The <ns1328:code xmlns:ns1328="http://www.w3.org/1999/xhtml">indent</ns1328:code> and
<ns1329:code xmlns:ns1329="http://www.w3.org/1999/xhtml">suppress-indentation</ns1329:code> parameters control whether the
serializer <ns1330:strong xmlns:ns1330="http://www.w3.org/1999/xhtml">MAY</ns1330:strong> adjust the whitespace
in the serialized result so that a person will find it easier to read.
If the <ns1331:code xmlns:ns1331="http://www.w3.org/1999/xhtml">indent</ns1331:code> parameter has the value <ns1332:code xmlns:ns1332="http://www.w3.org/1999/xhtml">yes</ns1332:code>,
the serializer <ns1333:strong xmlns:ns1333="http://www.w3.org/1999/xhtml">MAY</ns1333:strong> output whitespace characters in
addition to the whitespace characters in the instance of the data
model.  It <ns1334:strong xmlns:ns1334="http://www.w3.org/1999/xhtml">MAY</ns1334:strong> also elide from the output whitespace
characters that occurred in the instance of the data model or replace
such whitespace characters with other whitespace characters.</ns1327:p><ns1335:p xmlns:ns1335="http://www.w3.org/1999/xhtml">
[<ns1336:a xmlns:ns1336="http://www.w3.org/1999/xhtml" name="content" id="content" title="content">Definition</ns1336:a>: The term <ns1337:b xmlns:ns1337="http://www.w3.org/1999/xhtml">content</ns1337:b> has the
same meaning as the term <ns1338:a xmlns:ns1338="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml#dt-content">Content</ns1338:a><ns1339:sup xmlns:ns1339="http://www.w3.org/1999/xhtml"><ns1340:small xmlns:ns1340="http://www.w3.org/1999/xhtml">XML</ns1340:small></ns1339:sup>
defined in <ns1341:a xmlns:ns1341="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml#sec-starttags">Section 
3.1 Start-Tags, End-Tags, and Empty-Element Tags</ns1341:a><ns1342:sup xmlns:ns1342="http://www.w3.org/1999/xhtml"><ns1343:small xmlns:ns1343="http://www.w3.org/1999/xhtml">XML</ns1343:small></ns1342:sup> of
<ns1344:a xmlns:ns1344="http://www.w3.org/1999/xhtml" href="#xml">[XML10]</ns1344:a>.]
[<ns1345:a xmlns:ns1345="http://www.w3.org/1999/xhtml" name="immediate-content" id="immediate-content" title="immediate content">Definition</ns1345:a>: 
The <ns1346:b xmlns:ns1346="http://www.w3.org/1999/xhtml">immediate content</ns1346:b> of an element is the part of the
<ns1347:a xmlns:ns1347="http://www.w3.org/1999/xhtml" title="content" href="#content">content</ns1347:a> of the element that is not
also in the <ns1348:a xmlns:ns1348="http://www.w3.org/1999/xhtml" title="content" href="#content">content</ns1348:a> of a child element
of that element.]
</ns1335:p><ns1349:p xmlns:ns1349="http://www.w3.org/1999/xhtml">If the
<ns1350:code xmlns:ns1350="http://www.w3.org/1999/xhtml">indent</ns1350:code> parameter has the value <ns1351:code xmlns:ns1351="http://www.w3.org/1999/xhtml">no</ns1351:code>, the
serializer <ns1352:strong xmlns:ns1352="http://www.w3.org/1999/xhtml">MUST NOT</ns1352:strong> output any additional, elide
or replace whitespace characters. If the <ns1353:code xmlns:ns1353="http://www.w3.org/1999/xhtml">indent</ns1353:code> parameter
has the value <ns1354:code xmlns:ns1354="http://www.w3.org/1999/xhtml">yes</ns1354:code>, the serializer <ns1355:strong xmlns:ns1355="http://www.w3.org/1999/xhtml">MUST</ns1355:strong>
use an algorithm for dealing with whitespace characters that satisfies
all of the following constraints.


<ns1356:span xmlns:ns1356="http://www.w3.org/1999/xhtml">If more than one constraint applies,
the serializer must apply the most restrictive constraint.  That is, if
any applicable constraint indicates that whitespace 
<ns1357:strong xmlns:ns1357="http://www.w3.org/1999/xhtml">MUST NOT</ns1357:strong> be added, elided or replaced, that
constraint prevails; if an applicable constraint indicates that
whitespace <ns1358:strong xmlns:ns1358="http://www.w3.org/1999/xhtml">SHOULD NOT</ns1358:strong> be added, elided or replaced,
while all other applicable constraints indicate that whitespace
<ns1359:strong xmlns:ns1359="http://www.w3.org/1999/xhtml">MAY</ns1359:strong>
be added, elided or replaced, whitespace <ns1360:strong xmlns:ns1360="http://www.w3.org/1999/xhtml">SHOULD NOT</ns1360:strong>
be added, elided or replaced.
</ns1356:span>

</ns1349:p><ns1361:ul xmlns:ns1361="http://www.w3.org/1999/xhtml"><ns1362:li xmlns:ns1362="http://www.w3.org/1999/xhtml"><ns1363:p xmlns:ns1363="http://www.w3.org/1999/xhtml">Whitespace characters

<ns1364:span xmlns:ns1364="http://www.w3.org/1999/xhtml"><ns1365:strong xmlns:ns1365="http://www.w3.org/1999/xhtml">MAY</ns1365:strong></ns1364:span>
be added adjacent to a text <ns1366:a xmlns:ns1366="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1366:a>
<ns1367:span xmlns:ns1367="http://www.w3.org/1999/xhtml">only
if the text node contains only whitespace characters.  Whitespace characters in
such a text node <ns1368:strong xmlns:ns1368="http://www.w3.org/1999/xhtml">MAY</ns1368:strong> also be elided or replaced.
For example, a tab <ns1369:strong xmlns:ns1369="http://www.w3.org/1999/xhtml">MAY</ns1369:strong> be inserted as a
replacement for existing spaces</ns1367:span>.</ns1363:p></ns1362:li><ns1370:li xmlns:ns1370="http://www.w3.org/1999/xhtml"/><ns1371:li xmlns:ns1371="http://www.w3.org/1999/xhtml"/><ns1372:li xmlns:ns1372="http://www.w3.org/1999/xhtml"><ns1373:p xmlns:ns1373="http://www.w3.org/1999/xhtml">Whitespace characters
<ns1374:strong xmlns:ns1374="http://www.w3.org/1999/xhtml">MAY</ns1374:strong> be added, elided or replaced in the
<ns1375:a xmlns:ns1375="http://www.w3.org/1999/xhtml" title="immediate content" href="#immediate-content">immediate content</ns1375:a> of an
element whose type annotation is <ns1376:code xmlns:ns1376="http://www.w3.org/1999/xhtml">xs:untyped</ns1376:code> or
<ns1377:code xmlns:ns1377="http://www.w3.org/1999/xhtml">xs:anyType</ns1377:code> and that has element node children, in the
<ns1378:a xmlns:ns1378="http://www.w3.org/1999/xhtml" title="immediate content" href="#immediate-content">immediate content</ns1378:a> of an element whose content model
is element only, or outside
the <ns1379:a xmlns:ns1379="http://www.w3.org/1999/xhtml" title="content" href="#content">content</ns1379:a> of any element.</ns1373:p></ns1372:li><ns1380:li xmlns:ns1380="http://www.w3.org/1999/xhtml"><ns1381:p xmlns:ns1381="http://www.w3.org/1999/xhtml">Whitespace characters
<ns1382:strong xmlns:ns1382="http://www.w3.org/1999/xhtml">MUST NOT</ns1382:strong> be added,
<ns1383:span xmlns:ns1383="http://www.w3.org/1999/xhtml">elided or replaced</ns1383:span>
in the <ns1384:a xmlns:ns1384="http://www.w3.org/1999/xhtml" title="immediate content" href="#immediate-content">immediate content</ns1384:a> of an element
whose content model is 
<ns1385:span xmlns:ns1385="http://www.w3.org/1999/xhtml">known to be simple or
empty</ns1385:span>.</ns1381:p></ns1380:li><ns1386:li xmlns:ns1386="http://www.w3.org/1999/xhtml"><ns1387:p xmlns:ns1387="http://www.w3.org/1999/xhtml">Whitespace characters 
<ns1388:strong xmlns:ns1388="http://www.w3.org/1999/xhtml">SHOULD NOT</ns1388:strong> be added,
<ns1389:span xmlns:ns1389="http://www.w3.org/1999/xhtml">elided or replaced</ns1389:span>
in places where the characters would
constitute significant whitespace, for example, in the
<ns1390:a xmlns:ns1390="http://www.w3.org/1999/xhtml" title="immediate content" href="#immediate-content">immediate content</ns1390:a> of an element
<ns1391:span xmlns:ns1391="http://www.w3.org/1999/xhtml">that is annotated with a type
other than <ns1392:code xmlns:ns1392="http://www.w3.org/1999/xhtml">xs:untyped</ns1392:code> or <ns1393:code xmlns:ns1393="http://www.w3.org/1999/xhtml">xs:anyType</ns1393:code>, and</ns1391:span>
whose content model is known to be mixed.</ns1387:p></ns1386:li><ns1394:li xmlns:ns1394="http://www.w3.org/1999/xhtml"><ns1395:p xmlns:ns1395="http://www.w3.org/1999/xhtml">Whitespace characters
<ns1396:strong xmlns:ns1396="http://www.w3.org/1999/xhtml">MUST NOT</ns1396:strong> be added,
<ns1397:span xmlns:ns1397="http://www.w3.org/1999/xhtml">elided or replaced</ns1397:span>
in the <ns1398:span xmlns:ns1398="http://www.w3.org/1999/xhtml"><ns1399:a xmlns:ns1399="http://www.w3.org/1999/xhtml" title="content" href="#content">content</ns1399:a></ns1398:span>
of an element
whose expanded QName is a member of the list of expanded QNames in the
value of the <ns1400:code xmlns:ns1400="http://www.w3.org/1999/xhtml">suppress-indentation</ns1400:code> parameter.</ns1395:p></ns1394:li><ns1401:li xmlns:ns1401="http://www.w3.org/1999/xhtml"><ns1402:p xmlns:ns1402="http://www.w3.org/1999/xhtml">Whitespace characters <ns1403:strong xmlns:ns1403="http://www.w3.org/1999/xhtml">MUST NOT</ns1403:strong> be

<ns1404:span xmlns:ns1404="http://www.w3.org/1999/xhtml">added, elided or replaced</ns1404:span>
in a part of the result document that is controlled by an
<ns1405:code xmlns:ns1405="http://www.w3.org/1999/xhtml">xml:space</ns1405:code> attribute with value <ns1406:code xmlns:ns1406="http://www.w3.org/1999/xhtml">preserve</ns1406:code>.
(See <ns1407:a xmlns:ns1407="http://www.w3.org/1999/xhtml" href="#xml">[XML10]</ns1407:a> for more information about the
<ns1408:code xmlns:ns1408="http://www.w3.org/1999/xhtml">xml:space</ns1408:code> attribute.)
</ns1402:p></ns1401:li></ns1361:ul><ns1409:table xmlns:ns1409="http://www.w3.org/1999/xhtml" border="1" summary="Editorial note"><ns1410:tr xmlns:ns1410="http://www.w3.org/1999/xhtml"><ns1411:td xmlns:ns1411="http://www.w3.org/1999/xhtml" align="left" valign="top" width="50%"><ns1412:b xmlns:ns1412="http://www.w3.org/1999/xhtml">Editorial note</ns1412:b></ns1411:td><ns1413:td xmlns:ns1413="http://www.w3.org/1999/xhtml" align="right" valign="top" width="50%"> </ns1413:td></ns1410:tr><ns1414:tr xmlns:ns1414="http://www.w3.org/1999/xhtml"><ns1415:td xmlns:ns1415="http://www.w3.org/1999/xhtml" colspan="2" align="left" valign="top">The text above has been revised
anticipating adoption of the response to
<ns1416:a xmlns:ns1416="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6808">Bugzilla bug 6808.</ns1416:a>
</ns1415:td></ns1414:tr></ns1409:table><ns1417:div xmlns:ns1417="http://www.w3.org/1999/xhtml" class="note"><ns1418:p xmlns:ns1418="http://www.w3.org/1999/xhtml" class="prefix"><ns1419:b xmlns:ns1419="http://www.w3.org/1999/xhtml">Note:</ns1419:b></ns1418:p><ns1420:p xmlns:ns1420="http://www.w3.org/1999/xhtml">The effect of these rules is to ensure that whitespace is only
added in places where (a) XSLT's <ns1421:code xmlns:ns1421="http://www.w3.org/1999/xhtml">&lt;xsl:strip-space&gt;</ns1421:code>
declaration could cause it to be removed, and
(b) it does not affect the <ns1422:a xmlns:ns1422="http://www.w3.org/1999/xhtml" title="string value" href="#dt-string-value">string value</ns1422:a> of any element <ns1423:a xmlns:ns1423="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1423:a> with
simple content. It is usually not safe to indent document types that include elements
with mixed content.</ns1420:p></ns1417:div><ns1424:div xmlns:ns1424="http://www.w3.org/1999/xhtml" class="note"><ns1425:p xmlns:ns1425="http://www.w3.org/1999/xhtml" class="prefix"><ns1426:b xmlns:ns1426="http://www.w3.org/1999/xhtml">Note:</ns1426:b></ns1425:p><ns1427:p xmlns:ns1427="http://www.w3.org/1999/xhtml">The whitespace added may possibly
be based on whitespace stripped from either the source document or the
stylesheet (in the case of XSLT), or
guided by other means that might depend on the <ns1428:a xmlns:ns1428="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns1428:a>,
in the case of an instance of the data model created using some other process.</ns1427:p></ns1424:div></ns1321:div><ns1429:div xmlns:ns1429="http://www.w3.org/1999/xhtml" class="div3">
<ns1430:h4 xmlns:ns1430="http://www.w3.org/1999/xhtml"><ns1431:a xmlns:ns1431="http://www.w3.org/1999/xhtml" name="XML_CDATA-SECTION-ELEMENTS" id="XML_CDATA-SECTION-ELEMENTS"/>5.1.4 XML Output Method: the <ns1432:code xmlns:ns1432="http://www.w3.org/1999/xhtml">cdata-section-elements</ns1432:code> Parameter</ns1430:h4><ns1433:p xmlns:ns1433="http://www.w3.org/1999/xhtml">The <ns1434:code xmlns:ns1434="http://www.w3.org/1999/xhtml">cdata-section-elements</ns1434:code> parameter contains a list
of expanded QNames. If the expanded QName of the parent of a text <ns1435:a xmlns:ns1435="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1435:a>
is a member of the list, then the text <ns1436:a xmlns:ns1436="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1436:a>

<ns1437:strong xmlns:ns1437="http://www.w3.org/1999/xhtml">MUST</ns1437:strong> be output as a
CDATA section, except in those circumstances
described below.</ns1433:p><ns1438:p xmlns:ns1438="http://www.w3.org/1999/xhtml">If the text <ns1439:a xmlns:ns1439="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1439:a> contains the sequence of characters
<ns1440:code xmlns:ns1440="http://www.w3.org/1999/xhtml">]]&gt;</ns1440:code>, then the currently open CDATA section

<ns1441:strong xmlns:ns1441="http://www.w3.org/1999/xhtml">MUST</ns1441:strong> be
closed following the <ns1442:code xmlns:ns1442="http://www.w3.org/1999/xhtml">]]</ns1442:code> and a new CDATA section opened
before the <ns1443:code xmlns:ns1443="http://www.w3.org/1999/xhtml">&gt;</ns1443:code>.</ns1438:p><ns1444:p xmlns:ns1444="http://www.w3.org/1999/xhtml">If the text <ns1445:a xmlns:ns1445="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1445:a> contains characters that are not
representable in the character encoding being used to output the
instance of the data model, then the currently open CDATA section

<ns1446:strong xmlns:ns1446="http://www.w3.org/1999/xhtml">MUST</ns1446:strong> be closed
before such characters, the characters

<ns1447:strong xmlns:ns1447="http://www.w3.org/1999/xhtml">MUST</ns1447:strong> be output using
character references or entity references, and a new CDATA
section

<ns1448:strong xmlns:ns1448="http://www.w3.org/1999/xhtml">MUST</ns1448:strong> be opened for any further
characters in the text <ns1449:a xmlns:ns1449="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1449:a>.</ns1444:p><ns1450:p xmlns:ns1450="http://www.w3.org/1999/xhtml">CDATA sections 
<ns1451:strong xmlns:ns1451="http://www.w3.org/1999/xhtml">MUST NOT</ns1451:strong> be used except where they
have been explicitly requested by the user, either by using the
<ns1452:code xmlns:ns1452="http://www.w3.org/1999/xhtml">cdata-section-elements</ns1452:code> parameter, or by using some other
<ns1453:a xmlns:ns1453="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns1453:a> mechanism.</ns1450:p><ns1454:div xmlns:ns1454="http://www.w3.org/1999/xhtml" class="note"><ns1455:p xmlns:ns1455="http://www.w3.org/1999/xhtml" class="prefix"><ns1456:b xmlns:ns1456="http://www.w3.org/1999/xhtml">Note:</ns1456:b></ns1455:p><ns1457:p xmlns:ns1457="http://www.w3.org/1999/xhtml">This is phrased to permit an implementor to provide an option that
attempts to preserve CDATA sections present in the source
document.</ns1457:p></ns1454:div></ns1429:div><ns1458:div xmlns:ns1458="http://www.w3.org/1999/xhtml" class="div3">
<ns1459:h4 xmlns:ns1459="http://www.w3.org/1999/xhtml"><ns1460:a xmlns:ns1460="http://www.w3.org/1999/xhtml" name="XML_OMIT-XML-DECLARATION" id="XML_OMIT-XML-DECLARATION"/>5.1.5 XML Output Method: the <ns1461:code xmlns:ns1461="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1461:code> and <ns1462:code xmlns:ns1462="http://www.w3.org/1999/xhtml">standalone</ns1462:code> Parameters</ns1459:h4><ns1463:p xmlns:ns1463="http://www.w3.org/1999/xhtml">The XML output method
<ns1464:strong xmlns:ns1464="http://www.w3.org/1999/xhtml">MUST</ns1464:strong> output an XML declaration if the <ns1465:code xmlns:ns1465="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1465:code> parameter has the value <ns1466:code xmlns:ns1466="http://www.w3.org/1999/xhtml">no</ns1466:code>.   
The XML declaration <ns1467:strong xmlns:ns1467="http://www.w3.org/1999/xhtml">MUST</ns1467:strong> include both version information and an encoding declaration. 
If the <ns1468:code xmlns:ns1468="http://www.w3.org/1999/xhtml">standalone</ns1468:code> parameter has the value <ns1469:code xmlns:ns1469="http://www.w3.org/1999/xhtml">yes</ns1469:code> or the value <ns1470:code xmlns:ns1470="http://www.w3.org/1999/xhtml">no</ns1470:code>,
the XML declaration <ns1471:strong xmlns:ns1471="http://www.w3.org/1999/xhtml">MUST</ns1471:strong> include a standalone document declaration with the same value as the value of the <ns1472:code xmlns:ns1472="http://www.w3.org/1999/xhtml">standalone</ns1472:code> parameter.

If the <ns1473:code xmlns:ns1473="http://www.w3.org/1999/xhtml">standalone</ns1473:code> parameter has
the value <ns1474:code xmlns:ns1474="http://www.w3.org/1999/xhtml">omit</ns1474:code>, the XML declaration
<ns1475:strong xmlns:ns1475="http://www.w3.org/1999/xhtml">MUST NOT</ns1475:strong> include a standalone document declaration; this ensures
that it is both an XML declaration (allowed at the beginning of a
document entity) and a text declaration (allowed at the beginning of
an external general parsed entity).</ns1463:p><ns1476:p xmlns:ns1476="http://www.w3.org/1999/xhtml">A <ns1477:a xmlns:ns1477="http://www.w3.org/1999/xhtml" href="#serial-err" title="serialization error">serialization error</ns1477:a> [<ns1478:a xmlns:ns1478="http://www.w3.org/1999/xhtml" href="#ERRSEPM0009" title="err:SEPM0009">err:SEPM0009</ns1478:a>] results if the
<ns1479:code xmlns:ns1479="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1479:code> parameter has the value
<ns1480:code xmlns:ns1480="http://www.w3.org/1999/xhtml">yes</ns1480:code>, and
</ns1476:p><ns1481:ul xmlns:ns1481="http://www.w3.org/1999/xhtml"><ns1482:li xmlns:ns1482="http://www.w3.org/1999/xhtml"><ns1483:p xmlns:ns1483="http://www.w3.org/1999/xhtml">the <ns1484:code xmlns:ns1484="http://www.w3.org/1999/xhtml">standalone</ns1484:code> parameter has a value other than
<ns1485:code xmlns:ns1485="http://www.w3.org/1999/xhtml">omit</ns1485:code>; or
</ns1483:p></ns1482:li><ns1486:li xmlns:ns1486="http://www.w3.org/1999/xhtml"><ns1487:p xmlns:ns1487="http://www.w3.org/1999/xhtml">the <ns1488:code xmlns:ns1488="http://www.w3.org/1999/xhtml">version</ns1488:code> parameter has a value other than
<ns1489:code xmlns:ns1489="http://www.w3.org/1999/xhtml">1.0</ns1489:code> and the <ns1490:code xmlns:ns1490="http://www.w3.org/1999/xhtml">doctype-system</ns1490:code>
parameter is specified.</ns1487:p></ns1486:li></ns1481:ul><ns1491:p xmlns:ns1491="http://www.w3.org/1999/xhtml">
The <ns1492:a xmlns:ns1492="http://www.w3.org/1999/xhtml" href="#serializer" title="serializer">serializer</ns1492:a> <ns1493:strong xmlns:ns1493="http://www.w3.org/1999/xhtml">MUST</ns1493:strong> signal the error.
</ns1491:p><ns1494:p xmlns:ns1494="http://www.w3.org/1999/xhtml">Otherwise, if the
<ns1495:code xmlns:ns1495="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1495:code> parameter has the value
<ns1496:code xmlns:ns1496="http://www.w3.org/1999/xhtml">yes</ns1496:code>, the XML output method

<ns1497:strong xmlns:ns1497="http://www.w3.org/1999/xhtml">MUST NOT</ns1497:strong> output an XML declaration.</ns1494:p></ns1458:div><ns1498:div xmlns:ns1498="http://www.w3.org/1999/xhtml" class="div3">
<ns1499:h4 xmlns:ns1499="http://www.w3.org/1999/xhtml"><ns1500:a xmlns:ns1500="http://www.w3.org/1999/xhtml" name="XML_DOCTYPE" id="XML_DOCTYPE"/>5.1.6 XML Output Method: the <ns1501:code xmlns:ns1501="http://www.w3.org/1999/xhtml">doctype-system</ns1501:code> and <ns1502:code xmlns:ns1502="http://www.w3.org/1999/xhtml">doctype-public</ns1502:code> Parameters</ns1499:h4><ns1503:p xmlns:ns1503="http://www.w3.org/1999/xhtml">If the <ns1504:code xmlns:ns1504="http://www.w3.org/1999/xhtml">doctype-system</ns1504:code> parameter is specified, the
XML output method 
<ns1505:strong xmlns:ns1505="http://www.w3.org/1999/xhtml">MUST</ns1505:strong> output a document type
declaration immediately before the first element. The name following
<ns1506:code xmlns:ns1506="http://www.w3.org/1999/xhtml">&lt;!DOCTYPE</ns1506:code> 
<ns1507:strong xmlns:ns1507="http://www.w3.org/1999/xhtml">MUST</ns1507:strong> be the name of the first element,
if any. If the <ns1508:code xmlns:ns1508="http://www.w3.org/1999/xhtml">doctype-public</ns1508:code> parameter is also specified, then the
XML output method <ns1509:strong xmlns:ns1509="http://www.w3.org/1999/xhtml">MUST</ns1509:strong> output <ns1510:code xmlns:ns1510="http://www.w3.org/1999/xhtml">PUBLIC</ns1510:code>
followed by the public identifier and then the system identifier;
otherwise, it <ns1511:strong xmlns:ns1511="http://www.w3.org/1999/xhtml">MUST</ns1511:strong> output <ns1512:code xmlns:ns1512="http://www.w3.org/1999/xhtml">SYSTEM</ns1512:code>
followed by the system
identifier. The internal subset 
<ns1513:strong xmlns:ns1513="http://www.w3.org/1999/xhtml">MUST</ns1513:strong> be empty. The
<ns1514:code xmlns:ns1514="http://www.w3.org/1999/xhtml">doctype-public</ns1514:code> parameter 
<ns1515:strong xmlns:ns1515="http://www.w3.org/1999/xhtml">MUST</ns1515:strong> be ignored unless the
<ns1516:code xmlns:ns1516="http://www.w3.org/1999/xhtml">doctype-system</ns1516:code> parameter is specified.</ns1503:p></ns1498:div><ns1517:div xmlns:ns1517="http://www.w3.org/1999/xhtml" class="div3">
<ns1518:h4 xmlns:ns1518="http://www.w3.org/1999/xhtml"><ns1519:a xmlns:ns1519="http://www.w3.org/1999/xhtml" name="xml-undeclare-NS" id="xml-undeclare-NS"/>5.1.7 XML Output Method: the <ns1520:code xmlns:ns1520="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns1520:code> Parameter</ns1518:h4><ns1521:p xmlns:ns1521="http://www.w3.org/1999/xhtml">The Data Model allows an element
<ns1522:a xmlns:ns1522="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1522:a> that binds a non-empty prefix to
have a child element <ns1523:a xmlns:ns1523="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1523:a> that does
not bind that same prefix. In <ns1524:em xmlns:ns1524="http://www.w3.org/1999/xhtml">Namespaces in XML 1.1</ns1524:em> (<ns1525:a xmlns:ns1525="http://www.w3.org/1999/xhtml" href="#xml-names11">[XML Names 1.1]</ns1525:a>), this can be represented accurately by undeclaring
prefixes.  For the undeclaring prefix of the child element node,  
if the <ns1526:code xmlns:ns1526="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns1526:code> parameter has the value
<ns1527:code xmlns:ns1527="http://www.w3.org/1999/xhtml">yes</ns1527:code>, the output method is XML or XHTML, and the <ns1528:code xmlns:ns1528="http://www.w3.org/1999/xhtml">version</ns1528:code> 
parameter value is greater than <ns1529:code xmlns:ns1529="http://www.w3.org/1999/xhtml">1.0</ns1529:code>,
the <ns1530:a xmlns:ns1530="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1530:a>
<ns1531:strong xmlns:ns1531="http://www.w3.org/1999/xhtml">MUST</ns1531:strong> undeclare its namespace.  If the
<ns1532:code xmlns:ns1532="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns1532:code> parameter has the value <ns1533:code xmlns:ns1533="http://www.w3.org/1999/xhtml">no</ns1533:code> and the output method is XML or
XHTML, then the undeclaration of prefixes <ns1534:strong xmlns:ns1534="http://www.w3.org/1999/xhtml">MUST NOT</ns1534:strong> occur.</ns1521:p><ns1535:div xmlns:ns1535="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns1536:p xmlns:ns1536="http://www.w3.org/1999/xhtml">Consider an element <ns1537:code xmlns:ns1537="http://www.w3.org/1999/xhtml">x:foo</ns1537:code> with four in-scope namespaces
that associate prefixes with URIs as follows:
</ns1536:p><ns1538:ul xmlns:ns1538="http://www.w3.org/1999/xhtml"><ns1539:li xmlns:ns1539="http://www.w3.org/1999/xhtml"><ns1540:p xmlns:ns1540="http://www.w3.org/1999/xhtml"><ns1541:code xmlns:ns1541="http://www.w3.org/1999/xhtml">x</ns1541:code> is associated with
<ns1542:code xmlns:ns1542="http://www.w3.org/1999/xhtml">http://example.org/x</ns1542:code></ns1540:p></ns1539:li><ns1543:li xmlns:ns1543="http://www.w3.org/1999/xhtml"><ns1544:p xmlns:ns1544="http://www.w3.org/1999/xhtml"><ns1545:code xmlns:ns1545="http://www.w3.org/1999/xhtml">y</ns1545:code> is associated with
<ns1546:code xmlns:ns1546="http://www.w3.org/1999/xhtml">http://example.org/y</ns1546:code></ns1544:p></ns1543:li><ns1547:li xmlns:ns1547="http://www.w3.org/1999/xhtml"><ns1548:p xmlns:ns1548="http://www.w3.org/1999/xhtml"><ns1549:code xmlns:ns1549="http://www.w3.org/1999/xhtml">z</ns1549:code> is associated with
<ns1550:code xmlns:ns1550="http://www.w3.org/1999/xhtml">http://example.org/z</ns1550:code></ns1548:p></ns1547:li><ns1551:li xmlns:ns1551="http://www.w3.org/1999/xhtml"><ns1552:p xmlns:ns1552="http://www.w3.org/1999/xhtml"><ns1553:code xmlns:ns1553="http://www.w3.org/1999/xhtml">xml</ns1553:code> is associated with
<ns1554:code xmlns:ns1554="http://www.w3.org/1999/xhtml">http://www.w3.org/XML/1998/namespace</ns1554:code></ns1552:p></ns1551:li></ns1538:ul><ns1555:p xmlns:ns1555="http://www.w3.org/1999/xhtml">Suppose that it has a child element <ns1556:code xmlns:ns1556="http://www.w3.org/1999/xhtml">x:bar</ns1556:code> with three in-scope namespaces:</ns1555:p><ns1557:ul xmlns:ns1557="http://www.w3.org/1999/xhtml"><ns1558:li xmlns:ns1558="http://www.w3.org/1999/xhtml"><ns1559:p xmlns:ns1559="http://www.w3.org/1999/xhtml"><ns1560:code xmlns:ns1560="http://www.w3.org/1999/xhtml">x</ns1560:code> is associated with
<ns1561:code xmlns:ns1561="http://www.w3.org/1999/xhtml">http://example.org/x</ns1561:code></ns1559:p></ns1558:li><ns1562:li xmlns:ns1562="http://www.w3.org/1999/xhtml"><ns1563:p xmlns:ns1563="http://www.w3.org/1999/xhtml"><ns1564:code xmlns:ns1564="http://www.w3.org/1999/xhtml">y</ns1564:code> is associated with
<ns1565:code xmlns:ns1565="http://www.w3.org/1999/xhtml">http://example.org/y</ns1565:code></ns1563:p></ns1562:li><ns1566:li xmlns:ns1566="http://www.w3.org/1999/xhtml"><ns1567:p xmlns:ns1567="http://www.w3.org/1999/xhtml"><ns1568:code xmlns:ns1568="http://www.w3.org/1999/xhtml">xml</ns1568:code> is associated with
<ns1569:code xmlns:ns1569="http://www.w3.org/1999/xhtml">http://www.w3.org/XML/1998/namespace</ns1569:code></ns1567:p></ns1566:li></ns1557:ul><ns1570:p xmlns:ns1570="http://www.w3.org/1999/xhtml">If namespace undeclaration is in effect, it will be serialized this way:</ns1570:p><ns1571:div xmlns:ns1571="http://www.w3.org/1999/xhtml" class="exampleInner"><ns1572:pre xmlns:ns1572="http://www.w3.org/1999/xhtml">&lt;x:foo xmlns:x="http://example.org/x"
       xmlns:y="http://example.org/y"
       xmlns:z="http://example.org/z"&gt;
       
       &lt;x:bar xmlns:z=""&gt;...&lt;/x:bar&gt;
       
&lt;/x:foo&gt;</ns1572:pre></ns1571:div></ns1535:div><ns1573:p xmlns:ns1573="http://www.w3.org/1999/xhtml">In <ns1574:em xmlns:ns1574="http://www.w3.org/1999/xhtml">Namespaces in XML</ns1574:em> 1.0 (<ns1575:a xmlns:ns1575="http://www.w3.org/1999/xhtml" href="#xml-names">[XML Names]</ns1575:a>), prefix undeclaration is not possible.
If the output method is XML or XHTML, the value of the <ns1576:code xmlns:ns1576="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns1576:code> parameter is <ns1577:code xmlns:ns1577="http://www.w3.org/1999/xhtml">yes</ns1577:code>,
and the value of the <ns1578:code xmlns:ns1578="http://www.w3.org/1999/xhtml">version</ns1578:code> parameter is <ns1579:code xmlns:ns1579="http://www.w3.org/1999/xhtml">1.0</ns1579:code>,
a <ns1580:a xmlns:ns1580="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1580:a> [<ns1581:a xmlns:ns1581="http://www.w3.org/1999/xhtml" href="#ERRSEPM0010" title="err:SEPM0010">err:SEPM0010</ns1581:a>] results; the
<ns1582:a xmlns:ns1582="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1582:a> <ns1583:strong xmlns:ns1583="http://www.w3.org/1999/xhtml">MUST</ns1583:strong> signal the error.</ns1573:p></ns1517:div><ns1584:div xmlns:ns1584="http://www.w3.org/1999/xhtml" class="div3">
<ns1585:h4 xmlns:ns1585="http://www.w3.org/1999/xhtml"><ns1586:a xmlns:ns1586="http://www.w3.org/1999/xhtml" name="XML_NORMALIZATION-FORM" id="XML_NORMALIZATION-FORM"/>5.1.8 XML Output Method: the <ns1587:code xmlns:ns1587="http://www.w3.org/1999/xhtml">normalization-form</ns1587:code> Parameter</ns1585:h4><ns1588:p xmlns:ns1588="http://www.w3.org/1999/xhtml">The <ns1589:code xmlns:ns1589="http://www.w3.org/1999/xhtml">normalization-form</ns1589:code> parameter is applicable to the XML output method.
The values <ns1590:code xmlns:ns1590="http://www.w3.org/1999/xhtml">NFC</ns1590:code> and <ns1591:code xmlns:ns1591="http://www.w3.org/1999/xhtml">none</ns1591:code> <ns1592:strong xmlns:ns1592="http://www.w3.org/1999/xhtml">MUST</ns1592:strong> be supported by the <ns1593:a xmlns:ns1593="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1593:a>.
A <ns1594:a xmlns:ns1594="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1594:a> [<ns1595:a xmlns:ns1595="http://www.w3.org/1999/xhtml" href="#ERRSESU0011" title="err:SESU0011">err:SESU0011</ns1595:a>] results if the value of the
<ns1596:code xmlns:ns1596="http://www.w3.org/1999/xhtml">normalization-form</ns1596:code> parameter specifies a normalization form
that is not supported by the
<ns1597:a xmlns:ns1597="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1597:a>; the
<ns1598:a xmlns:ns1598="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1598:a> <ns1599:strong xmlns:ns1599="http://www.w3.org/1999/xhtml">MUST</ns1599:strong> signal the error.</ns1588:p><ns1600:p xmlns:ns1600="http://www.w3.org/1999/xhtml">The meanings associated with the possible values of
the <ns1601:code xmlns:ns1601="http://www.w3.org/1999/xhtml">normalization-form</ns1601:code> parameter are as follows:
</ns1600:p><ns1602:ul xmlns:ns1602="http://www.w3.org/1999/xhtml"><ns1603:li xmlns:ns1603="http://www.w3.org/1999/xhtml"><ns1604:p xmlns:ns1604="http://www.w3.org/1999/xhtml"><ns1605:code xmlns:ns1605="http://www.w3.org/1999/xhtml">NFC</ns1605:code> specifies the serialized result will be
       in Normalization Form C, using the rules specified in <ns1606:a xmlns:ns1606="http://www.w3.org/1999/xhtml" href="#charmod-norm">[Character Model for the World Wide Web 1.0: Normalization]</ns1606:a>.</ns1604:p></ns1603:li><ns1607:li xmlns:ns1607="http://www.w3.org/1999/xhtml"><ns1608:p xmlns:ns1608="http://www.w3.org/1999/xhtml"><ns1609:code xmlns:ns1609="http://www.w3.org/1999/xhtml">NFD</ns1609:code> specifies the serialized result will be
       in Normalization Form D, as specified in <ns1610:a xmlns:ns1610="http://www.w3.org/1999/xhtml" href="#UNICODE-NORMALIZATION-FORM">[UAX #15: Unicode Normalization Forms]</ns1610:a>.</ns1608:p></ns1607:li><ns1611:li xmlns:ns1611="http://www.w3.org/1999/xhtml"><ns1612:p xmlns:ns1612="http://www.w3.org/1999/xhtml"><ns1613:code xmlns:ns1613="http://www.w3.org/1999/xhtml">NFKC</ns1613:code> specifies the serialized result will be
       in Normalization Form KC, as specified in <ns1614:a xmlns:ns1614="http://www.w3.org/1999/xhtml" href="#UNICODE-NORMALIZATION-FORM">[UAX #15: Unicode Normalization Forms]</ns1614:a>.</ns1612:p></ns1611:li><ns1615:li xmlns:ns1615="http://www.w3.org/1999/xhtml"><ns1616:p xmlns:ns1616="http://www.w3.org/1999/xhtml"><ns1617:code xmlns:ns1617="http://www.w3.org/1999/xhtml">NFKD</ns1617:code> specifies the serialized result will be
       in Normalization Form KD, as specified in <ns1618:a xmlns:ns1618="http://www.w3.org/1999/xhtml" href="#UNICODE-NORMALIZATION-FORM">[UAX #15: Unicode Normalization Forms]</ns1618:a>.</ns1616:p></ns1615:li><ns1619:li xmlns:ns1619="http://www.w3.org/1999/xhtml"><ns1620:p xmlns:ns1620="http://www.w3.org/1999/xhtml"><ns1621:code xmlns:ns1621="http://www.w3.org/1999/xhtml">fully-normalized</ns1621:code> specifies the serialized result
       will be in fully normalized text, as specified in <ns1622:a xmlns:ns1622="http://www.w3.org/1999/xhtml" href="#charmod-norm">[Character Model for the World Wide Web 1.0: Normalization]</ns1622:a>.</ns1620:p></ns1619:li><ns1623:li xmlns:ns1623="http://www.w3.org/1999/xhtml"><ns1624:p xmlns:ns1624="http://www.w3.org/1999/xhtml"><ns1625:code xmlns:ns1625="http://www.w3.org/1999/xhtml">none</ns1625:code> specifies that no <ns1626:a xmlns:ns1626="http://www.w3.org/1999/xhtml" title="Unicode Normalization" href="#unicode-normalization">Unicode Normalization</ns1626:a> will
       be applied.</ns1624:p></ns1623:li><ns1627:li xmlns:ns1627="http://www.w3.org/1999/xhtml"><ns1628:p xmlns:ns1628="http://www.w3.org/1999/xhtml">An <ns1629:a xmlns:ns1629="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns1629:a> value
       has an <ns1630:a xmlns:ns1630="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns1630:a>
       effect.</ns1628:p></ns1627:li></ns1602:ul><ns1631:p xmlns:ns1631="http://www.w3.org/1999/xhtml">If the value of the parameter is <ns1632:code xmlns:ns1632="http://www.w3.org/1999/xhtml">fully-normalized</ns1632:code>, then no
<ns1633:em xmlns:ns1633="http://www.w3.org/1999/xhtml">relevant construct</ns1633:em> of the parsed entity created by the <ns1634:a xmlns:ns1634="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1634:a>
may start with a composing character. The term <ns1635:em xmlns:ns1635="http://www.w3.org/1999/xhtml">relevant construct</ns1635:em>
has the meaning defined in section 2.13 of <ns1636:a xmlns:ns1636="http://www.w3.org/1999/xhtml" href="#xml11">[XML11]</ns1636:a>. If this condition is not
satisfied, a <ns1637:a xmlns:ns1637="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1637:a> [<ns1638:a xmlns:ns1638="http://www.w3.org/1999/xhtml" href="#ERRSERE0012" title="err:SERE0012">err:SERE0012</ns1638:a>] <ns1639:strong xmlns:ns1639="http://www.w3.org/1999/xhtml">MUST</ns1639:strong> be signaled.</ns1631:p><ns1640:div xmlns:ns1640="http://www.w3.org/1999/xhtml" class="note"><ns1641:p xmlns:ns1641="http://www.w3.org/1999/xhtml" class="prefix"><ns1642:b xmlns:ns1642="http://www.w3.org/1999/xhtml">Note:</ns1642:b></ns1641:p><ns1643:p xmlns:ns1643="http://www.w3.org/1999/xhtml">Specifying <ns1644:code xmlns:ns1644="http://www.w3.org/1999/xhtml">fully-normalized</ns1644:code> as the value of this parameter
does not guarantee that the XML document output by the <ns1645:a xmlns:ns1645="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1645:a> will in fact
be fully normalized as defined in <ns1646:a xmlns:ns1646="http://www.w3.org/1999/xhtml" href="#xml11">[XML11]</ns1646:a>. This is because the <ns1647:a xmlns:ns1647="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1647:a> does
not check that the text is <ns1648:code xmlns:ns1648="http://www.w3.org/1999/xhtml">include normalized</ns1648:code>, which would involve
checking all external entities that it refers to (such as an external DTD).
Furthermore, the <ns1649:a xmlns:ns1649="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1649:a> does not check whether any character escape
generated using character maps represents a composing character.</ns1643:p></ns1640:div></ns1584:div><ns1650:div xmlns:ns1650="http://www.w3.org/1999/xhtml" class="div3">
<ns1651:h4 xmlns:ns1651="http://www.w3.org/1999/xhtml"><ns1652:a xmlns:ns1652="http://www.w3.org/1999/xhtml" name="XML_MEDIA-TYPE" id="XML_MEDIA-TYPE"/>5.1.9 XML Output Method: the <ns1653:code xmlns:ns1653="http://www.w3.org/1999/xhtml">media-type</ns1653:code> Parameter</ns1651:h4><ns1654:p xmlns:ns1654="http://www.w3.org/1999/xhtml">The <ns1655:code xmlns:ns1655="http://www.w3.org/1999/xhtml">media-type</ns1655:code> parameter is applicable to the
XML output method. 
See <ns1656:a xmlns:ns1656="http://www.w3.org/1999/xhtml" href="#serparam"><ns1657:b xmlns:ns1657="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns1657:b></ns1656:a> for more
information.</ns1654:p></ns1650:div><ns1658:div xmlns:ns1658="http://www.w3.org/1999/xhtml" class="div3">
<ns1659:h4 xmlns:ns1659="http://www.w3.org/1999/xhtml"><ns1660:a xmlns:ns1660="http://www.w3.org/1999/xhtml" name="XML_USE-CHARACTER-MAPS" id="XML_USE-CHARACTER-MAPS"/>5.1.10 XML Output Method: the <ns1661:code xmlns:ns1661="http://www.w3.org/1999/xhtml">use-character-maps</ns1661:code> Parameter</ns1659:h4><ns1662:p xmlns:ns1662="http://www.w3.org/1999/xhtml">The <ns1663:code xmlns:ns1663="http://www.w3.org/1999/xhtml">use-character-maps</ns1663:code> parameter is applicable to the XML output method.
The result of serialization using the XML output method is not
guaranteed to be well-formed XML if character maps have been specified.
See <ns1664:a xmlns:ns1664="http://www.w3.org/1999/xhtml" href="#character-maps"><ns1665:b xmlns:ns1665="http://www.w3.org/1999/xhtml">9 Character Maps</ns1665:b></ns1664:a> for more information.</ns1662:p></ns1658:div><ns1666:div xmlns:ns1666="http://www.w3.org/1999/xhtml" class="div3">
<ns1667:h4 xmlns:ns1667="http://www.w3.org/1999/xhtml"><ns1668:a xmlns:ns1668="http://www.w3.org/1999/xhtml" name="XML_BYTE-ORDER-MARK" id="XML_BYTE-ORDER-MARK"/>5.1.11 XML Output Method: the <ns1669:code xmlns:ns1669="http://www.w3.org/1999/xhtml">byte-order-mark</ns1669:code> Parameter</ns1667:h4><ns1670:p xmlns:ns1670="http://www.w3.org/1999/xhtml">The <ns1671:code xmlns:ns1671="http://www.w3.org/1999/xhtml">byte-order-mark</ns1671:code> parameter is
applicable to the XML output method.  See
<ns1672:a xmlns:ns1672="http://www.w3.org/1999/xhtml" href="#serparam"><ns1673:b xmlns:ns1673="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns1673:b></ns1672:a> for more information.</ns1670:p><ns1674:div xmlns:ns1674="http://www.w3.org/1999/xhtml" class="note"><ns1675:p xmlns:ns1675="http://www.w3.org/1999/xhtml" class="prefix"><ns1676:b xmlns:ns1676="http://www.w3.org/1999/xhtml">Note:</ns1676:b></ns1675:p><ns1677:p xmlns:ns1677="http://www.w3.org/1999/xhtml">The byte order mark may be undesirable under certain circumstances; 
for example, to concatenate resulting XML fragments without additional processing to remove the byte order mark. 
Therefore this specification does not mandate the <ns1678:code xmlns:ns1678="http://www.w3.org/1999/xhtml">byte-order-mark</ns1678:code> parameter to have the value <ns1679:code xmlns:ns1679="http://www.w3.org/1999/xhtml">yes</ns1679:code> when the encoding is UTF-16, 
even though the XML 1.0 and XML 1.1 specifications state that entities encoded in UTF-16 must begin with a byte order mark.  
Consequently, this specification does not guarantee that the resulting XML fragment, 
without a byte order mark, will not cause an error when processed by a conforming XML processor.</ns1677:p></ns1674:div></ns1666:div><ns1680:div xmlns:ns1680="http://www.w3.org/1999/xhtml" class="div3">
<ns1681:h4 xmlns:ns1681="http://www.w3.org/1999/xhtml"><ns1682:a xmlns:ns1682="http://www.w3.org/1999/xhtml" name="XML_ESCAPE-URI-ATTRIBUTES" id="XML_ESCAPE-URI-ATTRIBUTES"/>5.1.12 XML Output Method: the <ns1683:code xmlns:ns1683="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns1683:code> Parameter</ns1681:h4><ns1684:p xmlns:ns1684="http://www.w3.org/1999/xhtml">The <ns1685:code xmlns:ns1685="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns1685:code> parameter is
not applicable to the XML output method.  It
is the responsibility of the <ns1686:a xmlns:ns1686="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns1686:a> to specify whether an error occurs if this parameter is specified in combination with the XML output method, or if the parameter is simply dropped.</ns1684:p></ns1680:div><ns1687:div xmlns:ns1687="http://www.w3.org/1999/xhtml" class="div3">
<ns1688:h4 xmlns:ns1688="http://www.w3.org/1999/xhtml"><ns1689:a xmlns:ns1689="http://www.w3.org/1999/xhtml" name="XML_INCLUDE-CONTENT-TYPE" id="XML_INCLUDE-CONTENT-TYPE"/>5.1.13 XML Output Method: the <ns1690:code xmlns:ns1690="http://www.w3.org/1999/xhtml">include-content-type</ns1690:code> Parameter</ns1688:h4><ns1691:p xmlns:ns1691="http://www.w3.org/1999/xhtml">The <ns1692:code xmlns:ns1692="http://www.w3.org/1999/xhtml">include-content-type</ns1692:code> parameter is
not applicable to the XML output method.  It
is the responsibility of the <ns1693:a xmlns:ns1693="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns1693:a> to specify whether an error occurs if this parameter is specified in combination with the XML output method, or if the parameter is simply dropped.</ns1691:p></ns1687:div></ns1214:div></ns1014:div><ns1694:div xmlns:ns1694="http://www.w3.org/1999/xhtml" class="div1">
<ns1695:h2 xmlns:ns1695="http://www.w3.org/1999/xhtml"><ns1696:a xmlns:ns1696="http://www.w3.org/1999/xhtml" name="xhtml-output" id="xhtml-output"/>6 XHTML Output Method</ns1695:h2><ns1697:p xmlns:ns1697="http://www.w3.org/1999/xhtml">The XHTML output method serializes the instance of the
data model as
XML, using the HTML compatibility guidelines defined in the XHTML
specification.</ns1697:p><ns1698:p xmlns:ns1698="http://www.w3.org/1999/xhtml">It is entirely the responsibility of the
person or process that creates the instance of
the data model
to ensure that the instance of the data model
conforms to the <ns1699:a xmlns:ns1699="http://www.w3.org/1999/xhtml" href="#xhtml1">[XHTML 1.0]</ns1699:a> or
<ns1700:a xmlns:ns1700="http://www.w3.org/1999/xhtml" href="#xhtml11">[XHTML 1.1]</ns1700:a> specification. It is not an error if the
instance of the data model is invalid XHTML. Equally, it is entirely under the
control of the person or process that creates the instance
of the data model whether the output conforms to XHTML 1.0
Strict, XHTML 1.0 Transitional, or any other specific definition of XHTML.</ns1698:p><ns1701:p xmlns:ns1701="http://www.w3.org/1999/xhtml">The serialization of the instance of the data model follows the same rules as for
the XML output method, with the general exceptions noted below and parameter-specific exceptions in <ns1702:a xmlns:ns1702="http://www.w3.org/1999/xhtml" href="#XHTML_PARAMS"><ns1703:b xmlns:ns1703="http://www.w3.org/1999/xhtml">6.1 The Influence of Serialization Parameters upon the XHTML Output Method</ns1703:b></ns1702:a>.
These differences are based on the HTML compatibility guidelines
published in Appendix C of <ns1704:a xmlns:ns1704="http://www.w3.org/1999/xhtml" href="#xhtml1">[XHTML 1.0]</ns1704:a>, which are designed
to ensure that as far as possible, XHTML is rendered correctly on user
agents designed originally to handle HTML.</ns1701:p><ns1705:ul xmlns:ns1705="http://www.w3.org/1999/xhtml"><ns1706:li xmlns:ns1706="http://www.w3.org/1999/xhtml"><ns1707:p xmlns:ns1707="http://www.w3.org/1999/xhtml">[<ns1708:a xmlns:ns1708="http://www.w3.org/1999/xhtml" name="XHTMLEMPTY" id="XHTMLEMPTY" title="EMPTY">Definition</ns1708:a>: The following XHTML elements have an <ns1709:b xmlns:ns1709="http://www.w3.org/1999/xhtml">EMPTY</ns1709:b> content model: <ns1710:code xmlns:ns1710="http://www.w3.org/1999/xhtml">area</ns1710:code>, <ns1711:code xmlns:ns1711="http://www.w3.org/1999/xhtml">base</ns1711:code>, <ns1712:code xmlns:ns1712="http://www.w3.org/1999/xhtml">br</ns1712:code>, <ns1713:code xmlns:ns1713="http://www.w3.org/1999/xhtml">col</ns1713:code>, <ns1714:code xmlns:ns1714="http://www.w3.org/1999/xhtml">hr</ns1714:code>, <ns1715:code xmlns:ns1715="http://www.w3.org/1999/xhtml">img</ns1715:code>, <ns1716:code xmlns:ns1716="http://www.w3.org/1999/xhtml">input</ns1716:code>, <ns1717:code xmlns:ns1717="http://www.w3.org/1999/xhtml">link</ns1717:code>, <ns1718:code xmlns:ns1718="http://www.w3.org/1999/xhtml">meta</ns1718:code>, <ns1719:code xmlns:ns1719="http://www.w3.org/1999/xhtml">basefont</ns1719:code>, <ns1720:code xmlns:ns1720="http://www.w3.org/1999/xhtml">frame</ns1720:code>,  <ns1721:code xmlns:ns1721="http://www.w3.org/1999/xhtml">isindex</ns1721:code>, and <ns1722:code xmlns:ns1722="http://www.w3.org/1999/xhtml">param</ns1722:code>.]  Given an empty instance of an XHTML element whose
content model is not <ns1723:a xmlns:ns1723="http://www.w3.org/1999/xhtml" title="EMPTY" href="#XHTMLEMPTY">EMPTY</ns1723:a> (for example, an empty title or paragraph)
the <ns1724:a xmlns:ns1724="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1724:a> 
<ns1725:strong xmlns:ns1725="http://www.w3.org/1999/xhtml">MUST NOT</ns1725:strong> use the minimized form.
That is, it 
<ns1726:strong xmlns:ns1726="http://www.w3.org/1999/xhtml">MUST</ns1726:strong>
output <ns1727:code xmlns:ns1727="http://www.w3.org/1999/xhtml">&lt;p&gt;&lt;/p&gt;</ns1727:code> and not
<ns1728:code xmlns:ns1728="http://www.w3.org/1999/xhtml">&lt;p /&gt;</ns1728:code>. </ns1707:p></ns1706:li><ns1729:li xmlns:ns1729="http://www.w3.org/1999/xhtml"><ns1730:p xmlns:ns1730="http://www.w3.org/1999/xhtml"><ns1731:span xmlns:ns1731="http://www.w3.org/1999/xhtml">If an element that has no children is an XHTML
element with an <ns1732:a xmlns:ns1732="http://www.w3.org/1999/xhtml" title="EMPTY" href="#XHTMLEMPTY">EMPTY</ns1732:a>
content model,</ns1731:span> the
<ns1733:a xmlns:ns1733="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1733:a>
<ns1734:strong xmlns:ns1734="http://www.w3.org/1999/xhtml">MUST</ns1734:strong> use the minimized tag syntax,
for example
<ns1735:code xmlns:ns1735="http://www.w3.org/1999/xhtml">&lt;br /&gt;</ns1735:code>, as the alternative syntax
<ns1736:code xmlns:ns1736="http://www.w3.org/1999/xhtml">&lt;br&gt;&lt;/br&gt;</ns1736:code> allowed by XML gives uncertain
results in many existing user agents. The <ns1737:a xmlns:ns1737="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1737:a>

<ns1738:strong xmlns:ns1738="http://www.w3.org/1999/xhtml">MUST</ns1738:strong> include a
space before the trailing <ns1739:code xmlns:ns1739="http://www.w3.org/1999/xhtml">/&gt;</ns1739:code>, e.g.
<ns1740:code xmlns:ns1740="http://www.w3.org/1999/xhtml">&lt;br /&gt;</ns1740:code>, <ns1741:code xmlns:ns1741="http://www.w3.org/1999/xhtml">&lt;hr /&gt;</ns1741:code> and
<ns1742:code xmlns:ns1742="http://www.w3.org/1999/xhtml">&lt;img src="karen.jpg" alt="Karen" /&gt;</ns1742:code>.
        </ns1730:p></ns1729:li><ns1743:li xmlns:ns1743="http://www.w3.org/1999/xhtml"><ns1744:p xmlns:ns1744="http://www.w3.org/1999/xhtml">The <ns1745:a xmlns:ns1745="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1745:a> 
<ns1746:strong xmlns:ns1746="http://www.w3.org/1999/xhtml">MUST NOT</ns1746:strong> use the entity reference
<ns1747:code xmlns:ns1747="http://www.w3.org/1999/xhtml">&amp;apos;</ns1747:code> which, although legal in XML and therefore in
XHTML, is not defined in HTML and is not recognized by all HTML user
agents.</ns1744:p></ns1743:li><ns1748:li xmlns:ns1748="http://www.w3.org/1999/xhtml"><ns1749:p xmlns:ns1749="http://www.w3.org/1999/xhtml">The <ns1750:a xmlns:ns1750="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1750:a> <ns1751:strong xmlns:ns1751="http://www.w3.org/1999/xhtml">SHOULD</ns1751:strong> output namespace declarations
in a way that is consistent with the requirements of the XHTML DTD if this is
possible. The XHTML 1.0 DTDs require the declaration
<ns1752:code xmlns:ns1752="http://www.w3.org/1999/xhtml">xmlns="http://www.w3.org/1999/xhtml"</ns1752:code>
to appear on the <ns1753:code xmlns:ns1753="http://www.w3.org/1999/xhtml">html</ns1753:code> element, and only on the <ns1754:code xmlns:ns1754="http://www.w3.org/1999/xhtml">html</ns1754:code> element.
The <ns1755:a xmlns:ns1755="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1755:a> <ns1756:strong xmlns:ns1756="http://www.w3.org/1999/xhtml">MUST</ns1756:strong> output namespace declarations that are consistent with
the namespace <ns1757:a xmlns:ns1757="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns1757:a> present in the <ns1758:a xmlns:ns1758="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1758:a>, but it <ns1759:strong xmlns:ns1759="http://www.w3.org/1999/xhtml">MUST</ns1759:strong> avoid outputting
redundant namespace declarations on elements where the DTD would make them invalid.</ns1749:p><ns1760:div xmlns:ns1760="http://www.w3.org/1999/xhtml" class="note"><ns1761:p xmlns:ns1761="http://www.w3.org/1999/xhtml" class="prefix"><ns1762:b xmlns:ns1762="http://www.w3.org/1999/xhtml">Note:</ns1762:b></ns1761:p><ns1763:p xmlns:ns1763="http://www.w3.org/1999/xhtml">If the <ns1764:code xmlns:ns1764="http://www.w3.org/1999/xhtml">html</ns1764:code> element is generated by an XSLT literal result element of
the form <ns1765:code xmlns:ns1765="http://www.w3.org/1999/xhtml">&lt;html xmlns="http://www.w3.org/1999/xhtml"&gt; ... &lt;/html&gt;</ns1765:code>, or by an
XQuery direct element constructor of the same form, then the <ns1766:code xmlns:ns1766="http://www.w3.org/1999/xhtml">html</ns1766:code> element in
the result document will have a <ns1767:a xmlns:ns1767="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns1767:a> name whose prefix is "", which will
satisfy the requirements of the DTD. In other cases the prefix assigned to
the element is implementation-dependent.</ns1763:p></ns1760:div></ns1748:li></ns1705:ul><ns1768:div xmlns:ns1768="http://www.w3.org/1999/xhtml" class="note"><ns1769:p xmlns:ns1769="http://www.w3.org/1999/xhtml" class="prefix"><ns1770:b xmlns:ns1770="http://www.w3.org/1999/xhtml">Note:</ns1770:b></ns1769:p><ns1771:p xmlns:ns1771="http://www.w3.org/1999/xhtml">Appendix C of <ns1772:a xmlns:ns1772="http://www.w3.org/1999/xhtml" href="#xhtml1">[XHTML 1.0]</ns1772:a> describes
a number of compatibility guidelines for users of XHTML who wish to
render their XHTML documents with HTML user agents.  In some cases, such
as the guideline on the form empty elements should take, only the
serialization process itself has the ability to follow the guideline.  In
such cases, those guidelines are reflected in the requirements on the
<ns1773:a xmlns:ns1773="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns1773:a>
described above.</ns1771:p><ns1774:p xmlns:ns1774="http://www.w3.org/1999/xhtml">In all other cases, the guidelines can be
adhered to by the instance of the data model that is input to the serialization
process.  The guideline on the use of whitespace characters in attribute
values is one such example.  Another example is that <ns1775:code xmlns:ns1775="http://www.w3.org/1999/xhtml">xml:lang="..."</ns1775:code> does not serialize to both <ns1776:code xmlns:ns1776="http://www.w3.org/1999/xhtml">xml:lang="..."</ns1776:code> and <ns1777:code xmlns:ns1777="http://www.w3.org/1999/xhtml">lang="..."</ns1777:code> as required by some legacy user agents.  It is the responsibility of the person or
process that creates the instance of the data model that is input to the
serialization process to ensure it is created in a way that is consistent
with the guidelines.  No <ns1778:a xmlns:ns1778="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns1778:a> results if the input instance
of the data model does not adhere to the guidelines.</ns1774:p></ns1768:div><ns1779:div xmlns:ns1779="http://www.w3.org/1999/xhtml" class="div2">
<ns1780:h3 xmlns:ns1780="http://www.w3.org/1999/xhtml"><ns1781:a xmlns:ns1781="http://www.w3.org/1999/xhtml" name="XHTML_PARAMS" id="XHTML_PARAMS"/>6.1 The Influence of Serialization Parameters upon the XHTML Output Method</ns1780:h3><ns1782:div xmlns:ns1782="http://www.w3.org/1999/xhtml" class="div3">
<ns1783:h4 xmlns:ns1783="http://www.w3.org/1999/xhtml"><ns1784:a xmlns:ns1784="http://www.w3.org/1999/xhtml" name="XHTML_VERSION" id="XHTML_VERSION"/>6.1.1 XHTML Output Method: the <ns1785:code xmlns:ns1785="http://www.w3.org/1999/xhtml">version</ns1785:code> Parameter</ns1783:h4><ns1786:p xmlns:ns1786="http://www.w3.org/1999/xhtml">The behavior for <ns1787:code xmlns:ns1787="http://www.w3.org/1999/xhtml">version</ns1787:code> parameter for the XHTML output method is described in <ns1788:a xmlns:ns1788="http://www.w3.org/1999/xhtml" href="#XML_VERSION"><ns1789:b xmlns:ns1789="http://www.w3.org/1999/xhtml">5.1.1 XML Output Method: the version Parameter</ns1789:b></ns1788:a>.</ns1786:p></ns1782:div><ns1790:div xmlns:ns1790="http://www.w3.org/1999/xhtml" class="div3">
<ns1791:h4 xmlns:ns1791="http://www.w3.org/1999/xhtml"><ns1792:a xmlns:ns1792="http://www.w3.org/1999/xhtml" name="XHTML_ENCODING" id="XHTML_ENCODING"/>6.1.2 XHTML Output Method: the <ns1793:code xmlns:ns1793="http://www.w3.org/1999/xhtml">encoding</ns1793:code> Parameter</ns1791:h4><ns1794:p xmlns:ns1794="http://www.w3.org/1999/xhtml">The behavior for <ns1795:code xmlns:ns1795="http://www.w3.org/1999/xhtml">encoding</ns1795:code> parameter for the XHTML output method is described in <ns1796:a xmlns:ns1796="http://www.w3.org/1999/xhtml" href="#XML_ENCODING"><ns1797:b xmlns:ns1797="http://www.w3.org/1999/xhtml">5.1.2 XML Output Method: the encoding Parameter</ns1797:b></ns1796:a>.</ns1794:p></ns1790:div><ns1798:div xmlns:ns1798="http://www.w3.org/1999/xhtml" class="div3">
<ns1799:h4 xmlns:ns1799="http://www.w3.org/1999/xhtml"><ns1800:a xmlns:ns1800="http://www.w3.org/1999/xhtml" name="XHTML_INDENT" id="XHTML_INDENT"/>6.1.3 XHTML Output Method: the <ns1801:code xmlns:ns1801="http://www.w3.org/1999/xhtml">indent</ns1801:code> <ns1802:span xmlns:ns1802="http://www.w3.org/1999/xhtml">and <ns1803:code xmlns:ns1803="http://www.w3.org/1999/xhtml">suppress-indentation</ns1803:code></ns1802:span> Parameters</ns1799:h4><ns1804:p xmlns:ns1804="http://www.w3.org/1999/xhtml">If the <ns1805:code xmlns:ns1805="http://www.w3.org/1999/xhtml">indent</ns1805:code> parameter has the value <ns1806:code xmlns:ns1806="http://www.w3.org/1999/xhtml">yes</ns1806:code>, the
serializer <ns1807:strong xmlns:ns1807="http://www.w3.org/1999/xhtml">MAY</ns1807:strong> add or remove whitespace as it serializes the
<ns1808:a xmlns:ns1808="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns1808:a>,
<ns1809:span xmlns:ns1809="http://www.w3.org/1999/xhtml">if it observes the following
constraints.</ns1809:span></ns1804:p><ns1810:ul xmlns:ns1810="http://www.w3.org/1999/xhtml"><ns1811:li xmlns:ns1811="http://www.w3.org/1999/xhtml"><ns1812:p xmlns:ns1812="http://www.w3.org/1999/xhtml"><ns1813:span xmlns:ns1813="http://www.w3.org/1999/xhtml">Whitespace <ns1814:strong xmlns:ns1814="http://www.w3.org/1999/xhtml">MUST NOT</ns1814:strong> be added other than before or
after an element, or adjacent to an existing whitespace character.</ns1813:span></ns1812:p></ns1811:li><ns1815:li xmlns:ns1815="http://www.w3.org/1999/xhtml"><ns1816:p xmlns:ns1816="http://www.w3.org/1999/xhtml"><ns1817:span xmlns:ns1817="http://www.w3.org/1999/xhtml">Whitespace <ns1818:strong xmlns:ns1818="http://www.w3.org/1999/xhtml">MUST NOT</ns1818:strong> be added or removed adjacent to
an inline element. The inline elements are those elements in the XHTML
namespace in the %inline category of any of the XHTML 1.0 DTD's, in the
%inline.class category of the XHTML 1.1 DTD, and elements in the XHTML namespace
with local names <ns1819:code xmlns:ns1819="http://www.w3.org/1999/xhtml">ins</ns1819:code> and <ns1820:code xmlns:ns1820="http://www.w3.org/1999/xhtml">del</ns1820:code> if they are used as
inline elements (i.e., if they do not contain element children).</ns1817:span></ns1816:p></ns1815:li><ns1821:li xmlns:ns1821="http://www.w3.org/1999/xhtml"><ns1822:p xmlns:ns1822="http://www.w3.org/1999/xhtml"><ns1823:span xmlns:ns1823="http://www.w3.org/1999/xhtml">Whitespace <ns1824:strong xmlns:ns1824="http://www.w3.org/1999/xhtml">MUST NOT</ns1824:strong> be added or removed inside a
formatted element, the formatted elements being those in the XHTML namespace
with local names <ns1825:code xmlns:ns1825="http://www.w3.org/1999/xhtml">pre</ns1825:code>, <ns1826:code xmlns:ns1826="http://www.w3.org/1999/xhtml">script</ns1826:code>, <ns1827:code xmlns:ns1827="http://www.w3.org/1999/xhtml">style</ns1827:code>, and
    <ns1828:code xmlns:ns1828="http://www.w3.org/1999/xhtml">textarea</ns1828:code>.</ns1823:span></ns1822:p></ns1821:li><ns1829:li xmlns:ns1829="http://www.w3.org/1999/xhtml"><ns1830:p xmlns:ns1830="http://www.w3.org/1999/xhtml">Whitespace characters
<ns1831:strong xmlns:ns1831="http://www.w3.org/1999/xhtml">MUST NOT</ns1831:strong> be added in the content of an element
whose expanded QName is a member of the list of expanded QNames in the
value of the <ns1832:code xmlns:ns1832="http://www.w3.org/1999/xhtml">suppress-indentation</ns1832:code> parameter.</ns1830:p></ns1829:li></ns1810:ul><ns1833:div xmlns:ns1833="http://www.w3.org/1999/xhtml" class="note"><ns1834:p xmlns:ns1834="http://www.w3.org/1999/xhtml" class="prefix"><ns1835:b xmlns:ns1835="http://www.w3.org/1999/xhtml">Note:</ns1835:b></ns1834:p><ns1836:p xmlns:ns1836="http://www.w3.org/1999/xhtml"><ns1837:span xmlns:ns1837="http://www.w3.org/1999/xhtml">The effect of the above constraints is to
ensure any insertion or deletion of whitespace would not affect how a conforming
HTML user agent would render the output, assuming the serialized document does
not refer to any HTML style sheets.</ns1837:span></ns1836:p><ns1838:p xmlns:ns1838="http://www.w3.org/1999/xhtml">The HTML definition of whitespace is different from the XML
  definition: see section 9.1 of  <ns1839:a xmlns:ns1839="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns1839:a> 4.01 specification.</ns1838:p></ns1833:div></ns1798:div><ns1840:div xmlns:ns1840="http://www.w3.org/1999/xhtml" class="div3">
<ns1841:h4 xmlns:ns1841="http://www.w3.org/1999/xhtml"><ns1842:a xmlns:ns1842="http://www.w3.org/1999/xhtml" name="XHTML_CDATA-SECTION-ELEMENTS" id="XHTML_CDATA-SECTION-ELEMENTS"/>6.1.4 XHTML Output Method: the <ns1843:code xmlns:ns1843="http://www.w3.org/1999/xhtml">cdata-section-elements</ns1843:code> Parameter</ns1841:h4><ns1844:p xmlns:ns1844="http://www.w3.org/1999/xhtml">The behavior for <ns1845:code xmlns:ns1845="http://www.w3.org/1999/xhtml">cdata-section-elements</ns1845:code> parameter for the XHTML output method is described in <ns1846:a xmlns:ns1846="http://www.w3.org/1999/xhtml" href="#XML_CDATA-SECTION-ELEMENTS"><ns1847:b xmlns:ns1847="http://www.w3.org/1999/xhtml">5.1.4 XML Output Method: the cdata-section-elements Parameter</ns1847:b></ns1846:a>.</ns1844:p></ns1840:div><ns1848:div xmlns:ns1848="http://www.w3.org/1999/xhtml" class="div3">
<ns1849:h4 xmlns:ns1849="http://www.w3.org/1999/xhtml"><ns1850:a xmlns:ns1850="http://www.w3.org/1999/xhtml" name="XHTML_OMIT-XML-DECLARATION" id="XHTML_OMIT-XML-DECLARATION"/>6.1.5 XHTML Output Method: the <ns1851:code xmlns:ns1851="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1851:code> and <ns1852:code xmlns:ns1852="http://www.w3.org/1999/xhtml">standalone</ns1852:code> Parameters</ns1849:h4><ns1853:p xmlns:ns1853="http://www.w3.org/1999/xhtml">The behavior for <ns1854:code xmlns:ns1854="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1854:code> and  <ns1855:code xmlns:ns1855="http://www.w3.org/1999/xhtml">standalone</ns1855:code> parameters for the XHTML output method is described in <ns1856:a xmlns:ns1856="http://www.w3.org/1999/xhtml" href="#XML_OMIT-XML-DECLARATION"><ns1857:b xmlns:ns1857="http://www.w3.org/1999/xhtml">5.1.5 XML Output Method: the omit-xml-declaration and standalone Parameters</ns1857:b></ns1856:a>.</ns1853:p><ns1858:div xmlns:ns1858="http://www.w3.org/1999/xhtml" class="note"><ns1859:p xmlns:ns1859="http://www.w3.org/1999/xhtml" class="prefix"><ns1860:b xmlns:ns1860="http://www.w3.org/1999/xhtml">Note:</ns1860:b></ns1859:p><ns1861:p xmlns:ns1861="http://www.w3.org/1999/xhtml">As with the XML output method, the XHTML
output method specifies that an XML declaration will be output unless it is suppressed using
the <ns1862:code xmlns:ns1862="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns1862:code> parameter. Appendix C.1 of 
<ns1863:a xmlns:ns1863="http://www.w3.org/1999/xhtml" href="#xhtml1">[XHTML 1.0]</ns1863:a>
provides advice on the consequences of including,
or omitting, the XML declaration.</ns1861:p></ns1858:div></ns1848:div><ns1864:div xmlns:ns1864="http://www.w3.org/1999/xhtml" class="div3">
<ns1865:h4 xmlns:ns1865="http://www.w3.org/1999/xhtml"><ns1866:a xmlns:ns1866="http://www.w3.org/1999/xhtml" name="XHTML_DOCTYPE" id="XHTML_DOCTYPE"/>6.1.6 XHTML Output Method: the <ns1867:code xmlns:ns1867="http://www.w3.org/1999/xhtml">doctype-system</ns1867:code> and <ns1868:code xmlns:ns1868="http://www.w3.org/1999/xhtml">doctype-public</ns1868:code> Parameters</ns1865:h4><ns1869:p xmlns:ns1869="http://www.w3.org/1999/xhtml">The behavior for <ns1870:code xmlns:ns1870="http://www.w3.org/1999/xhtml">doctype-system</ns1870:code> and  <ns1871:code xmlns:ns1871="http://www.w3.org/1999/xhtml">doctype-public</ns1871:code> parameters for the XHTML output method is described in <ns1872:a xmlns:ns1872="http://www.w3.org/1999/xhtml" href="#XML_DOCTYPE"><ns1873:b xmlns:ns1873="http://www.w3.org/1999/xhtml">5.1.6 XML Output Method: the doctype-system and doctype-public Parameters</ns1873:b></ns1872:a>.</ns1869:p></ns1864:div><ns1874:div xmlns:ns1874="http://www.w3.org/1999/xhtml" class="div3">
<ns1875:h4 xmlns:ns1875="http://www.w3.org/1999/xhtml"><ns1876:a xmlns:ns1876="http://www.w3.org/1999/xhtml" name="XHTML_UNDECLARE-PREFIXES" id="XHTML_UNDECLARE-PREFIXES"/>6.1.7 XHTML Output Method: the <ns1877:code xmlns:ns1877="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns1877:code> Parameter</ns1875:h4><ns1878:p xmlns:ns1878="http://www.w3.org/1999/xhtml">The behavior for <ns1879:code xmlns:ns1879="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns1879:code> parameter for the XHTML output method is described in <ns1880:a xmlns:ns1880="http://www.w3.org/1999/xhtml" href="#xml-undeclare-NS"><ns1881:b xmlns:ns1881="http://www.w3.org/1999/xhtml">5.1.7 XML Output Method: the undeclare-prefixes Parameter</ns1881:b></ns1880:a>.</ns1878:p></ns1874:div><ns1882:div xmlns:ns1882="http://www.w3.org/1999/xhtml" class="div3">
<ns1883:h4 xmlns:ns1883="http://www.w3.org/1999/xhtml"><ns1884:a xmlns:ns1884="http://www.w3.org/1999/xhtml" name="XHTML_NORMALIZATION-FORM" id="XHTML_NORMALIZATION-FORM"/>6.1.8 XHTML Output Method: the <ns1885:code xmlns:ns1885="http://www.w3.org/1999/xhtml">normalization-form</ns1885:code> Parameter</ns1883:h4><ns1886:p xmlns:ns1886="http://www.w3.org/1999/xhtml">The behavior for <ns1887:code xmlns:ns1887="http://www.w3.org/1999/xhtml">normalization-form</ns1887:code> parameter for the XHTML output method is described in <ns1888:a xmlns:ns1888="http://www.w3.org/1999/xhtml" href="#XML_NORMALIZATION-FORM"><ns1889:b xmlns:ns1889="http://www.w3.org/1999/xhtml">5.1.8 XML Output Method: the normalization-form Parameter</ns1889:b></ns1888:a>.</ns1886:p></ns1882:div><ns1890:div xmlns:ns1890="http://www.w3.org/1999/xhtml" class="div3">
<ns1891:h4 xmlns:ns1891="http://www.w3.org/1999/xhtml"><ns1892:a xmlns:ns1892="http://www.w3.org/1999/xhtml" name="XHTML_MEDIA-TYPE" id="XHTML_MEDIA-TYPE"/>6.1.9 XHTML Output Method: the <ns1893:code xmlns:ns1893="http://www.w3.org/1999/xhtml">media-type</ns1893:code> Parameter</ns1891:h4><ns1894:p xmlns:ns1894="http://www.w3.org/1999/xhtml">The behavior for <ns1895:code xmlns:ns1895="http://www.w3.org/1999/xhtml">media-type</ns1895:code> parameter for the XHTML output method is described in <ns1896:a xmlns:ns1896="http://www.w3.org/1999/xhtml" href="#XML_MEDIA-TYPE"><ns1897:b xmlns:ns1897="http://www.w3.org/1999/xhtml">5.1.9 XML Output Method: the media-type Parameter</ns1897:b></ns1896:a>.</ns1894:p></ns1890:div><ns1898:div xmlns:ns1898="http://www.w3.org/1999/xhtml" class="div3">
<ns1899:h4 xmlns:ns1899="http://www.w3.org/1999/xhtml"><ns1900:a xmlns:ns1900="http://www.w3.org/1999/xhtml" name="XHTML_USE-CHARACTER-MAPS" id="XHTML_USE-CHARACTER-MAPS"/>6.1.10 XHTML Output Method: the <ns1901:code xmlns:ns1901="http://www.w3.org/1999/xhtml">use-character-maps</ns1901:code> Parameter</ns1899:h4><ns1902:p xmlns:ns1902="http://www.w3.org/1999/xhtml">The behavior for <ns1903:code xmlns:ns1903="http://www.w3.org/1999/xhtml">use-character-maps</ns1903:code> parameter for the XHTML output method is described in <ns1904:a xmlns:ns1904="http://www.w3.org/1999/xhtml" href="#XML_USE-CHARACTER-MAPS"><ns1905:b xmlns:ns1905="http://www.w3.org/1999/xhtml">5.1.10 XML Output Method: the use-character-maps Parameter</ns1905:b></ns1904:a>.</ns1902:p></ns1898:div><ns1906:div xmlns:ns1906="http://www.w3.org/1999/xhtml" class="div3">
<ns1907:h4 xmlns:ns1907="http://www.w3.org/1999/xhtml"><ns1908:a xmlns:ns1908="http://www.w3.org/1999/xhtml" name="XHTML_BYTE-ORDER-MARK" id="XHTML_BYTE-ORDER-MARK"/>6.1.11 XHTML Output Method: the <ns1909:code xmlns:ns1909="http://www.w3.org/1999/xhtml">byte-order-mark</ns1909:code> Parameter</ns1907:h4><ns1910:p xmlns:ns1910="http://www.w3.org/1999/xhtml">The behavior for <ns1911:code xmlns:ns1911="http://www.w3.org/1999/xhtml">byte-order-mark</ns1911:code> parameter for the XHTML output method is described in <ns1912:a xmlns:ns1912="http://www.w3.org/1999/xhtml" href="#XML_BYTE-ORDER-MARK"><ns1913:b xmlns:ns1913="http://www.w3.org/1999/xhtml">5.1.11 XML Output Method: the byte-order-mark Parameter</ns1913:b></ns1912:a>.</ns1910:p></ns1906:div><ns1914:div xmlns:ns1914="http://www.w3.org/1999/xhtml" class="div3">
<ns1915:h4 xmlns:ns1915="http://www.w3.org/1999/xhtml"><ns1916:a xmlns:ns1916="http://www.w3.org/1999/xhtml" name="XHTML_ESCAPE-URI-ATTRIBUTES" id="XHTML_ESCAPE-URI-ATTRIBUTES"/>6.1.12 XHTML Output Method: the <ns1917:code xmlns:ns1917="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns1917:code> Parameter</ns1915:h4><ns1918:p xmlns:ns1918="http://www.w3.org/1999/xhtml">

If the <ns1919:code xmlns:ns1919="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns1919:code> parameter has the value
<ns1920:code xmlns:ns1920="http://www.w3.org/1999/xhtml">yes</ns1920:code>, the XHTML output method 
<ns1921:strong xmlns:ns1921="http://www.w3.org/1999/xhtml">MUST</ns1921:strong> apply <ns1922:a xmlns:ns1922="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns1922:a> to 
<ns1923:a xmlns:ns1923="http://www.w3.org/1999/xhtml" title="URI attribute values" href="#uri-attribute-values">URI attribute values</ns1923:a>, except that relative URIs <ns1924:strong xmlns:ns1924="http://www.w3.org/1999/xhtml">MUST NOT</ns1924:strong> be absolutized.</ns1918:p><ns1925:div xmlns:ns1925="http://www.w3.org/1999/xhtml" class="note"><ns1926:p xmlns:ns1926="http://www.w3.org/1999/xhtml" class="prefix"><ns1927:b xmlns:ns1927="http://www.w3.org/1999/xhtml">Note:</ns1927:b></ns1926:p><ns1928:p xmlns:ns1928="http://www.w3.org/1999/xhtml">This escaping is deliberately confined to non-ASCII characters,
because escaping of ASCII characters is not always appropriate, for
example when URIs or URI fragments are interpreted locally by the HTML
user agent. Even in the case of non-ASCII characters, escaping can
sometimes cause problems. More precise control of <ns1929:a xmlns:ns1929="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns1929:a> is
therefore available by setting <ns1930:code xmlns:ns1930="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns1930:code> to
<ns1931:code xmlns:ns1931="http://www.w3.org/1999/xhtml">no</ns1931:code>, and controlling the escaping of URIs by using methods defined in
<ns1932:a xmlns:ns1932="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#func-encode-for-uri">Section 
6.2 </ns1932:a><ns1933:sup xmlns:ns1933="http://www.w3.org/1999/xhtml"><ns1934:small xmlns:ns1934="http://www.w3.org/1999/xhtml">FO11</ns1934:small></ns1933:sup> and <ns1935:a xmlns:ns1935="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#func-iri-to-uri">Section 
6.3 </ns1935:a><ns1936:sup xmlns:ns1936="http://www.w3.org/1999/xhtml"><ns1937:small xmlns:ns1937="http://www.w3.org/1999/xhtml">FO11</ns1937:small></ns1936:sup>.</ns1928:p></ns1925:div></ns1914:div><ns1938:div xmlns:ns1938="http://www.w3.org/1999/xhtml" class="div3">
<ns1939:h4 xmlns:ns1939="http://www.w3.org/1999/xhtml"><ns1940:a xmlns:ns1940="http://www.w3.org/1999/xhtml" name="XHTML_INCLUDE-CONTENT-TYPE" id="XHTML_INCLUDE-CONTENT-TYPE"/>6.1.13 XHTML Output Method: the <ns1941:code xmlns:ns1941="http://www.w3.org/1999/xhtml">include-content-type</ns1941:code> Parameter</ns1939:h4><ns1942:p xmlns:ns1942="http://www.w3.org/1999/xhtml">If the instance of the data model includes a <ns1943:code xmlns:ns1943="http://www.w3.org/1999/xhtml">head</ns1943:code> element in
the XHTML namespace,
and the <ns1944:code xmlns:ns1944="http://www.w3.org/1999/xhtml">include-content-type</ns1944:code> parameter has the value
<ns1945:code xmlns:ns1945="http://www.w3.org/1999/xhtml">yes</ns1945:code>,
the XHTML output method
<ns1946:strong xmlns:ns1946="http://www.w3.org/1999/xhtml">MUST</ns1946:strong>
add a <ns1947:code xmlns:ns1947="http://www.w3.org/1999/xhtml">meta</ns1947:code> element as the first child element of the
<ns1948:code xmlns:ns1948="http://www.w3.org/1999/xhtml">head</ns1948:code> element, specifying the character encoding actually
used.</ns1942:p><ns1949:div xmlns:ns1949="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns1950:p xmlns:ns1950="http://www.w3.org/1999/xhtml">For example,</ns1950:p><ns1951:div xmlns:ns1951="http://www.w3.org/1999/xhtml" class="exampleInner"><ns1952:pre xmlns:ns1952="http://www.w3.org/1999/xhtml">&lt;head&gt;
&lt;meta http-equiv="Content-Type" content="text/html; charset=EUC-JP" /&gt;
...</ns1952:pre></ns1951:div></ns1949:div><ns1953:p xmlns:ns1953="http://www.w3.org/1999/xhtml">The content type <ns1954:strong xmlns:ns1954="http://www.w3.org/1999/xhtml">SHOULD</ns1954:strong> be set to the value given for the
<ns1955:code xmlns:ns1955="http://www.w3.org/1999/xhtml">media-type</ns1955:code> parameter.</ns1953:p><ns1956:div xmlns:ns1956="http://www.w3.org/1999/xhtml" class="note"><ns1957:p xmlns:ns1957="http://www.w3.org/1999/xhtml" class="prefix"><ns1958:b xmlns:ns1958="http://www.w3.org/1999/xhtml">Note:</ns1958:b></ns1957:p><ns1959:p xmlns:ns1959="http://www.w3.org/1999/xhtml">It is recommended that the <ns1960:a xmlns:ns1960="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns1960:a> use as default
value for this parameter one of the MIME types (<ns1961:a xmlns:ns1961="http://www.w3.org/1999/xhtml" href="#RFC2046">[RFC2046]</ns1961:a>) registered for
XHTML. Currently, these are <ns1962:code xmlns:ns1962="http://www.w3.org/1999/xhtml">text/html</ns1962:code> (registered by <ns1963:a xmlns:ns1963="http://www.w3.org/1999/xhtml" href="#RFC2854">[RFC2854]</ns1963:a>)
and <ns1964:code xmlns:ns1964="http://www.w3.org/1999/xhtml">application/xhtml+xml</ns1964:code> (registered by <ns1965:a xmlns:ns1965="http://www.w3.org/1999/xhtml" href="#RFC3236">[RFC3236]</ns1965:a>). Note that
some user agents fail to recognize the charset parameter if the
content type is not <ns1966:code xmlns:ns1966="http://www.w3.org/1999/xhtml">text/html</ns1966:code>.</ns1959:p></ns1956:div><ns1967:p xmlns:ns1967="http://www.w3.org/1999/xhtml">If a <ns1968:code xmlns:ns1968="http://www.w3.org/1999/xhtml">meta</ns1968:code> element has been added to the <ns1969:code xmlns:ns1969="http://www.w3.org/1999/xhtml">head</ns1969:code> element as described above,
then any existing <ns1970:code xmlns:ns1970="http://www.w3.org/1999/xhtml">meta</ns1970:code> element child of the <ns1971:code xmlns:ns1971="http://www.w3.org/1999/xhtml">head</ns1971:code> element having an
<ns1972:code xmlns:ns1972="http://www.w3.org/1999/xhtml">http-equiv</ns1972:code> attribute with the value "Content-Type",
making the comparison


<ns1973:span xmlns:ns1973="http://www.w3.org/1999/xhtml"><ns1974:a xmlns:ns1974="http://www.w3.org/1999/xhtml" title="without regard to case" href="#caseless-compare">without regard to case</ns1974:a>
after first stripping leading and trailing spaces from the value of
the attribute solely for the purposes of comparison,</ns1973:span>

<ns1975:strong xmlns:ns1975="http://www.w3.org/1999/xhtml">MUST</ns1975:strong> be discarded. </ns1967:p><ns1976:div xmlns:ns1976="http://www.w3.org/1999/xhtml" class="note"><ns1977:p xmlns:ns1977="http://www.w3.org/1999/xhtml" class="prefix"><ns1978:b xmlns:ns1978="http://www.w3.org/1999/xhtml">Note:</ns1978:b></ns1977:p><ns1979:p xmlns:ns1979="http://www.w3.org/1999/xhtml">This process removes possible parameters in the attribute value.  For example,</ns1979:p><ns1980:div xmlns:ns1980="http://www.w3.org/1999/xhtml" class="exampleInner"><ns1981:pre xmlns:ns1981="http://www.w3.org/1999/xhtml">&lt;meta http-equiv="Content-Type" content="text/html;version='3.0'" /&gt;</ns1981:pre></ns1980:div><ns1982:p xmlns:ns1982="http://www.w3.org/1999/xhtml">in the data model instance would be replaced by,</ns1982:p><ns1983:div xmlns:ns1983="http://www.w3.org/1999/xhtml" class="exampleInner"><ns1984:pre xmlns:ns1984="http://www.w3.org/1999/xhtml">&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8" /&gt;</ns1984:pre></ns1983:div></ns1976:div></ns1938:div></ns1779:div></ns1694:div><ns1985:div xmlns:ns1985="http://www.w3.org/1999/xhtml" class="div1">
<ns1986:h2 xmlns:ns1986="http://www.w3.org/1999/xhtml"><ns1987:a xmlns:ns1987="http://www.w3.org/1999/xhtml" name="html-output" id="html-output"/>7 HTML Output Method</ns1986:h2><ns1988:p xmlns:ns1988="http://www.w3.org/1999/xhtml">The HTML output method serializes the instance of the data model as
HTML.</ns1988:p><ns1989:div xmlns:ns1989="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns1990:p xmlns:ns1990="http://www.w3.org/1999/xhtml">For example, the following XSL stylesheet generates html output,</ns1990:p><ns1991:div xmlns:ns1991="http://www.w3.org/1999/xhtml" class="exampleInner"><ns1992:pre xmlns:ns1992="http://www.w3.org/1999/xhtml">&lt;xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform"&gt;
&lt;xsl:output method="html" version="4.0"/&gt;
&lt;xsl:template match="/"&gt;
  &lt;html&gt;
    &lt;xsl:apply-templates/&gt;
  &lt;/html&gt;
&lt;/xsl:template&gt;
...
&lt;/xsl:stylesheet&gt;</ns1992:pre></ns1991:div></ns1989:div><ns1993:p xmlns:ns1993="http://www.w3.org/1999/xhtml">In the example, the <ns1994:code xmlns:ns1994="http://www.w3.org/1999/xhtml">version</ns1994:code> attribute of the <ns1995:code xmlns:ns1995="http://www.w3.org/1999/xhtml">xsl:output</ns1995:code> element indicates the version of the HTML Recommendation <ns1996:a xmlns:ns1996="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns1996:a> to which the serialized result is to conform.</ns1993:p><ns1997:p xmlns:ns1997="http://www.w3.org/1999/xhtml">It is entirely the responsibility of the person or process that creates the instance of the data model to ensure that the instance of the data model conforms to the HTML Recommendation <ns1998:a xmlns:ns1998="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns1998:a>. It is not an error if the instance of the data model is invalid HTML. Equally, it is entirely under the control of the person or process that creates the instance of the data model whether the output conforms to HTML.

<ns1999:span xmlns:ns1999="http://www.w3.org/1999/xhtml">If the result tree is valid HTML, the
serializer <ns2000:strong xmlns:ns2000="http://www.w3.org/1999/xhtml">MUST</ns2000:strong> serialize the result in a way that
conforms with the version of HTML specified by the <ns2001:code xmlns:ns2001="http://www.w3.org/1999/xhtml">version</ns2001:code>
serialization parameter.</ns1999:span></ns1997:p><ns2002:table xmlns:ns2002="http://www.w3.org/1999/xhtml" border="1" summary="Editorial note"><ns2003:tr xmlns:ns2003="http://www.w3.org/1999/xhtml"><ns2004:td xmlns:ns2004="http://www.w3.org/1999/xhtml" align="left" valign="top" width="50%"><ns2005:b xmlns:ns2005="http://www.w3.org/1999/xhtml">Editorial note</ns2005:b></ns2004:td><ns2006:td xmlns:ns2006="http://www.w3.org/1999/xhtml" align="right" valign="top" width="50%"> </ns2006:td></ns2003:tr><ns2007:tr xmlns:ns2007="http://www.w3.org/1999/xhtml"><ns2008:td xmlns:ns2008="http://www.w3.org/1999/xhtml" colspan="2" align="left" valign="top">Need to take into account
HTML 5.0, per request made in
<ns2009:a xmlns:ns2009="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6129">Bugzilla bug 6129</ns2009:a>.</ns2008:td></ns2007:tr></ns2002:table><ns2010:div xmlns:ns2010="http://www.w3.org/1999/xhtml" class="div2">
<ns2011:h3 xmlns:ns2011="http://www.w3.org/1999/xhtml"><ns2012:a xmlns:ns2012="http://www.w3.org/1999/xhtml" name="HTML_MARKUP" id="HTML_MARKUP"/>7.1 Markup for Elements</ns2011:h3><ns2013:p xmlns:ns2013="http://www.w3.org/1999/xhtml">The HTML output method
<ns2014:strong xmlns:ns2014="http://www.w3.org/1999/xhtml">MUST NOT</ns2014:strong> output an element
differently from the XML output method unless the
expanded QName of the element has a <ns2015:a xmlns:ns2015="http://www.w3.org/1999/xhtml" title="null namespace URI" href="#null-namespace-URI">null namespace URI</ns2015:a>. [<ns2016:a xmlns:ns2016="http://www.w3.org/1999/xhtml" name="XML-ISLAND" id="XML-ISLAND" title="XML Island">Definition</ns2016:a>: An element
whose expanded QName has a <ns2017:a xmlns:ns2017="http://www.w3.org/1999/xhtml" title="non-null namespace URI" href="#non-null-namespace-URI">non-null namespace URI</ns2017:a>

<ns2018:strong xmlns:ns2018="http://www.w3.org/1999/xhtml">MUST</ns2018:strong> be output as
XML.  This is known as an <ns2019:b xmlns:ns2019="http://www.w3.org/1999/xhtml">XML Island</ns2019:b>.] If the expanded QName of the element has a <ns2020:a xmlns:ns2020="http://www.w3.org/1999/xhtml" title="null namespace URI" href="#null-namespace-URI">null namespace URI</ns2020:a>,
but the local part of the expanded QName is not recognized as the name
of an HTML element, the element 
<ns2021:strong xmlns:ns2021="http://www.w3.org/1999/xhtml">MUST</ns2021:strong> be output in the same way as a
non-empty, inline element such as <ns2022:code xmlns:ns2022="http://www.w3.org/1999/xhtml">span</ns2022:code>. In particular:</ns2013:p><ns2023:ol xmlns:ns2023="http://www.w3.org/1999/xhtml" class="enumar"><ns2024:li xmlns:ns2024="http://www.w3.org/1999/xhtml"><ns2025:p xmlns:ns2025="http://www.w3.org/1999/xhtml">If the <ns2026:a xmlns:ns2026="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns2026:a> contains namespace <ns2027:a xmlns:ns2027="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns2027:a> for namespaces other than the
XML namespace, the HTML output method 
<ns2028:strong xmlns:ns2028="http://www.w3.org/1999/xhtml">MUST</ns2028:strong> represent these namespaces using
attributes named <ns2029:code xmlns:ns2029="http://www.w3.org/1999/xhtml">xmlns</ns2029:code> or <ns2030:code xmlns:ns2030="http://www.w3.org/1999/xhtml">xmlns:</ns2030:code><ns2031:em xmlns:ns2031="http://www.w3.org/1999/xhtml">prefix</ns2031:em>
in the same way as the XML output method would represent them when the
<ns2032:code xmlns:ns2032="http://www.w3.org/1999/xhtml">version</ns2032:code> parameter is set to <ns2033:code xmlns:ns2033="http://www.w3.org/1999/xhtml">1.0</ns2033:code>.</ns2025:p></ns2024:li><ns2034:li xmlns:ns2034="http://www.w3.org/1999/xhtml"><ns2035:p xmlns:ns2035="http://www.w3.org/1999/xhtml">If the <ns2036:a xmlns:ns2036="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns2036:a> contains elements or attributes whose names have a
<ns2037:a xmlns:ns2037="http://www.w3.org/1999/xhtml" title="non-null namespace URI" href="#non-null-namespace-URI">non-null namespace URI</ns2037:a>, the HTML output method

<ns2038:strong xmlns:ns2038="http://www.w3.org/1999/xhtml">MUST</ns2038:strong> generate
namespace-prefixed QNames for these <ns2039:a xmlns:ns2039="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns2039:a> in the same way as the XML output
method would do when the <ns2040:code xmlns:ns2040="http://www.w3.org/1999/xhtml">version</ns2040:code> parameter is set to <ns2041:code xmlns:ns2041="http://www.w3.org/1999/xhtml">1.0</ns2041:code>.</ns2035:p></ns2034:li><ns2042:li xmlns:ns2042="http://www.w3.org/1999/xhtml"><ns2043:p xmlns:ns2043="http://www.w3.org/1999/xhtml">Where special rules are defined later in this section for
serializing specific HTML elements and attributes, these rules

<ns2044:strong xmlns:ns2044="http://www.w3.org/1999/xhtml">MUST NOT</ns2044:strong> be 
applied to an element or attribute whose name has a <ns2045:a xmlns:ns2045="http://www.w3.org/1999/xhtml" title="non-null namespace URI" href="#non-null-namespace-URI">non-null
namespace URI</ns2045:a>. However, the generic rules for the HTML output method
that apply to all elements and attributes, for example the rules for
escaping special characters in the text and the rules for indentation,
<ns2046:strong xmlns:ns2046="http://www.w3.org/1999/xhtml">MUST</ns2046:strong> be used also for namespaced elements and attributes.</ns2043:p></ns2042:li><ns2047:li xmlns:ns2047="http://www.w3.org/1999/xhtml"><ns2048:p xmlns:ns2048="http://www.w3.org/1999/xhtml">When serializing an element whose name is not defined in the
HTML specification, but that is in the null namespace, the HTML output
method

<ns2049:strong xmlns:ns2049="http://www.w3.org/1999/xhtml">MUST</ns2049:strong>
apply the same rules (for example, indentation rules) as
when serializing a <ns2050:code xmlns:ns2050="http://www.w3.org/1999/xhtml">span</ns2050:code> element. The descendants of such
an element 
<ns2051:strong xmlns:ns2051="http://www.w3.org/1999/xhtml">MUST</ns2051:strong> be serialized as if they were descendants of a
<ns2052:code xmlns:ns2052="http://www.w3.org/1999/xhtml">span</ns2052:code> element.</ns2048:p></ns2047:li><ns2053:li xmlns:ns2053="http://www.w3.org/1999/xhtml"><ns2054:p xmlns:ns2054="http://www.w3.org/1999/xhtml">When serializing an element whose name is in a non-null
namespace, the HTML output method 
<ns2055:strong xmlns:ns2055="http://www.w3.org/1999/xhtml">MUST</ns2055:strong> apply the same rules (for
example, indentation rules) as when serializing a <ns2056:code xmlns:ns2056="http://www.w3.org/1999/xhtml">div</ns2056:code>
element. The descendants of such an element

<ns2057:strong xmlns:ns2057="http://www.w3.org/1999/xhtml">MUST</ns2057:strong> be serialized as if
they were descendants of a <ns2058:code xmlns:ns2058="http://www.w3.org/1999/xhtml">div</ns2058:code> element.
        <ns2059:span xmlns:ns2059="http://www.w3.org/1999/xhtml">, except for the influence
          of the <ns2060:code xmlns:ns2060="http://www.w3.org/1999/xhtml">cdata-section-elements</ns2060:code> serialization parameter
          on any text node children of the element.</ns2059:span>
      </ns2054:p></ns2053:li></ns2023:ol><ns2061:p xmlns:ns2061="http://www.w3.org/1999/xhtml">The HTML output method 
<ns2062:strong xmlns:ns2062="http://www.w3.org/1999/xhtml">MUST NOT</ns2062:strong> output an end-tag for an <ns2063:span xmlns:ns2063="http://www.w3.org/1999/xhtml">empty element
if the element type has an empty content model.</ns2063:span>  For HTML 4.0, the
<ns2064:span xmlns:ns2064="http://www.w3.org/1999/xhtml">element types that have an empty content model are</ns2064:span> 
<ns2065:code xmlns:ns2065="http://www.w3.org/1999/xhtml">area</ns2065:code>, <ns2066:code xmlns:ns2066="http://www.w3.org/1999/xhtml">base</ns2066:code>, <ns2067:code xmlns:ns2067="http://www.w3.org/1999/xhtml">basefont</ns2067:code>,
<ns2068:code xmlns:ns2068="http://www.w3.org/1999/xhtml">br</ns2068:code>, <ns2069:code xmlns:ns2069="http://www.w3.org/1999/xhtml">col</ns2069:code>, <ns2070:code xmlns:ns2070="http://www.w3.org/1999/xhtml">frame</ns2070:code>,
<ns2071:code xmlns:ns2071="http://www.w3.org/1999/xhtml">hr</ns2071:code>, <ns2072:code xmlns:ns2072="http://www.w3.org/1999/xhtml">img</ns2072:code>, <ns2073:code xmlns:ns2073="http://www.w3.org/1999/xhtml">input</ns2073:code>,
<ns2074:code xmlns:ns2074="http://www.w3.org/1999/xhtml">isindex</ns2074:code>, <ns2075:code xmlns:ns2075="http://www.w3.org/1999/xhtml">link</ns2075:code>, <ns2076:code xmlns:ns2076="http://www.w3.org/1999/xhtml">meta</ns2076:code> and
<ns2077:code xmlns:ns2077="http://www.w3.org/1999/xhtml">param</ns2077:code>. For example, an element written as
<ns2078:code xmlns:ns2078="http://www.w3.org/1999/xhtml">&lt;br/&gt;</ns2078:code> or <ns2079:code xmlns:ns2079="http://www.w3.org/1999/xhtml">&lt;br&gt;&lt;/br&gt;</ns2079:code> in an
XSLT stylesheet 
<ns2080:strong xmlns:ns2080="http://www.w3.org/1999/xhtml">MUST</ns2080:strong> be output as <ns2081:code xmlns:ns2081="http://www.w3.org/1999/xhtml">&lt;br&gt;</ns2081:code>.</ns2061:p><ns2082:div xmlns:ns2082="http://www.w3.org/1999/xhtml" class="note"><ns2083:p xmlns:ns2083="http://www.w3.org/1999/xhtml" class="prefix"><ns2084:b xmlns:ns2084="http://www.w3.org/1999/xhtml">Note:</ns2084:b></ns2083:p><ns2085:p xmlns:ns2085="http://www.w3.org/1999/xhtml">The markup generation step of the
<ns2086:a xmlns:ns2086="http://www.w3.org/1999/xhtml" title="" href="#serphases">phases of serialization</ns2086:a> only creates
start tags and end tags for the HTML output method, never XML-style
empty element tags.  As such, a serializer MUST serialize an HTML
element that has no children, but whose content model is not empty,
using a pair of adjacent start and end element tags, or as a solitary
start tag if the permitted by the context.
</ns2085:p></ns2082:div><ns2087:p xmlns:ns2087="http://www.w3.org/1999/xhtml">The HTML output method 
<ns2088:strong xmlns:ns2088="http://www.w3.org/1999/xhtml">MUST</ns2088:strong> recognize the names of
HTML elements


<ns2089:span xmlns:ns2089="http://www.w3.org/1999/xhtml">making the comparison
<ns2090:a xmlns:ns2090="http://www.w3.org/1999/xhtml" title="without regard to case" href="#caseless-compare">without regard to case</ns2090:a>.</ns2089:span>

For example, elements named
<ns2091:code xmlns:ns2091="http://www.w3.org/1999/xhtml">br</ns2091:code>, <ns2092:code xmlns:ns2092="http://www.w3.org/1999/xhtml">BR</ns2092:code> or <ns2093:code xmlns:ns2093="http://www.w3.org/1999/xhtml">Br</ns2093:code> 
<ns2094:strong xmlns:ns2094="http://www.w3.org/1999/xhtml">MUST</ns2094:strong> all be
recognized as the HTML <ns2095:code xmlns:ns2095="http://www.w3.org/1999/xhtml">br</ns2095:code> element and output without an
end-tag.</ns2087:p><ns2096:p xmlns:ns2096="http://www.w3.org/1999/xhtml">The HTML output method 
<ns2097:strong xmlns:ns2097="http://www.w3.org/1999/xhtml">MUST NOT</ns2097:strong> perform escaping for


<ns2098:span xmlns:ns2098="http://www.w3.org/1999/xhtml">any text node
descendant, nor for any attribute of an element node descendant,</ns2098:span>
of

<ns2099:span xmlns:ns2099="http://www.w3.org/1999/xhtml">a</ns2099:span>
<ns2100:code xmlns:ns2100="http://www.w3.org/1999/xhtml">script</ns2100:code>

<ns2101:span xmlns:ns2101="http://www.w3.org/1999/xhtml">or</ns2101:span>
<ns2102:code xmlns:ns2102="http://www.w3.org/1999/xhtml">style</ns2102:code>

<ns2103:span xmlns:ns2103="http://www.w3.org/1999/xhtml">element</ns2103:span>.

</ns2096:p><ns2104:div xmlns:ns2104="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns2105:p xmlns:ns2105="http://www.w3.org/1999/xhtml">For example, a <ns2106:code xmlns:ns2106="http://www.w3.org/1999/xhtml">script</ns2106:code> element
created by an XQuery direct element constructor or an XSLT
literal result element, such as:</ns2105:p><ns2107:div xmlns:ns2107="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2108:pre xmlns:ns2108="http://www.w3.org/1999/xhtml">&lt;script&gt;if (a &amp;lt; b) foo()&lt;/script&gt;</ns2108:pre></ns2107:div><ns2109:p xmlns:ns2109="http://www.w3.org/1999/xhtml">or</ns2109:p><ns2110:div xmlns:ns2110="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2111:pre xmlns:ns2111="http://www.w3.org/1999/xhtml">&lt;script&gt;&lt;![CDATA[if (a &lt; b) foo()]]&gt;&lt;/script&gt;</ns2111:pre></ns2110:div><ns2112:p xmlns:ns2112="http://www.w3.org/1999/xhtml">
<ns2113:strong xmlns:ns2113="http://www.w3.org/1999/xhtml">MUST</ns2113:strong> be output as</ns2112:p><ns2114:div xmlns:ns2114="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2115:pre xmlns:ns2115="http://www.w3.org/1999/xhtml">&lt;script&gt;if (a &lt; b) foo()&lt;/script&gt;</ns2115:pre></ns2114:div></ns2104:div><ns2116:div xmlns:ns2116="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns2117:p xmlns:ns2117="http://www.w3.org/1999/xhtml">A common requirement is to output a <ns2118:code xmlns:ns2118="http://www.w3.org/1999/xhtml">script</ns2118:code> element
as shown in the example below:</ns2117:p><ns2119:div xmlns:ns2119="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2120:pre xmlns:ns2120="http://www.w3.org/1999/xhtml">&lt;script type="application/ecmascript"&gt;
      document.write ("&lt;em&gt;This won't work&lt;/em&gt;")
&lt;/script&gt;</ns2120:pre></ns2119:div><ns2121:p xmlns:ns2121="http://www.w3.org/1999/xhtml">This is illegal HTML, for the reasons explained in section B.3.2 of
the <ns2122:a xmlns:ns2122="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2122:a> 4.01 specification. Nevertheless, it is possible to output
this fragment, using either of the following constructs:</ns2121:p><ns2123:p xmlns:ns2123="http://www.w3.org/1999/xhtml">Firstly, by use of a <ns2124:code xmlns:ns2124="http://www.w3.org/1999/xhtml">script</ns2124:code> element
created by an XQuery direct element constructor or an
XSLT literal result element:</ns2123:p><ns2125:div xmlns:ns2125="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2126:pre xmlns:ns2126="http://www.w3.org/1999/xhtml">&lt;script type="application/ecmascript"&gt;
      document.write ("&lt;em&gt;This won't work&lt;/em&gt;")
&lt;/script&gt;</ns2126:pre></ns2125:div><ns2127:p xmlns:ns2127="http://www.w3.org/1999/xhtml">Secondly, by constructing the markup from ordinary text characters:</ns2127:p><ns2128:div xmlns:ns2128="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2129:pre xmlns:ns2129="http://www.w3.org/1999/xhtml">&lt;script type="application/ecmascript"&gt;
      document.write ("&amp;lt;em&amp;gt;This won't work&amp;lt;/em&amp;gt;")
&lt;/script&gt;</ns2129:pre></ns2128:div><ns2130:p xmlns:ns2130="http://www.w3.org/1999/xhtml">As the <ns2131:a xmlns:ns2131="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2131:a> specification points out, the correct way to write this
is to use the escape conventions for the specific scripting language.
For JavaScript, it can be written as:</ns2130:p><ns2132:div xmlns:ns2132="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2133:pre xmlns:ns2133="http://www.w3.org/1999/xhtml">&lt;script type="application/ecmascript"&gt;
      document.write ("&amp;lt;em&amp;gt;This will work&amp;lt;\/em&amp;gt;")
&lt;/script&gt;</ns2133:pre></ns2132:div><ns2134:p xmlns:ns2134="http://www.w3.org/1999/xhtml">The <ns2135:a xmlns:ns2135="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2135:a> 4.01 specification also shows examples of how to write
this in various other scripting languages. The escaping <ns2136:strong xmlns:ns2136="http://www.w3.org/1999/xhtml">MUST</ns2136:strong> be done
manually; it will not be done by the <ns2137:a xmlns:ns2137="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2137:a>.</ns2134:p></ns2116:div></ns2010:div><ns2138:div xmlns:ns2138="http://www.w3.org/1999/xhtml" class="div2">
<ns2139:h3 xmlns:ns2139="http://www.w3.org/1999/xhtml"><ns2140:a xmlns:ns2140="http://www.w3.org/1999/xhtml" name="HTML_ATTRIBS" id="HTML_ATTRIBS"/>7.2 Writing Attributes</ns2139:h3><ns2141:p xmlns:ns2141="http://www.w3.org/1999/xhtml">The HTML output method
<ns2142:strong xmlns:ns2142="http://www.w3.org/1999/xhtml">MUST NOT</ns2142:strong> escape
"<ns2143:code xmlns:ns2143="http://www.w3.org/1999/xhtml">&lt;</ns2143:code>" characters occurring in attribute values.</ns2141:p><ns2144:p xmlns:ns2144="http://www.w3.org/1999/xhtml">A boolean attribute is an
attribute with only a single allowed value in any of the HTML DTDs, where the
allowed value is equal without regard to case
to the name of the attribute. 
The HTML output method MUST output any boolean attribute in minimized form if
and only if the value of the attribute node actually is equal to the name of
the attribute

<ns2145:span xmlns:ns2145="http://www.w3.org/1999/xhtml">
making the comparison <ns2146:a xmlns:ns2146="http://www.w3.org/1999/xhtml" title="without regard to case" href="#caseless-compare">without regard to case</ns2146:a></ns2145:span>.

</ns2144:p><ns2147:div xmlns:ns2147="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns2148:p xmlns:ns2148="http://www.w3.org/1999/xhtml">For example, a start-tag created
using the following XQuery direct element constructor or XSLT
literal result element</ns2148:p><ns2149:div xmlns:ns2149="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2150:pre xmlns:ns2150="http://www.w3.org/1999/xhtml">&lt;OPTION selected="selected"&gt;</ns2150:pre></ns2149:div><ns2151:p xmlns:ns2151="http://www.w3.org/1999/xhtml"><ns2152:strong xmlns:ns2152="http://www.w3.org/1999/xhtml">MUST</ns2152:strong> be output as</ns2151:p><ns2153:div xmlns:ns2153="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2154:pre xmlns:ns2154="http://www.w3.org/1999/xhtml">&lt;OPTION selected&gt;</ns2154:pre></ns2153:div></ns2147:div><ns2155:p xmlns:ns2155="http://www.w3.org/1999/xhtml">The HTML output method 
<ns2156:strong xmlns:ns2156="http://www.w3.org/1999/xhtml">MUST NOT</ns2156:strong> escape a
<ns2157:code xmlns:ns2157="http://www.w3.org/1999/xhtml">&amp;</ns2157:code> character occurring in an attribute value
immediately followed by a <ns2158:code xmlns:ns2158="http://www.w3.org/1999/xhtml">{</ns2158:code> character (see <ns2159:a xmlns:ns2159="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-html40/appendix/notes.html#h-B.7.1.1">Section
B.7.1</ns2159:a> of the HTML Recommendation <ns2160:a xmlns:ns2160="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2160:a>).</ns2155:p><ns2161:div xmlns:ns2161="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns2162:p xmlns:ns2162="http://www.w3.org/1999/xhtml">For example, a start-tag created
using the following XQuery direct element constructor or XSLT
literal result element</ns2162:p><ns2163:div xmlns:ns2163="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2164:pre xmlns:ns2164="http://www.w3.org/1999/xhtml">&lt;BODY bgcolor='&amp;amp;{{randomrbg}};'&gt;</ns2164:pre></ns2163:div><ns2165:p xmlns:ns2165="http://www.w3.org/1999/xhtml">
<ns2166:strong xmlns:ns2166="http://www.w3.org/1999/xhtml">MUST</ns2166:strong> be output as</ns2165:p><ns2167:div xmlns:ns2167="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2168:pre xmlns:ns2168="http://www.w3.org/1999/xhtml">&lt;BODY bgcolor='&amp;{randomrbg};'&gt;</ns2168:pre></ns2167:div></ns2161:div><ns2169:p xmlns:ns2169="http://www.w3.org/1999/xhtml">See <ns2170:a xmlns:ns2170="http://www.w3.org/1999/xhtml" href="#HTML_PARAMS"><ns2171:b xmlns:ns2171="http://www.w3.org/1999/xhtml">7.4 The Influence of Serialization Parameters upon the HTML Output Method</ns2171:b></ns2170:a> for additional directives on how attributes may be written.</ns2169:p></ns2138:div><ns2172:div xmlns:ns2172="http://www.w3.org/1999/xhtml" class="div2">
<ns2173:h3 xmlns:ns2173="http://www.w3.org/1999/xhtml"><ns2174:a xmlns:ns2174="http://www.w3.org/1999/xhtml" name="HTML_CHARDATA" id="HTML_CHARDATA"/>7.3 Writing Character Data</ns2173:h3><ns2175:p xmlns:ns2175="http://www.w3.org/1999/xhtml">The HTML output method <ns2176:strong xmlns:ns2176="http://www.w3.org/1999/xhtml">MAY</ns2176:strong> output a character using a
character entity reference in preference to using a numeric character
reference, if an entity is defined for the character in the version of
HTML that the output method is using. Entity references and character
references <ns2177:strong xmlns:ns2177="http://www.w3.org/1999/xhtml">SHOULD</ns2177:strong> be used only where the character is not present in
the selected encoding, or where the visual representation of the
character is unclear (as with <ns2178:code xmlns:ns2178="http://www.w3.org/1999/xhtml">&amp;nbsp;</ns2178:code>, for
example).</ns2175:p><ns2179:p xmlns:ns2179="http://www.w3.org/1999/xhtml">When outputting a sequence of whitespace characters in the
instance of the data model, within an element where whitespace is treated normally
(but not in elements such as <ns2180:code xmlns:ns2180="http://www.w3.org/1999/xhtml">pre</ns2180:code> and
<ns2181:code xmlns:ns2181="http://www.w3.org/1999/xhtml">textarea</ns2181:code>), the HTML output method

<ns2182:strong xmlns:ns2182="http://www.w3.org/1999/xhtml">MAY</ns2182:strong>
represent it using any sequence of whitespace that will be treated
in the same way by an HTML user agent. See section 3.5 of <ns2183:a xmlns:ns2183="http://www.w3.org/1999/xhtml" href="#xhtml-modularization">[XHTML Modularization]</ns2183:a> for some additional information on
handling of whitespace by an HTML user agent.
</ns2179:p><ns2184:p xmlns:ns2184="http://www.w3.org/1999/xhtml">Certain characters


are legal in XML, but not in HTML
<ns2185:span xmlns:ns2185="http://www.w3.org/1999/xhtml">
— for example,
the control characters #x7F-#x9F, are legal in both XML 1.0 and XML 1.1, and
the control characters #x1-#x8, #xB, #xC and #xE-#x1F are legal in XML 1.1, but
none of these is permitted in HTML</ns2185:span>.

It is a
<ns2186:a xmlns:ns2186="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2186:a> [<ns2187:a xmlns:ns2187="http://www.w3.org/1999/xhtml" href="#ERRSERE0014" title="err:SERE0014">err:SERE0014</ns2187:a>] to use the HTML
output method when such characters appear in the instance of the data model. The
<ns2188:a xmlns:ns2188="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2188:a>
<ns2189:strong xmlns:ns2189="http://www.w3.org/1999/xhtml">MUST</ns2189:strong> signal the error.</ns2184:p><ns2190:p xmlns:ns2190="http://www.w3.org/1999/xhtml">The HTML output method 
<ns2191:strong xmlns:ns2191="http://www.w3.org/1999/xhtml">MUST</ns2191:strong> terminate processing
instructions with <ns2192:code xmlns:ns2192="http://www.w3.org/1999/xhtml">&gt;</ns2192:code> rather than
<ns2193:code xmlns:ns2193="http://www.w3.org/1999/xhtml">?&gt;</ns2193:code>.  It is a <ns2194:a xmlns:ns2194="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2194:a> [<ns2195:a xmlns:ns2195="http://www.w3.org/1999/xhtml" href="#ERRSERE0015" title="err:SERE0015">err:SERE0015</ns2195:a>] to use the HTML output method when <ns2196:code xmlns:ns2196="http://www.w3.org/1999/xhtml">&gt;</ns2196:code> appears within a processing instruction in the data model instance being serialized.</ns2190:p></ns2172:div><ns2197:div xmlns:ns2197="http://www.w3.org/1999/xhtml" class="div2">
<ns2198:h3 xmlns:ns2198="http://www.w3.org/1999/xhtml"><ns2199:a xmlns:ns2199="http://www.w3.org/1999/xhtml" name="HTML_PARAMS" id="HTML_PARAMS"/>7.4 The Influence of Serialization Parameters upon the HTML Output Method</ns2198:h3><ns2200:div xmlns:ns2200="http://www.w3.org/1999/xhtml" class="div3">
<ns2201:h4 xmlns:ns2201="http://www.w3.org/1999/xhtml"><ns2202:a xmlns:ns2202="http://www.w3.org/1999/xhtml" name="HTML_VERSION" id="HTML_VERSION"/>7.4.1 HTML Output Method: the <ns2203:code xmlns:ns2203="http://www.w3.org/1999/xhtml">version</ns2203:code> Parameter</ns2201:h4><ns2204:p xmlns:ns2204="http://www.w3.org/1999/xhtml">The <ns2205:code xmlns:ns2205="http://www.w3.org/1999/xhtml">version</ns2205:code> attribute indicates the version of the HTML
Recommendation <ns2206:a xmlns:ns2206="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2206:a> to which the serialized result is
to conform. If the <ns2207:a xmlns:ns2207="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2207:a> does
not support the version of HTML specified by this parameter, it
<ns2208:strong xmlns:ns2208="http://www.w3.org/1999/xhtml">MUST</ns2208:strong> signal a
<ns2209:a xmlns:ns2209="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2209:a> [<ns2210:a xmlns:ns2210="http://www.w3.org/1999/xhtml" href="#ERRSESU0013" title="err:SESU0013">err:SESU0013</ns2210:a>].</ns2204:p><ns2211:p xmlns:ns2211="http://www.w3.org/1999/xhtml">This document provides the normative
definition of serialization for the HTML output method if the version
parameter has the lexical form of a value of type decimal whose value
is 1.0 or greater, but no greater than 4.01.  For any other value of
version parameter, the behavior is
<ns2212:a xmlns:ns2212="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns2212:a>.
In that case the
<ns2213:a xmlns:ns2213="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns2213:a>
behavior <ns2214:strong xmlns:ns2214="http://www.w3.org/1999/xhtml">MAY</ns2214:strong> supersede all other requirements
of this recommendation.</ns2211:p></ns2200:div><ns2215:div xmlns:ns2215="http://www.w3.org/1999/xhtml" class="div3">
<ns2216:h4 xmlns:ns2216="http://www.w3.org/1999/xhtml"><ns2217:a xmlns:ns2217="http://www.w3.org/1999/xhtml" name="HTML_ENCODING" id="HTML_ENCODING"/>7.4.2 HTML Output Method: the <ns2218:code xmlns:ns2218="http://www.w3.org/1999/xhtml">encoding</ns2218:code> Parameter</ns2216:h4><ns2219:p xmlns:ns2219="http://www.w3.org/1999/xhtml">The <ns2220:code xmlns:ns2220="http://www.w3.org/1999/xhtml">encoding</ns2220:code> parameter specifies the encoding to be used.
<ns2221:a xmlns:ns2221="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">Serializers</ns2221:a> are
<ns2222:strong xmlns:ns2222="http://www.w3.org/1999/xhtml">REQUIRED</ns2222:strong>  to support values of <ns2223:code xmlns:ns2223="http://www.w3.org/1999/xhtml">UTF-8</ns2223:code> and
<ns2224:code xmlns:ns2224="http://www.w3.org/1999/xhtml">UTF-16</ns2224:code>. A <ns2225:a xmlns:ns2225="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2225:a> [<ns2226:a xmlns:ns2226="http://www.w3.org/1999/xhtml" href="#ERRSESU0007" title="err:SESU0007">err:SESU0007</ns2226:a>] occurs if an output
encoding other than <ns2227:code xmlns:ns2227="http://www.w3.org/1999/xhtml">UTF-8</ns2227:code> or <ns2228:code xmlns:ns2228="http://www.w3.org/1999/xhtml">UTF-16</ns2228:code> is
requested and the <ns2229:a xmlns:ns2229="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2229:a>
does not support that encoding. The <ns2230:a xmlns:ns2230="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2230:a>
<ns2231:strong xmlns:ns2231="http://www.w3.org/1999/xhtml">MUST</ns2231:strong> signal the error.
</ns2219:p><ns2232:p xmlns:ns2232="http://www.w3.org/1999/xhtml">It is possible that the instance of the data model will contain a character that
cannot be represented in the encoding that the <ns2233:a xmlns:ns2233="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2233:a>
is using for
output. In this case, if the character occurs in a context where HTML
recognizes character references, then the character 
<ns2234:strong xmlns:ns2234="http://www.w3.org/1999/xhtml">MUST</ns2234:strong> be output
as a character entity reference or decimal numeric character
reference; otherwise (for example, in a <ns2235:code xmlns:ns2235="http://www.w3.org/1999/xhtml">script</ns2235:code> or
<ns2236:code xmlns:ns2236="http://www.w3.org/1999/xhtml">style</ns2236:code> element or in a comment), the <ns2237:a xmlns:ns2237="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2237:a>
<ns2238:strong xmlns:ns2238="http://www.w3.org/1999/xhtml">MUST</ns2238:strong>
signal a <ns2239:a xmlns:ns2239="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2239:a> [<ns2240:a xmlns:ns2240="http://www.w3.org/1999/xhtml" href="#ERRSERE0008" title="err:SERE0008">err:SERE0008</ns2240:a>].
</ns2232:p><ns2241:p xmlns:ns2241="http://www.w3.org/1999/xhtml">See <ns2242:a xmlns:ns2242="http://www.w3.org/1999/xhtml" href="#HTML_INCLUDE-CONTENT-TYPE"><ns2243:b xmlns:ns2243="http://www.w3.org/1999/xhtml">7.4.13 HTML Output Method: the include-content-type Parameter</ns2243:b></ns2242:a> regarding how this parameter is used with the <ns2244:code xmlns:ns2244="http://www.w3.org/1999/xhtml">include-content-type</ns2244:code> parameter.</ns2241:p></ns2215:div><ns2245:div xmlns:ns2245="http://www.w3.org/1999/xhtml" class="div3">
<ns2246:h4 xmlns:ns2246="http://www.w3.org/1999/xhtml"><ns2247:a xmlns:ns2247="http://www.w3.org/1999/xhtml" name="HTML_INDENT" id="HTML_INDENT"/>7.4.3 HTML Output Method: the <ns2248:code xmlns:ns2248="http://www.w3.org/1999/xhtml">indent</ns2248:code> <ns2249:span xmlns:ns2249="http://www.w3.org/1999/xhtml">and <ns2250:code xmlns:ns2250="http://www.w3.org/1999/xhtml">suppress-indentation</ns2250:code></ns2249:span> Parameters</ns2246:h4><ns2251:p xmlns:ns2251="http://www.w3.org/1999/xhtml">If the <ns2252:code xmlns:ns2252="http://www.w3.org/1999/xhtml">indent</ns2252:code> parameter has the value <ns2253:code xmlns:ns2253="http://www.w3.org/1999/xhtml">yes</ns2253:code>, then the
HTML output method <ns2254:strong xmlns:ns2254="http://www.w3.org/1999/xhtml">MAY</ns2254:strong> add or remove whitespace as it
serializes the <ns2255:a xmlns:ns2255="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns2255:a>,
<ns2256:span xmlns:ns2256="http://www.w3.org/1999/xhtml">if it observes the following
constraints.</ns2256:span></ns2251:p><ns2257:ul xmlns:ns2257="http://www.w3.org/1999/xhtml"><ns2258:li xmlns:ns2258="http://www.w3.org/1999/xhtml"><ns2259:p xmlns:ns2259="http://www.w3.org/1999/xhtml"><ns2260:span xmlns:ns2260="http://www.w3.org/1999/xhtml">Whitespace <ns2261:strong xmlns:ns2261="http://www.w3.org/1999/xhtml">MUST NOT</ns2261:strong> be added other than before or
after an element, or adjacent to an existing whitespace character.</ns2260:span></ns2259:p></ns2258:li><ns2262:li xmlns:ns2262="http://www.w3.org/1999/xhtml"><ns2263:p xmlns:ns2263="http://www.w3.org/1999/xhtml"><ns2264:span xmlns:ns2264="http://www.w3.org/1999/xhtml">Whitespace <ns2265:strong xmlns:ns2265="http://www.w3.org/1999/xhtml">MUST NOT</ns2265:strong> be added or removed adjacent to
an inline element.  The inline elements are those included in the
<ns2266:code xmlns:ns2266="http://www.w3.org/1999/xhtml">%inline</ns2266:code> category of any of the HTML 4.01 DTD's, as well as the
<ns2267:code xmlns:ns2267="http://www.w3.org/1999/xhtml">ins</ns2267:code> and <ns2268:code xmlns:ns2268="http://www.w3.org/1999/xhtml">del</ns2268:code> elements if they are used as inline
elements (i.e., if they do not contain element children).</ns2264:span></ns2263:p></ns2262:li><ns2269:li xmlns:ns2269="http://www.w3.org/1999/xhtml"><ns2270:p xmlns:ns2270="http://www.w3.org/1999/xhtml"><ns2271:span xmlns:ns2271="http://www.w3.org/1999/xhtml">Whitespace <ns2272:strong xmlns:ns2272="http://www.w3.org/1999/xhtml">MUST NOT</ns2272:strong> be added or removed inside a
formatted element, the formatted elements being <ns2273:code xmlns:ns2273="http://www.w3.org/1999/xhtml">pre</ns2273:code>,
<ns2274:code xmlns:ns2274="http://www.w3.org/1999/xhtml">script</ns2274:code>, <ns2275:code xmlns:ns2275="http://www.w3.org/1999/xhtml">style</ns2275:code>, and <ns2276:code xmlns:ns2276="http://www.w3.org/1999/xhtml">textarea</ns2276:code>.</ns2271:span></ns2270:p></ns2269:li><ns2277:li xmlns:ns2277="http://www.w3.org/1999/xhtml"><ns2278:p xmlns:ns2278="http://www.w3.org/1999/xhtml">Whitespace characters
<ns2279:strong xmlns:ns2279="http://www.w3.org/1999/xhtml">MUST NOT</ns2279:strong> be added in the content of an element
whose expanded QName is a member of the list of expanded QNames in the
value of the <ns2280:code xmlns:ns2280="http://www.w3.org/1999/xhtml">suppress-indentation</ns2280:code> parameter.</ns2278:p></ns2277:li></ns2257:ul><ns2281:div xmlns:ns2281="http://www.w3.org/1999/xhtml" class="note"><ns2282:p xmlns:ns2282="http://www.w3.org/1999/xhtml" class="prefix"><ns2283:b xmlns:ns2283="http://www.w3.org/1999/xhtml">Note:</ns2283:b></ns2282:p><ns2284:p xmlns:ns2284="http://www.w3.org/1999/xhtml"><ns2285:span xmlns:ns2285="http://www.w3.org/1999/xhtml">The effect of the above constraints is to
ensure any insertion or deletion of whitespace would not affect how a conforming
HTML user agent would render the output, assuming the serialized document does
not refer to any HTML style sheets.</ns2285:span></ns2284:p><ns2286:p xmlns:ns2286="http://www.w3.org/1999/xhtml">Note that the HTML definition of whitespace is different from the XML definition
(see section 9.1 of the <ns2287:a xmlns:ns2287="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2287:a> specification).</ns2286:p></ns2281:div></ns2245:div><ns2288:div xmlns:ns2288="http://www.w3.org/1999/xhtml" class="div3">
<ns2289:h4 xmlns:ns2289="http://www.w3.org/1999/xhtml"><ns2290:a xmlns:ns2290="http://www.w3.org/1999/xhtml" name="HTML_CDATA-SECTION-ELEMENTS" id="HTML_CDATA-SECTION-ELEMENTS"/>7.4.4 HTML Output Method: the <ns2291:code xmlns:ns2291="http://www.w3.org/1999/xhtml">cdata-section-elements</ns2291:code> Parameter</ns2289:h4><ns2292:p xmlns:ns2292="http://www.w3.org/1999/xhtml">The <ns2293:code xmlns:ns2293="http://www.w3.org/1999/xhtml">cdata-section-elements</ns2293:code> parameter is not applicable to the HTML output method, except in the case of <ns2294:a xmlns:ns2294="http://www.w3.org/1999/xhtml" title="XML Island" href="#XML-ISLAND">XML Islands</ns2294:a>.</ns2292:p></ns2288:div><ns2295:div xmlns:ns2295="http://www.w3.org/1999/xhtml" class="div3">
<ns2296:h4 xmlns:ns2296="http://www.w3.org/1999/xhtml"><ns2297:a xmlns:ns2297="http://www.w3.org/1999/xhtml" name="HTML_OMIT-XML-DECLARATION" id="HTML_OMIT-XML-DECLARATION"/>7.4.5 HTML Output Method: the <ns2298:code xmlns:ns2298="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns2298:code> and <ns2299:code xmlns:ns2299="http://www.w3.org/1999/xhtml">standalone</ns2299:code> Parameters</ns2296:h4><ns2300:p xmlns:ns2300="http://www.w3.org/1999/xhtml">The <ns2301:code xmlns:ns2301="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns2301:code> and <ns2302:code xmlns:ns2302="http://www.w3.org/1999/xhtml">standalone</ns2302:code> parameters are not applicable to the HTML output method.</ns2300:p></ns2295:div><ns2303:div xmlns:ns2303="http://www.w3.org/1999/xhtml" class="div3">
<ns2304:h4 xmlns:ns2304="http://www.w3.org/1999/xhtml"><ns2305:a xmlns:ns2305="http://www.w3.org/1999/xhtml" name="HTML_DOCTYPE" id="HTML_DOCTYPE"/>7.4.6 HTML Output Method: the <ns2306:code xmlns:ns2306="http://www.w3.org/1999/xhtml">doctype-system</ns2306:code> and <ns2307:code xmlns:ns2307="http://www.w3.org/1999/xhtml">doctype-public</ns2307:code> Parameters</ns2304:h4><ns2308:p xmlns:ns2308="http://www.w3.org/1999/xhtml">If the <ns2309:code xmlns:ns2309="http://www.w3.org/1999/xhtml">doctype-public</ns2309:code> or <ns2310:code xmlns:ns2310="http://www.w3.org/1999/xhtml">doctype-system</ns2310:code>
parameters are specified, then the HTML output method <ns2311:strong xmlns:ns2311="http://www.w3.org/1999/xhtml">MUST</ns2311:strong>
output a document type declaration immediately before the first
element. The name following <ns2312:code xmlns:ns2312="http://www.w3.org/1999/xhtml">&lt;!DOCTYPE</ns2312:code>
<ns2313:strong xmlns:ns2313="http://www.w3.org/1999/xhtml">MUST</ns2313:strong> be
<ns2314:code xmlns:ns2314="http://www.w3.org/1999/xhtml">HTML</ns2314:code> or <ns2315:code xmlns:ns2315="http://www.w3.org/1999/xhtml">html</ns2315:code>. If the
<ns2316:code xmlns:ns2316="http://www.w3.org/1999/xhtml">doctype-public</ns2316:code> parameter is specified, then the output
method 
<ns2317:strong xmlns:ns2317="http://www.w3.org/1999/xhtml">MUST</ns2317:strong> output <ns2318:code xmlns:ns2318="http://www.w3.org/1999/xhtml">PUBLIC</ns2318:code>
followed by the specified
public identifier; if the <ns2319:code xmlns:ns2319="http://www.w3.org/1999/xhtml">doctype-system</ns2319:code> parameter is
also specified, it 
<ns2320:strong xmlns:ns2320="http://www.w3.org/1999/xhtml">MUST</ns2320:strong> also output the specified
system identifier
following the public identifier. If the <ns2321:code xmlns:ns2321="http://www.w3.org/1999/xhtml">doctype-system</ns2321:code>
parameter is specified but the <ns2322:code xmlns:ns2322="http://www.w3.org/1999/xhtml">doctype-public</ns2322:code> parameter
is not specified, then the output method
<ns2323:strong xmlns:ns2323="http://www.w3.org/1999/xhtml">MUST</ns2323:strong> output
<ns2324:code xmlns:ns2324="http://www.w3.org/1999/xhtml">SYSTEM</ns2324:code> followed by the specified system identifier.</ns2308:p></ns2303:div><ns2325:div xmlns:ns2325="http://www.w3.org/1999/xhtml" class="div3">
<ns2326:h4 xmlns:ns2326="http://www.w3.org/1999/xhtml"><ns2327:a xmlns:ns2327="http://www.w3.org/1999/xhtml" name="HTML_UNDECLARE-PREFIXES" id="HTML_UNDECLARE-PREFIXES"/>7.4.7 HTML Output Method: the <ns2328:code xmlns:ns2328="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns2328:code> Parameter</ns2326:h4><ns2329:p xmlns:ns2329="http://www.w3.org/1999/xhtml">The <ns2330:code xmlns:ns2330="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns2330:code> parameter is not applicable to the HTML output method.</ns2329:p></ns2325:div><ns2331:div xmlns:ns2331="http://www.w3.org/1999/xhtml" class="div3">
<ns2332:h4 xmlns:ns2332="http://www.w3.org/1999/xhtml"><ns2333:a xmlns:ns2333="http://www.w3.org/1999/xhtml" name="HTML_NORMALIZATION-FORM" id="HTML_NORMALIZATION-FORM"/>7.4.8 HTML Output Method: the <ns2334:code xmlns:ns2334="http://www.w3.org/1999/xhtml">normalization-form</ns2334:code> Parameter</ns2332:h4><ns2335:p xmlns:ns2335="http://www.w3.org/1999/xhtml">The
<ns2336:code xmlns:ns2336="http://www.w3.org/1999/xhtml">normalization-form</ns2336:code>
parameter is applicable to the
HTML output method.
The values <ns2337:code xmlns:ns2337="http://www.w3.org/1999/xhtml">NFC</ns2337:code> and
<ns2338:code xmlns:ns2338="http://www.w3.org/1999/xhtml">none</ns2338:code> <ns2339:strong xmlns:ns2339="http://www.w3.org/1999/xhtml">MUST</ns2339:strong> be supported by the <ns2340:a xmlns:ns2340="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2340:a>.
A <ns2341:a xmlns:ns2341="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2341:a> [<ns2342:a xmlns:ns2342="http://www.w3.org/1999/xhtml" href="#ERRSESU0011" title="err:SESU0011">err:SESU0011</ns2342:a>] results if the value of the <ns2343:code xmlns:ns2343="http://www.w3.org/1999/xhtml">normalization-form</ns2343:code>
parameter specifies a normalization form that is not supported by the
<ns2344:a xmlns:ns2344="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2344:a>;
the <ns2345:a xmlns:ns2345="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2345:a>
<ns2346:strong xmlns:ns2346="http://www.w3.org/1999/xhtml">MUST</ns2346:strong> signal the error.</ns2335:p></ns2331:div><ns2347:div xmlns:ns2347="http://www.w3.org/1999/xhtml" class="div3">
<ns2348:h4 xmlns:ns2348="http://www.w3.org/1999/xhtml"><ns2349:a xmlns:ns2349="http://www.w3.org/1999/xhtml" name="HTML_MEDIA-TYPE" id="HTML_MEDIA-TYPE"/>7.4.9 HTML Output Method: the <ns2350:code xmlns:ns2350="http://www.w3.org/1999/xhtml">media-type</ns2350:code> Parameter</ns2348:h4><ns2351:p xmlns:ns2351="http://www.w3.org/1999/xhtml">The <ns2352:code xmlns:ns2352="http://www.w3.org/1999/xhtml">media-type</ns2352:code> parameter is applicable to the
HTML output method.
See <ns2353:a xmlns:ns2353="http://www.w3.org/1999/xhtml" href="#serparam"><ns2354:b xmlns:ns2354="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns2354:b></ns2353:a> for more
information.  See <ns2355:a xmlns:ns2355="http://www.w3.org/1999/xhtml" href="#HTML_INCLUDE-CONTENT-TYPE"><ns2356:b xmlns:ns2356="http://www.w3.org/1999/xhtml">7.4.13 HTML Output Method: the include-content-type Parameter</ns2356:b></ns2355:a> regarding how this parameter is used with the <ns2357:code xmlns:ns2357="http://www.w3.org/1999/xhtml">include-content-type</ns2357:code> parameter.</ns2351:p></ns2347:div><ns2358:div xmlns:ns2358="http://www.w3.org/1999/xhtml" class="div3">
<ns2359:h4 xmlns:ns2359="http://www.w3.org/1999/xhtml"><ns2360:a xmlns:ns2360="http://www.w3.org/1999/xhtml" name="HTML_USE-CHARACTER-MAPS" id="HTML_USE-CHARACTER-MAPS"/>7.4.10 HTML Output Method: the <ns2361:code xmlns:ns2361="http://www.w3.org/1999/xhtml">use-character-maps</ns2361:code> Parameter</ns2359:h4><ns2362:p xmlns:ns2362="http://www.w3.org/1999/xhtml">The <ns2363:code xmlns:ns2363="http://www.w3.org/1999/xhtml">use-character-maps</ns2363:code> parameter is applicable to the
HTML output method.  See <ns2364:a xmlns:ns2364="http://www.w3.org/1999/xhtml" href="#character-maps"><ns2365:b xmlns:ns2365="http://www.w3.org/1999/xhtml">9 Character Maps</ns2365:b></ns2364:a> for more
information.</ns2362:p></ns2358:div><ns2366:div xmlns:ns2366="http://www.w3.org/1999/xhtml" class="div3">
<ns2367:h4 xmlns:ns2367="http://www.w3.org/1999/xhtml"><ns2368:a xmlns:ns2368="http://www.w3.org/1999/xhtml" name="HTML_BYTE-ORDER-MARK" id="HTML_BYTE-ORDER-MARK"/>7.4.11 HTML Output Method: the <ns2369:code xmlns:ns2369="http://www.w3.org/1999/xhtml">byte-order-mark</ns2369:code> Parameter</ns2367:h4><ns2370:p xmlns:ns2370="http://www.w3.org/1999/xhtml">The <ns2371:code xmlns:ns2371="http://www.w3.org/1999/xhtml">byte-order-mark</ns2371:code> parameter is
applicable to the HTML output method.  See
<ns2372:a xmlns:ns2372="http://www.w3.org/1999/xhtml" href="#serparam"><ns2373:b xmlns:ns2373="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns2373:b></ns2372:a> for more information.</ns2370:p></ns2366:div><ns2374:div xmlns:ns2374="http://www.w3.org/1999/xhtml" class="div3">
<ns2375:h4 xmlns:ns2375="http://www.w3.org/1999/xhtml"><ns2376:a xmlns:ns2376="http://www.w3.org/1999/xhtml" name="HTML_ESCAPE-URI-ATTRIBUTES" id="HTML_ESCAPE-URI-ATTRIBUTES"/>7.4.12 HTML Output Method: the <ns2377:code xmlns:ns2377="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns2377:code> Parameter</ns2375:h4><ns2378:p xmlns:ns2378="http://www.w3.org/1999/xhtml">
If the <ns2379:code xmlns:ns2379="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns2379:code> parameter
has the value <ns2380:code xmlns:ns2380="http://www.w3.org/1999/xhtml">yes</ns2380:code>,
the HTML output method <ns2381:strong xmlns:ns2381="http://www.w3.org/1999/xhtml">MUST</ns2381:strong>
apply <ns2382:a xmlns:ns2382="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns2382:a> to 
<ns2383:a xmlns:ns2383="http://www.w3.org/1999/xhtml" title="URI attribute values" href="#uri-attribute-values">URI attribute values</ns2383:a>, except that relative URIs <ns2384:strong xmlns:ns2384="http://www.w3.org/1999/xhtml">MUST NOT</ns2384:strong> be absolutized.
</ns2378:p><ns2385:div xmlns:ns2385="http://www.w3.org/1999/xhtml" class="note"><ns2386:p xmlns:ns2386="http://www.w3.org/1999/xhtml" class="prefix"><ns2387:b xmlns:ns2387="http://www.w3.org/1999/xhtml">Note:</ns2387:b></ns2386:p><ns2388:p xmlns:ns2388="http://www.w3.org/1999/xhtml">This escaping is deliberately confined to non-ASCII characters,
because escaping of ASCII characters is not always appropriate, for
example when URIs or URI fragments are interpreted locally by the HTML
user agent. Even in the case of non-ASCII characters, escaping can
sometimes cause problems. More precise control of <ns2389:a xmlns:ns2389="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns2389:a> is
therefore available by setting <ns2390:code xmlns:ns2390="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns2390:code> to
<ns2391:code xmlns:ns2391="http://www.w3.org/1999/xhtml">no</ns2391:code>, and controlling the escaping of URIs by using methods defined in
<ns2392:a xmlns:ns2392="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#func-encode-for-uri">Section 
6.2 </ns2392:a><ns2393:sup xmlns:ns2393="http://www.w3.org/1999/xhtml"><ns2394:small xmlns:ns2394="http://www.w3.org/1999/xhtml">FO11</ns2394:small></ns2393:sup> and <ns2395:a xmlns:ns2395="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/#func-iri-to-uri">Section 
6.3 </ns2395:a><ns2396:sup xmlns:ns2396="http://www.w3.org/1999/xhtml"><ns2397:small xmlns:ns2397="http://www.w3.org/1999/xhtml">FO11</ns2397:small></ns2396:sup>.</ns2388:p></ns2385:div></ns2374:div><ns2398:div xmlns:ns2398="http://www.w3.org/1999/xhtml" class="div3">
<ns2399:h4 xmlns:ns2399="http://www.w3.org/1999/xhtml"><ns2400:a xmlns:ns2400="http://www.w3.org/1999/xhtml" name="HTML_INCLUDE-CONTENT-TYPE" id="HTML_INCLUDE-CONTENT-TYPE"/>7.4.13 HTML Output Method: the <ns2401:code xmlns:ns2401="http://www.w3.org/1999/xhtml">include-content-type</ns2401:code> Parameter</ns2399:h4><ns2402:p xmlns:ns2402="http://www.w3.org/1999/xhtml">If there is a <ns2403:code xmlns:ns2403="http://www.w3.org/1999/xhtml">head</ns2403:code> element,
and the <ns2404:code xmlns:ns2404="http://www.w3.org/1999/xhtml">include-content-type</ns2404:code> parameter
has the value <ns2405:code xmlns:ns2405="http://www.w3.org/1999/xhtml">yes</ns2405:code>,
the HTML output method
<ns2406:strong xmlns:ns2406="http://www.w3.org/1999/xhtml">MUST</ns2406:strong> add a <ns2407:code xmlns:ns2407="http://www.w3.org/1999/xhtml">meta</ns2407:code> element
as the first child element
of the <ns2408:code xmlns:ns2408="http://www.w3.org/1999/xhtml">head</ns2408:code> element specifying the character encoding
actually used.</ns2402:p><ns2409:div xmlns:ns2409="http://www.w3.org/1999/xhtml" class="exampleOuter"><ns2410:p xmlns:ns2410="http://www.w3.org/1999/xhtml">For example,</ns2410:p><ns2411:div xmlns:ns2411="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2412:pre xmlns:ns2412="http://www.w3.org/1999/xhtml">&lt;HEAD&gt;
&lt;META http-equiv="Content-Type" content="text/html; charset=EUC-JP"&gt;
...</ns2412:pre></ns2411:div></ns2409:div><ns2413:p xmlns:ns2413="http://www.w3.org/1999/xhtml">The content type <ns2414:strong xmlns:ns2414="http://www.w3.org/1999/xhtml">MUST</ns2414:strong>
be set to the value given for the
<ns2415:code xmlns:ns2415="http://www.w3.org/1999/xhtml">media-type</ns2415:code> parameter.</ns2413:p><ns2416:p xmlns:ns2416="http://www.w3.org/1999/xhtml">If a <ns2417:code xmlns:ns2417="http://www.w3.org/1999/xhtml">meta</ns2417:code> element has been added to the <ns2418:code xmlns:ns2418="http://www.w3.org/1999/xhtml">head</ns2418:code> element as described above,
then any existing <ns2419:code xmlns:ns2419="http://www.w3.org/1999/xhtml">meta</ns2419:code> element child of the <ns2420:code xmlns:ns2420="http://www.w3.org/1999/xhtml">head</ns2420:code> element having an
<ns2421:code xmlns:ns2421="http://www.w3.org/1999/xhtml">http-equiv</ns2421:code> attribute with the value
"Content-Type"<ns2422:span xmlns:ns2422="http://www.w3.org/1999/xhtml">, making the comparison


<ns2423:span xmlns:ns2423="http://www.w3.org/1999/xhtml"><ns2424:a xmlns:ns2424="http://www.w3.org/1999/xhtml" title="without regard to case" href="#caseless-compare">without regard to case</ns2424:a>
after first stripping leading and trailing spaces from the value of
the attribute solely for the purposes of comparison,</ns2423:span>

</ns2422:span>
<ns2425:strong xmlns:ns2425="http://www.w3.org/1999/xhtml">MUST</ns2425:strong> be discarded.</ns2416:p><ns2426:div xmlns:ns2426="http://www.w3.org/1999/xhtml" class="note"><ns2427:p xmlns:ns2427="http://www.w3.org/1999/xhtml" class="prefix"><ns2428:b xmlns:ns2428="http://www.w3.org/1999/xhtml">Note:</ns2428:b></ns2427:p><ns2429:p xmlns:ns2429="http://www.w3.org/1999/xhtml">This process removes possible parameters in the
attribute value.  For example,</ns2429:p><ns2430:div xmlns:ns2430="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2431:pre xmlns:ns2431="http://www.w3.org/1999/xhtml">&lt;meta http-equiv="Content-Type" content="text/html;version='3.0'"/&gt;</ns2431:pre></ns2430:div><ns2432:p xmlns:ns2432="http://www.w3.org/1999/xhtml">in the data model instance would be replaced by,</ns2432:p><ns2433:div xmlns:ns2433="http://www.w3.org/1999/xhtml" class="exampleInner"><ns2434:pre xmlns:ns2434="http://www.w3.org/1999/xhtml">&lt;meta http-equiv="Content-Type" content="text/html;charset=utf-8"/&gt;</ns2434:pre></ns2433:div></ns2426:div></ns2398:div></ns2197:div></ns1985:div><ns2435:div xmlns:ns2435="http://www.w3.org/1999/xhtml" class="div1">
<ns2436:h2 xmlns:ns2436="http://www.w3.org/1999/xhtml"><ns2437:a xmlns:ns2437="http://www.w3.org/1999/xhtml" name="text-output" id="text-output"/>8 Text Output Method</ns2436:h2><ns2438:p xmlns:ns2438="http://www.w3.org/1999/xhtml">The Text output method serializes the instance of the data model by
outputting the <ns2439:a xmlns:ns2439="http://www.w3.org/1999/xhtml" title="string value" href="#dt-string-value">string value</ns2439:a> of the
document <ns2440:a xmlns:ns2440="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns2440:a> created by
<ns2441:span xmlns:ns2441="http://www.w3.org/1999/xhtml">the markup generation step of the
<ns2442:a xmlns:ns2442="http://www.w3.org/1999/xhtml" title="" href="#serphases">phases of serialization</ns2442:a></ns2441:span> without any
escaping.</ns2438:p><ns2443:p xmlns:ns2443="http://www.w3.org/1999/xhtml">A newline character in the instance of the data model <ns2444:strong xmlns:ns2444="http://www.w3.org/1999/xhtml">MAY</ns2444:strong> be output using any
character sequence that is conventionally used to represent a line
ending in the chosen system environment.</ns2443:p><ns2445:div xmlns:ns2445="http://www.w3.org/1999/xhtml" class="div2">
<ns2446:h3 xmlns:ns2446="http://www.w3.org/1999/xhtml"><ns2447:a xmlns:ns2447="http://www.w3.org/1999/xhtml" name="TEXT_PARAMS" id="TEXT_PARAMS"/>8.1 The Influence of Serialization Parameters upon the Text Output Method</ns2446:h3><ns2448:div xmlns:ns2448="http://www.w3.org/1999/xhtml" class="div3">
<ns2449:h4 xmlns:ns2449="http://www.w3.org/1999/xhtml"><ns2450:a xmlns:ns2450="http://www.w3.org/1999/xhtml" name="TEXT_VERSION" id="TEXT_VERSION"/>8.1.1 Text Output Method: the <ns2451:code xmlns:ns2451="http://www.w3.org/1999/xhtml">version</ns2451:code> Parameter</ns2449:h4><ns2452:p xmlns:ns2452="http://www.w3.org/1999/xhtml">The <ns2453:code xmlns:ns2453="http://www.w3.org/1999/xhtml">version</ns2453:code> parameter is not applicable to the Text output method.</ns2452:p></ns2448:div><ns2454:div xmlns:ns2454="http://www.w3.org/1999/xhtml" class="div3">
<ns2455:h4 xmlns:ns2455="http://www.w3.org/1999/xhtml"><ns2456:a xmlns:ns2456="http://www.w3.org/1999/xhtml" name="TEXT_ENCODING" id="TEXT_ENCODING"/>8.1.2 Text Output Method: the <ns2457:code xmlns:ns2457="http://www.w3.org/1999/xhtml">encoding</ns2457:code> Parameter</ns2455:h4><ns2458:p xmlns:ns2458="http://www.w3.org/1999/xhtml">The <ns2459:code xmlns:ns2459="http://www.w3.org/1999/xhtml">encoding</ns2459:code> parameter identifies the encoding that
the Text output method
<ns2460:strong xmlns:ns2460="http://www.w3.org/1999/xhtml">MUST</ns2460:strong> use to convert sequences of
characters to sequences of bytes.
<ns2461:a xmlns:ns2461="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">Serializers</ns2461:a>
are <ns2462:strong xmlns:ns2462="http://www.w3.org/1999/xhtml">REQUIRED</ns2462:strong> to support values of <ns2463:code xmlns:ns2463="http://www.w3.org/1999/xhtml">UTF-8</ns2463:code> and
<ns2464:code xmlns:ns2464="http://www.w3.org/1999/xhtml">UTF-16</ns2464:code>.
A <ns2465:a xmlns:ns2465="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2465:a> [<ns2466:a xmlns:ns2466="http://www.w3.org/1999/xhtml" href="#ERRSESU0007" title="err:SESU0007">err:SESU0007</ns2466:a>]
occurs if the <ns2467:a xmlns:ns2467="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2467:a>
does not support the encoding specified
by the <ns2468:code xmlns:ns2468="http://www.w3.org/1999/xhtml">encoding</ns2468:code> parameter.
The <ns2469:a xmlns:ns2469="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2469:a>
<ns2470:strong xmlns:ns2470="http://www.w3.org/1999/xhtml">MUST</ns2470:strong> signal the error.
If the instance of the data model contains a
character that cannot be represented in the encoding that the
<ns2471:a xmlns:ns2471="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2471:a> is using for output, the <ns2472:a xmlns:ns2472="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2472:a>
<ns2473:strong xmlns:ns2473="http://www.w3.org/1999/xhtml">MUST</ns2473:strong>
signal a <ns2474:a xmlns:ns2474="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2474:a> [<ns2475:a xmlns:ns2475="http://www.w3.org/1999/xhtml" href="#ERRSERE0008" title="err:SERE0008">err:SERE0008</ns2475:a>].</ns2458:p></ns2454:div><ns2476:div xmlns:ns2476="http://www.w3.org/1999/xhtml" class="div3">
<ns2477:h4 xmlns:ns2477="http://www.w3.org/1999/xhtml"><ns2478:a xmlns:ns2478="http://www.w3.org/1999/xhtml" name="TEXT_INDENT" id="TEXT_INDENT"/>8.1.3 Text Output Method: the <ns2479:code xmlns:ns2479="http://www.w3.org/1999/xhtml">indent</ns2479:code> <ns2480:span xmlns:ns2480="http://www.w3.org/1999/xhtml">and <ns2481:code xmlns:ns2481="http://www.w3.org/1999/xhtml">suppress-indentation</ns2481:code></ns2480:span> Parameters</ns2477:h4><ns2482:p xmlns:ns2482="http://www.w3.org/1999/xhtml">The <ns2483:code xmlns:ns2483="http://www.w3.org/1999/xhtml">indent</ns2483:code>

<ns2484:span xmlns:ns2484="http://www.w3.org/1999/xhtml">and <ns2485:code xmlns:ns2485="http://www.w3.org/1999/xhtml">suppress-indentation</ns2485:code>
parameters are</ns2484:span> not applicable to the Text output method.</ns2482:p></ns2476:div><ns2486:div xmlns:ns2486="http://www.w3.org/1999/xhtml" class="div3">
<ns2487:h4 xmlns:ns2487="http://www.w3.org/1999/xhtml"><ns2488:a xmlns:ns2488="http://www.w3.org/1999/xhtml" name="TEXT_CDATA-SECTION-ELEMENTS" id="TEXT_CDATA-SECTION-ELEMENTS"/>8.1.4 Text Output Method: the <ns2489:code xmlns:ns2489="http://www.w3.org/1999/xhtml">cdata-section-elements</ns2489:code> Parameter</ns2487:h4><ns2490:p xmlns:ns2490="http://www.w3.org/1999/xhtml">The <ns2491:code xmlns:ns2491="http://www.w3.org/1999/xhtml">cdata-section-elements</ns2491:code> parameter is not applicable to the Text output method.</ns2490:p></ns2486:div><ns2492:div xmlns:ns2492="http://www.w3.org/1999/xhtml" class="div3">
<ns2493:h4 xmlns:ns2493="http://www.w3.org/1999/xhtml"><ns2494:a xmlns:ns2494="http://www.w3.org/1999/xhtml" name="TEXT_OMIT-XML-DECLARATION" id="TEXT_OMIT-XML-DECLARATION"/>8.1.5 Text Output Method: the <ns2495:code xmlns:ns2495="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns2495:code> and <ns2496:code xmlns:ns2496="http://www.w3.org/1999/xhtml">standalone</ns2496:code> Parameters</ns2493:h4><ns2497:p xmlns:ns2497="http://www.w3.org/1999/xhtml">The <ns2498:code xmlns:ns2498="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns2498:code> and  <ns2499:code xmlns:ns2499="http://www.w3.org/1999/xhtml">standalone</ns2499:code> parameters are not applicable to the Text output method.</ns2497:p></ns2492:div><ns2500:div xmlns:ns2500="http://www.w3.org/1999/xhtml" class="div3">
<ns2501:h4 xmlns:ns2501="http://www.w3.org/1999/xhtml"><ns2502:a xmlns:ns2502="http://www.w3.org/1999/xhtml" name="TEXT_DOCTYPE" id="TEXT_DOCTYPE"/>8.1.6 Text Output Method: the <ns2503:code xmlns:ns2503="http://www.w3.org/1999/xhtml">doctype-system</ns2503:code> and <ns2504:code xmlns:ns2504="http://www.w3.org/1999/xhtml">doctype-public</ns2504:code> Parameters</ns2501:h4><ns2505:p xmlns:ns2505="http://www.w3.org/1999/xhtml">The <ns2506:code xmlns:ns2506="http://www.w3.org/1999/xhtml">doctype-system</ns2506:code> and  <ns2507:code xmlns:ns2507="http://www.w3.org/1999/xhtml">doctype-public</ns2507:code> parameters are not applicable to the Text output method.</ns2505:p></ns2500:div><ns2508:div xmlns:ns2508="http://www.w3.org/1999/xhtml" class="div3">
<ns2509:h4 xmlns:ns2509="http://www.w3.org/1999/xhtml"><ns2510:a xmlns:ns2510="http://www.w3.org/1999/xhtml" name="TEXT_UNDECLARE-PREFIXES" id="TEXT_UNDECLARE-PREFIXES"/>8.1.7 Text Output Method: the <ns2511:code xmlns:ns2511="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns2511:code> Parameter</ns2509:h4><ns2512:p xmlns:ns2512="http://www.w3.org/1999/xhtml">The <ns2513:code xmlns:ns2513="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns2513:code> parameter is not applicable to the Text output method.</ns2512:p></ns2508:div><ns2514:div xmlns:ns2514="http://www.w3.org/1999/xhtml" class="div3">
<ns2515:h4 xmlns:ns2515="http://www.w3.org/1999/xhtml"><ns2516:a xmlns:ns2516="http://www.w3.org/1999/xhtml" name="TEXT_NORMALIZATION-FORM" id="TEXT_NORMALIZATION-FORM"/>8.1.8 Text Output Method: the <ns2517:code xmlns:ns2517="http://www.w3.org/1999/xhtml">normalization-form</ns2517:code> Parameter</ns2515:h4><ns2518:p xmlns:ns2518="http://www.w3.org/1999/xhtml">The <ns2519:code xmlns:ns2519="http://www.w3.org/1999/xhtml">normalization-form</ns2519:code>
parameter is applicable to the
Text output method.
The values <ns2520:code xmlns:ns2520="http://www.w3.org/1999/xhtml">NFC</ns2520:code>
and <ns2521:code xmlns:ns2521="http://www.w3.org/1999/xhtml">none</ns2521:code> <ns2522:strong xmlns:ns2522="http://www.w3.org/1999/xhtml">MUST</ns2522:strong> be supported by the <ns2523:a xmlns:ns2523="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2523:a>.
A <ns2524:a xmlns:ns2524="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2524:a> [<ns2525:a xmlns:ns2525="http://www.w3.org/1999/xhtml" href="#ERRSESU0011" title="err:SESU0011">err:SESU0011</ns2525:a>] results if the value of the
<ns2526:code xmlns:ns2526="http://www.w3.org/1999/xhtml">normalization-form</ns2526:code> parameter specifies a normalization form
that is not supported by the <ns2527:a xmlns:ns2527="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2527:a>; the
<ns2528:a xmlns:ns2528="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2528:a> <ns2529:strong xmlns:ns2529="http://www.w3.org/1999/xhtml">MUST</ns2529:strong> signal the
error.</ns2518:p></ns2514:div><ns2530:div xmlns:ns2530="http://www.w3.org/1999/xhtml" class="div3">
<ns2531:h4 xmlns:ns2531="http://www.w3.org/1999/xhtml"><ns2532:a xmlns:ns2532="http://www.w3.org/1999/xhtml" name="TEXT_MEDIA-TYPE" id="TEXT_MEDIA-TYPE"/>8.1.9 Text Output Method: the <ns2533:code xmlns:ns2533="http://www.w3.org/1999/xhtml">media-type</ns2533:code> Parameter</ns2531:h4><ns2534:p xmlns:ns2534="http://www.w3.org/1999/xhtml">The <ns2535:code xmlns:ns2535="http://www.w3.org/1999/xhtml">media-type</ns2535:code> parameter is applicable to the
Text output method.
See <ns2536:a xmlns:ns2536="http://www.w3.org/1999/xhtml" href="#serparam"><ns2537:b xmlns:ns2537="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns2537:b></ns2536:a> for more
information.</ns2534:p></ns2530:div><ns2538:div xmlns:ns2538="http://www.w3.org/1999/xhtml" class="div3">
<ns2539:h4 xmlns:ns2539="http://www.w3.org/1999/xhtml"><ns2540:a xmlns:ns2540="http://www.w3.org/1999/xhtml" name="TEXT_USE-CHARACTER-MAPS" id="TEXT_USE-CHARACTER-MAPS"/>8.1.10 Text Output Method: the <ns2541:code xmlns:ns2541="http://www.w3.org/1999/xhtml">use-character-maps</ns2541:code> Parameter</ns2539:h4><ns2542:p xmlns:ns2542="http://www.w3.org/1999/xhtml">The <ns2543:code xmlns:ns2543="http://www.w3.org/1999/xhtml">use-character-maps</ns2543:code> parameter is applicable to the
Text output method.
See <ns2544:a xmlns:ns2544="http://www.w3.org/1999/xhtml" href="#character-maps"><ns2545:b xmlns:ns2545="http://www.w3.org/1999/xhtml">9 Character Maps</ns2545:b></ns2544:a> for more
information.</ns2542:p></ns2538:div><ns2546:div xmlns:ns2546="http://www.w3.org/1999/xhtml" class="div3">
<ns2547:h4 xmlns:ns2547="http://www.w3.org/1999/xhtml"><ns2548:a xmlns:ns2548="http://www.w3.org/1999/xhtml" name="TEXT_BYTE-ORDER-MARK" id="TEXT_BYTE-ORDER-MARK"/>8.1.11 Text Output Method: the <ns2549:code xmlns:ns2549="http://www.w3.org/1999/xhtml">byte-order-mark</ns2549:code> Parameter</ns2547:h4><ns2550:p xmlns:ns2550="http://www.w3.org/1999/xhtml">The <ns2551:code xmlns:ns2551="http://www.w3.org/1999/xhtml">byte-order-mark</ns2551:code> parameter is
applicable to the Text output method.  See
<ns2552:a xmlns:ns2552="http://www.w3.org/1999/xhtml" href="#serparam"><ns2553:b xmlns:ns2553="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns2553:b></ns2552:a> for more information.</ns2550:p></ns2546:div><ns2554:div xmlns:ns2554="http://www.w3.org/1999/xhtml" class="div3">
<ns2555:h4 xmlns:ns2555="http://www.w3.org/1999/xhtml"><ns2556:a xmlns:ns2556="http://www.w3.org/1999/xhtml" name="TEXT_ESCAPE-URI-ATTRIBUTES" id="TEXT_ESCAPE-URI-ATTRIBUTES"/>8.1.12 Text Output Method: the <ns2557:code xmlns:ns2557="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns2557:code> Parameter</ns2555:h4><ns2558:p xmlns:ns2558="http://www.w3.org/1999/xhtml">The <ns2559:code xmlns:ns2559="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns2559:code> parameter is not applicable to the Text output method.</ns2558:p></ns2554:div><ns2560:div xmlns:ns2560="http://www.w3.org/1999/xhtml" class="div3">
<ns2561:h4 xmlns:ns2561="http://www.w3.org/1999/xhtml"><ns2562:a xmlns:ns2562="http://www.w3.org/1999/xhtml" name="TEXT_INCLUDE-CONTENT-TYPE" id="TEXT_INCLUDE-CONTENT-TYPE"/>8.1.13 Text Output Method: the <ns2563:code xmlns:ns2563="http://www.w3.org/1999/xhtml">include-content-type</ns2563:code> Parameter</ns2561:h4><ns2564:p xmlns:ns2564="http://www.w3.org/1999/xhtml">The <ns2565:code xmlns:ns2565="http://www.w3.org/1999/xhtml">include-content-type</ns2565:code> parameter is not applicable to the Text output method.</ns2564:p></ns2560:div></ns2445:div></ns2435:div><ns2566:div xmlns:ns2566="http://www.w3.org/1999/xhtml" class="div1">
<ns2567:h2 xmlns:ns2567="http://www.w3.org/1999/xhtml"><ns2568:a xmlns:ns2568="http://www.w3.org/1999/xhtml" name="character-maps" id="character-maps"/>9 Character Maps</ns2567:h2><ns2569:p xmlns:ns2569="http://www.w3.org/1999/xhtml">The <ns2570:code xmlns:ns2570="http://www.w3.org/1999/xhtml">use-character-maps</ns2570:code> parameter is a list of characters
and corresponding string substitutions.</ns2569:p><ns2571:p xmlns:ns2571="http://www.w3.org/1999/xhtml">Character maps allow a specific character appearing in a text or
attribute <ns2572:a xmlns:ns2572="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns2572:a> in the instance of the data model to be replaced with a specified
string of characters during serialization. The string that is
substituted is output "as is," and the <ns2573:a xmlns:ns2573="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2573:a> performs no checks
that the resulting document is well-formed. This mechanism can
therefore be used to introduce arbitrary markup in the serialized
output.
See <ns2574:a xmlns:ns2574="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xslt-21/#character-maps">Section 
23.1 Character Maps</ns2574:a><ns2575:sup xmlns:ns2575="http://www.w3.org/1999/xhtml"><ns2576:small xmlns:ns2576="http://www.w3.org/1999/xhtml">XT21</ns2576:small></ns2575:sup>
of <ns2577:a xmlns:ns2577="http://www.w3.org/1999/xhtml" href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</ns2577:a> for examples of using character mapping in
XSLT.</ns2571:p><ns2578:p xmlns:ns2578="http://www.w3.org/1999/xhtml">Character mapping is applied to the characters that actually appear
in a text or attribute <ns2579:a xmlns:ns2579="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">node</ns2579:a> in the instance of the data model, before any other
serialization operations such as escaping or <ns2580:a xmlns:ns2580="http://www.w3.org/1999/xhtml" title="Unicode Normalization" href="#unicode-normalization">Unicode Normalization</ns2580:a> are
applied. If a character is mapped, then it is not subjected to XML or
HTML escaping, nor to Unicode Normalization. The string that is
substituted for a character is not validated or processed in any way
by the <ns2581:a xmlns:ns2581="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2581:a>, except for translation into the target encoding. In
particular, it is not subjected to XML or HTML escaping, it is not
subjected to Unicode Normalization, and it is not subjected to further
character mapping.  </ns2578:p><ns2582:p xmlns:ns2582="http://www.w3.org/1999/xhtml">Character mapping is not applied to characters in text <ns2583:a xmlns:ns2583="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns2583:a> whose
parent elements are listed in the <ns2584:code xmlns:ns2584="http://www.w3.org/1999/xhtml">cdata-section-elements</ns2584:code>
parameter,

nor to characters for which output escaping has
been disabled (disabling output escaping is an <ns2585:a xmlns:ns2585="http://www.w3.org/1999/xhtml" href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</ns2585:a>
feature),

nor to characters in attribute
values that are subject to <ns2586:a xmlns:ns2586="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns2586:a> defined for the HTML and
XHTML output methods, unless <ns2587:a xmlns:ns2587="http://www.w3.org/1999/xhtml" title="URI Escaping" href="#uri-escaping">URI escaping</ns2587:a> has been disabled using the
<ns2588:code xmlns:ns2588="http://www.w3.org/1999/xhtml">escape-uri-attributes</ns2588:code> parameter in the output
definition.</ns2582:p><ns2589:p xmlns:ns2589="http://www.w3.org/1999/xhtml">On serialization, occurrences of a character specified in the
<ns2590:code xmlns:ns2590="http://www.w3.org/1999/xhtml">use-character-maps</ns2590:code> in text <ns2591:a xmlns:ns2591="http://www.w3.org/1999/xhtml" title="node" href="#dt-node">nodes</ns2591:a> and attribute values
are replaced by the corresponding string from the <ns2592:code xmlns:ns2592="http://www.w3.org/1999/xhtml">use-character-maps</ns2592:code>
parameter.</ns2589:p><ns2593:div xmlns:ns2593="http://www.w3.org/1999/xhtml" class="note"><ns2594:p xmlns:ns2594="http://www.w3.org/1999/xhtml" class="prefix"><ns2595:b xmlns:ns2595="http://www.w3.org/1999/xhtml">Note:</ns2595:b></ns2594:p><ns2596:p xmlns:ns2596="http://www.w3.org/1999/xhtml">Using a character map can result in non-well-formed documents
if the string contains XML-significant
characters. For example, it is possible to create documents containing
unmatched start and end tags, references to entities that are not
declared, or attributes that contain tags or unescaped quotation
marks.</ns2596:p></ns2593:div><ns2597:p xmlns:ns2597="http://www.w3.org/1999/xhtml">If a character is mapped, then it is not subjected to XML or HTML escaping.</ns2597:p><ns2598:p xmlns:ns2598="http://www.w3.org/1999/xhtml">A <ns2599:a xmlns:ns2599="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization error</ns2599:a> [<ns2600:a xmlns:ns2600="http://www.w3.org/1999/xhtml" href="#ERRSERE0008" title="err:SERE0008">err:SERE0008</ns2600:a>] occurs if character mapping causes the output
of a string containing a character that cannot be represented in the
encoding that the <ns2601:a xmlns:ns2601="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2601:a>
is using for output. The <ns2602:a xmlns:ns2602="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2602:a>
<ns2603:strong xmlns:ns2603="http://www.w3.org/1999/xhtml">MUST</ns2603:strong> signal the error.</ns2598:p></ns2566:div><ns2604:div xmlns:ns2604="http://www.w3.org/1999/xhtml" class="div1">
<ns2605:h2 xmlns:ns2605="http://www.w3.org/1999/xhtml"><ns2606:a xmlns:ns2606="http://www.w3.org/1999/xhtml" name="conformance" id="conformance"/>10 Conformance</ns2605:h2><ns2607:p xmlns:ns2607="http://www.w3.org/1999/xhtml">[<ns2608:a xmlns:ns2608="http://www.w3.org/1999/xhtml" name="host-language" id="host-language" title="host language">Definition</ns2608:a>: Serialization is intended primarily as a component
of a <ns2609:b xmlns:ns2609="http://www.w3.org/1999/xhtml">host language</ns2609:b> such as <ns2610:a xmlns:ns2610="http://www.w3.org/1999/xhtml" href="#xslt-21">[XSL Transformations (XSLT) Version 2.1]</ns2610:a> or <ns2611:a xmlns:ns2611="http://www.w3.org/1999/xhtml" href="#xquery-11">[XQuery 1.1: An XML Query Language]</ns2611:a>.]  Therefore, this document
relies on specifications that use it to specify conformance criteria
for Serialization in their respective environments.
Specifications that set conformance criteria for their use of
Serialization <ns2612:strong xmlns:ns2612="http://www.w3.org/1999/xhtml">MUST NOT</ns2612:strong> change the semantic definitions of 
Serialization as given in this specification, except by
subsetting and/or compatible extensions.  It is the responsibility of the <ns2613:a xmlns:ns2613="http://www.w3.org/1999/xhtml" title="host language" href="#host-language">host language</ns2613:a> to specify how <ns2614:a xmlns:ns2614="http://www.w3.org/1999/xhtml" title="serialization error" href="#serial-err">serialization errors</ns2614:a> should be handled.</ns2607:p><ns2615:p xmlns:ns2615="http://www.w3.org/1999/xhtml">Certain facilities in this specification are described as producing 
<ns2616:a xmlns:ns2616="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns2616:a> results. A
claim that asserts conformance with this specification <ns2617:strong xmlns:ns2617="http://www.w3.org/1999/xhtml">MUST</ns2617:strong> be accompanied by documentation
stating the effect of each implementation-defined feature. For convenience, a non-normative
checklist of implementation-defined features is provided at 
<ns2618:a xmlns:ns2618="http://www.w3.org/1999/xhtml" href="#implementation-defined-features"><ns2619:b xmlns:ns2619="http://www.w3.org/1999/xhtml">E Checklist of Implementation-Defined Features</ns2619:b></ns2618:a>.</ns2615:p></ns2604:div></ns260:div><ns2620:div xmlns:ns2620="http://www.w3.org/1999/xhtml" class="back"><ns2621:div xmlns:ns2621="http://www.w3.org/1999/xhtml" class="div1">
<ns2622:h2 xmlns:ns2622="http://www.w3.org/1999/xhtml"><ns2623:a xmlns:ns2623="http://www.w3.org/1999/xhtml" name="references" id="references"/>A References</ns2622:h2><ns2624:div xmlns:ns2624="http://www.w3.org/1999/xhtml" class="div2">
<ns2625:h3 xmlns:ns2625="http://www.w3.org/1999/xhtml"><ns2626:a xmlns:ns2626="http://www.w3.org/1999/xhtml" name="normative-references" id="normative-references"/>A.1 Normative References</ns2625:h3><ns2627:dl xmlns:ns2627="http://www.w3.org/1999/xhtml"><ns2628:dt xmlns:ns2628="http://www.w3.org/1999/xhtml" class="label"><ns2629:span xmlns:ns2629="http://www.w3.org/1999/xhtml"><ns2630:a xmlns:ns2630="http://www.w3.org/1999/xhtml" name="charmod-norm" id="charmod-norm"/>Character Model for the World Wide Web 1.0: Normalization</ns2629:span></ns2628:dt><ns2631:dd xmlns:ns2631="http://www.w3.org/1999/xhtml"><ns2632:div xmlns:ns2632="http://www.w3.org/1999/xhtml">
      <ns2633:a xmlns:ns2633="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/charmod-norm/"><ns2634:cite xmlns:ns2634="http://www.w3.org/1999/xhtml">Character Model for the World Wide Web 1.0: Normalization</ns2634:cite></ns2633:a>, Richard Ishida, François Yergeau, Addison Phillips, <ns2635:em xmlns:ns2635="http://www.w3.org/1999/xhtml">et. al.</ns2635:em>, Editors. World Wide Web Consortium, 27 Oct 2005. This version is http://www.w3.org/TR/2005/WD-charmod-norm-20051027/. The <ns2636:a xmlns:ns2636="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/charmod-norm/">latest version</ns2636:a> is available at http://www.w3.org/TR/charmod-norm/.</ns2632:div></ns2631:dd><ns2637:dt xmlns:ns2637="http://www.w3.org/1999/xhtml" class="label"><ns2638:span xmlns:ns2638="http://www.w3.org/1999/xhtml"><ns2639:a xmlns:ns2639="http://www.w3.org/1999/xhtml" name="xpath-datamodel-11" id="xpath-datamodel-11"/>XQuery and XPath Data Model 1.1</ns2638:span></ns2637:dt><ns2640:dd xmlns:ns2640="http://www.w3.org/1999/xhtml"><ns2641:div xmlns:ns2641="http://www.w3.org/1999/xhtml">
<ns2642:a xmlns:ns2642="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/"><ns2643:cite xmlns:ns2643="http://www.w3.org/1999/xhtml">XQuery and XPath Data Model (XDM) 1.1</ns2643:cite></ns2642:a>,
Norman Walsh, John Snelson, Editors.
World Wide Web Consortium,
15 December 2009. 
This version is http://www.w3.org/TR/2009/WD-xpath-datamodel-11-20091215/.
The <ns2644:a xmlns:ns2644="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel-11/">latest version</ns2644:a>
is available at http://www.w3.org/TR/xpath-datamodel-11/.</ns2641:div></ns2640:dd><ns2645:dt xmlns:ns2645="http://www.w3.org/1999/xhtml" class="label"><ns2646:span xmlns:ns2646="http://www.w3.org/1999/xhtml"><ns2647:a xmlns:ns2647="http://www.w3.org/1999/xhtml" name="xpath-functions-11" id="xpath-functions-11"/>XQuery and XPath Functions and Operators 1.1</ns2646:span></ns2645:dt><ns2648:dd xmlns:ns2648="http://www.w3.org/1999/xhtml"><ns2649:div xmlns:ns2649="http://www.w3.org/1999/xhtml">
<ns2650:a xmlns:ns2650="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/"><ns2651:cite xmlns:ns2651="http://www.w3.org/1999/xhtml">XQuery and XPath Functions and Operators 1.1</ns2651:cite></ns2650:a>,
Michael Kay, Editor.
World Wide Web Consortium,
15 December 2009. 
This version is http://www.w3.org/TR/2009/WD-xpath-functions-11-20091215/.
The <ns2652:a xmlns:ns2652="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-functions-11/">latest version</ns2652:a>
is available at http://www.w3.org/TR/xpath-functions-11/.</ns2649:div></ns2648:dd><ns2653:dt xmlns:ns2653="http://www.w3.org/1999/xhtml" class="label"><ns2654:span xmlns:ns2654="http://www.w3.org/1999/xhtml"><ns2655:a xmlns:ns2655="http://www.w3.org/1999/xhtml" name="html401" id="html401"/>HTML</ns2654:span></ns2653:dt><ns2656:dd xmlns:ns2656="http://www.w3.org/1999/xhtml"><ns2657:div xmlns:ns2657="http://www.w3.org/1999/xhtml">
      <ns2658:a xmlns:ns2658="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/html401"><ns2659:cite xmlns:ns2659="http://www.w3.org/1999/xhtml">HTML 4.01 Specification</ns2659:cite></ns2658:a>, Arnaud Le Hors, David Raggett, and Ian Jacobs, Editors. World Wide Web Consortium, 24 Dec 1999. This version is http://www.w3.org/TR/1999/REC-html401-19991224. The <ns2660:a xmlns:ns2660="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/html401">latest version</ns2660:a> is available at http://www.w3.org/TR/html401.</ns2657:div></ns2656:dd><ns2661:dt xmlns:ns2661="http://www.w3.org/1999/xhtml" class="label"><ns2662:span xmlns:ns2662="http://www.w3.org/1999/xhtml"><ns2663:a xmlns:ns2663="http://www.w3.org/1999/xhtml" name="IANA" id="IANA"/>IANA</ns2662:span></ns2661:dt><ns2664:dd xmlns:ns2664="http://www.w3.org/1999/xhtml"><ns2665:div xmlns:ns2665="http://www.w3.org/1999/xhtml">
<ns2666:a xmlns:ns2666="http://www.w3.org/1999/xhtml" href="http://www.iana.org/assignments/character-sets"><ns2667:cite xmlns:ns2667="http://www.w3.org/1999/xhtml">Character Sets</ns2667:cite></ns2666:a>.
Internet Assigned Numbers Authority.
Jan 2005.
</ns2665:div></ns2664:dd><ns2668:dt xmlns:ns2668="http://www.w3.org/1999/xhtml" class="label"><ns2669:span xmlns:ns2669="http://www.w3.org/1999/xhtml"><ns2670:a xmlns:ns2670="http://www.w3.org/1999/xhtml" name="RFC2046" id="RFC2046"/>RFC2046</ns2669:span></ns2668:dt><ns2671:dd xmlns:ns2671="http://www.w3.org/1999/xhtml"><ns2672:div xmlns:ns2672="http://www.w3.org/1999/xhtml">
<ns2673:a xmlns:ns2673="http://www.w3.org/1999/xhtml" href="http://www.ietf.org/rfc/rfc2046.txt"><ns2674:cite xmlns:ns2674="http://www.w3.org/1999/xhtml">Multipurpose Internet Mail Extensions (MIME) Part Two: Media Types</ns2674:cite></ns2673:a>,
N. Freed, N. Borenstein.
Network Working Group, IETF,
Nov 1996.
</ns2672:div></ns2671:dd><ns2675:dt xmlns:ns2675="http://www.w3.org/1999/xhtml" class="label"><ns2676:span xmlns:ns2676="http://www.w3.org/1999/xhtml"><ns2677:a xmlns:ns2677="http://www.w3.org/1999/xhtml" name="RFC2119" id="RFC2119"/>RFC2119</ns2676:span></ns2675:dt><ns2678:dd xmlns:ns2678="http://www.w3.org/1999/xhtml"><ns2679:div xmlns:ns2679="http://www.w3.org/1999/xhtml">
<ns2680:a xmlns:ns2680="http://www.w3.org/1999/xhtml" href="http://www.ietf.org/rfc/rfc2119.txt"><ns2681:cite xmlns:ns2681="http://www.w3.org/1999/xhtml">Key words for use in RFCs to Indicate Requirement Levels</ns2681:cite></ns2680:a>,
S. Bradner.
Network Working Group, IETF,
Mar 1997.
</ns2679:div></ns2678:dd><ns2682:dt xmlns:ns2682="http://www.w3.org/1999/xhtml" class="label"><ns2683:span xmlns:ns2683="http://www.w3.org/1999/xhtml"><ns2684:a xmlns:ns2684="http://www.w3.org/1999/xhtml" name="RFC2278" id="RFC2278"/>RFC2278</ns2683:span></ns2682:dt><ns2685:dd xmlns:ns2685="http://www.w3.org/1999/xhtml"><ns2686:div xmlns:ns2686="http://www.w3.org/1999/xhtml">
<ns2687:a xmlns:ns2687="http://www.w3.org/1999/xhtml" href="http://www.ietf.org/rfc/rfc2278.txt"><ns2688:cite xmlns:ns2688="http://www.w3.org/1999/xhtml">IANA Charset Registration Procedures</ns2688:cite></ns2687:a>,
N. Freed and J. Postel
Network Working Group, IETF,
Jan 1998.
</ns2686:div></ns2685:dd><ns2689:dt xmlns:ns2689="http://www.w3.org/1999/xhtml" class="label"><ns2690:span xmlns:ns2690="http://www.w3.org/1999/xhtml"><ns2691:a xmlns:ns2691="http://www.w3.org/1999/xhtml" name="RFC2854" id="RFC2854"/>RFC2854</ns2690:span></ns2689:dt><ns2692:dd xmlns:ns2692="http://www.w3.org/1999/xhtml"><ns2693:div xmlns:ns2693="http://www.w3.org/1999/xhtml">
<ns2694:a xmlns:ns2694="http://www.w3.org/1999/xhtml" href="http://www.ietf.org/rfc/rfc2854.txt"><ns2695:cite xmlns:ns2695="http://www.w3.org/1999/xhtml">The 'text/html' Media Type</ns2695:cite></ns2694:a>,
D. Connolly, L. Masinter.
Network Working Group, IETF,
Jun 2000.
</ns2693:div></ns2692:dd><ns2696:dt xmlns:ns2696="http://www.w3.org/1999/xhtml" class="label"><ns2697:span xmlns:ns2697="http://www.w3.org/1999/xhtml"><ns2698:a xmlns:ns2698="http://www.w3.org/1999/xhtml" name="RFC3236" id="RFC3236"/>RFC3236</ns2697:span></ns2696:dt><ns2699:dd xmlns:ns2699="http://www.w3.org/1999/xhtml"><ns2700:div xmlns:ns2700="http://www.w3.org/1999/xhtml">
<ns2701:a xmlns:ns2701="http://www.w3.org/1999/xhtml" href="http://www.ietf.org/rfc/rfc3236.txt"><ns2702:cite xmlns:ns2702="http://www.w3.org/1999/xhtml">The 'application/xhtml+xml' Media Type</ns2702:cite></ns2701:a>,
M. Baker and P. Stark.
Network Working Group, IETF,
Jan 2002.
</ns2700:div></ns2699:dd><ns2703:dt xmlns:ns2703="http://www.w3.org/1999/xhtml" class="label"><ns2704:span xmlns:ns2704="http://www.w3.org/1999/xhtml"><ns2705:a xmlns:ns2705="http://www.w3.org/1999/xhtml" name="UNICODE-ENCODING" id="UNICODE-ENCODING"/>Unicode Encoding</ns2704:span></ns2703:dt><ns2706:dd xmlns:ns2706="http://www.w3.org/1999/xhtml"><ns2707:div xmlns:ns2707="http://www.w3.org/1999/xhtml">
<ns2708:a xmlns:ns2708="http://www.w3.org/1999/xhtml" href="http://www.unicode.org/unicode/reports/tr17/"><ns2709:cite xmlns:ns2709="http://www.w3.org/1999/xhtml">Unicode
Character Encoding Model</ns2709:cite></ns2708:a>,
Unicode Consortium.
Unicode Standard Annex #17.
</ns2707:div></ns2706:dd><ns2710:dt xmlns:ns2710="http://www.w3.org/1999/xhtml" class="label"><ns2711:span xmlns:ns2711="http://www.w3.org/1999/xhtml"><ns2712:a xmlns:ns2712="http://www.w3.org/1999/xhtml" name="UNICODE-NORMALIZATION-FORM" id="UNICODE-NORMALIZATION-FORM"/>UAX #15: Unicode Normalization Forms</ns2711:span></ns2710:dt><ns2713:dd xmlns:ns2713="http://www.w3.org/1999/xhtml"><ns2714:div xmlns:ns2714="http://www.w3.org/1999/xhtml">
<ns2715:a xmlns:ns2715="http://www.w3.org/1999/xhtml" href="http://www.unicode.org/unicode/reports/tr15/"><ns2716:cite xmlns:ns2716="http://www.w3.org/1999/xhtml">Unicode
Normalization Forms</ns2716:cite></ns2715:a>,
Unicode Consortium.
Unicode Standard Annex #15.
</ns2714:div></ns2713:dd><ns2717:dt xmlns:ns2717="http://www.w3.org/1999/xhtml" class="label"><ns2718:span xmlns:ns2718="http://www.w3.org/1999/xhtml"><ns2719:a xmlns:ns2719="http://www.w3.org/1999/xhtml" name="xhtml1" id="xhtml1"/>XHTML 1.0</ns2718:span></ns2717:dt><ns2720:dd xmlns:ns2720="http://www.w3.org/1999/xhtml"><ns2721:div xmlns:ns2721="http://www.w3.org/1999/xhtml">
      <ns2722:a xmlns:ns2722="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml1"><ns2723:cite xmlns:ns2723="http://www.w3.org/1999/xhtml">XHTML™ 1.0 The Extensible HyperText Markup Language (Second Edition)</ns2723:cite></ns2722:a>, Steven Pemberton, Editor. World Wide Web Consortium, 01 Aug 2002. This version is http://www.w3.org/TR/2002/REC-xhtml1-20020801. The <ns2724:a xmlns:ns2724="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml1">latest version</ns2724:a> is available at http://www.w3.org/TR/xhtml1.</ns2721:div></ns2720:dd><ns2725:dt xmlns:ns2725="http://www.w3.org/1999/xhtml" class="label"><ns2726:span xmlns:ns2726="http://www.w3.org/1999/xhtml"><ns2727:a xmlns:ns2727="http://www.w3.org/1999/xhtml" name="xhtml11" id="xhtml11"/>XHTML 1.1</ns2726:span></ns2725:dt><ns2728:dd xmlns:ns2728="http://www.w3.org/1999/xhtml"><ns2729:div xmlns:ns2729="http://www.w3.org/1999/xhtml">
      <ns2730:a xmlns:ns2730="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml11/"><ns2731:cite xmlns:ns2731="http://www.w3.org/1999/xhtml">XHTML™ 1.1 - Module-based XHTML</ns2731:cite></ns2730:a>, Shane McCarron and Murray Altheim, Editors. World Wide Web Consortium, 31 May 2001. This version is http://www.w3.org/TR/2001/REC-xhtml11-20010531. The <ns2732:a xmlns:ns2732="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml11/">latest version</ns2732:a> is available at http://www.w3.org/TR/xhtml11/.
      <ns2733:a xmlns:ns2733="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml11/"><ns2734:cite xmlns:ns2734="http://www.w3.org/1999/xhtml">XHTML™ 1.1 - Module-based XHTML - Second Edition</ns2734:cite></ns2733:a>, Shane McCarron and Masayasu Ishikawa, Editors. World Wide Web Consortium, 16 Feb 2007. This version is http://www.w3.org/TR/2007/WD-xhtml11-20070216. The <ns2735:a xmlns:ns2735="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml11/">latest version</ns2735:a> is available at http://www.w3.org/TR/xhtml11/.</ns2729:div></ns2728:dd><ns2736:dt xmlns:ns2736="http://www.w3.org/1999/xhtml" class="label"><ns2737:span xmlns:ns2737="http://www.w3.org/1999/xhtml"><ns2738:a xmlns:ns2738="http://www.w3.org/1999/xhtml" name="xml" id="xml"/>XML10</ns2737:span></ns2736:dt><ns2739:dd xmlns:ns2739="http://www.w3.org/1999/xhtml"><ns2740:div xmlns:ns2740="http://www.w3.org/1999/xhtml">
      <ns2741:a xmlns:ns2741="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml"><ns2742:cite xmlns:ns2742="http://www.w3.org/1999/xhtml">Extensible Markup Language (XML) 1.0 (Fifth Edition)</ns2742:cite></ns2741:a>, Tim Bray, François Yergeau, Jean Paoli, <ns2743:em xmlns:ns2743="http://www.w3.org/1999/xhtml">et. al.</ns2743:em>, Editors. World Wide Web Consortium, 26 Nov 2008. This version is http://www.w3.org/TR/2008/REC-xml-20081126/. The <ns2744:a xmlns:ns2744="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml">latest version</ns2744:a> is available at http://www.w3.org/TR/xml.</ns2740:div></ns2739:dd><ns2745:dt xmlns:ns2745="http://www.w3.org/1999/xhtml" class="label"><ns2746:span xmlns:ns2746="http://www.w3.org/1999/xhtml"><ns2747:a xmlns:ns2747="http://www.w3.org/1999/xhtml" name="xml11" id="xml11"/>XML11</ns2746:span></ns2745:dt><ns2748:dd xmlns:ns2748="http://www.w3.org/1999/xhtml"><ns2749:div xmlns:ns2749="http://www.w3.org/1999/xhtml">
      <ns2750:a xmlns:ns2750="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml11/"><ns2751:cite xmlns:ns2751="http://www.w3.org/1999/xhtml">Extensible Markup Language (XML) 1.1 (Second Edition)</ns2751:cite></ns2750:a>, Eve Maler, Jean Paoli, John Cowan, <ns2752:em xmlns:ns2752="http://www.w3.org/1999/xhtml">et. al.</ns2752:em>, Editors. World Wide Web Consortium, 16 Aug 2006. This version is http://www.w3.org/TR/2006/REC-xml11-20060816. The <ns2753:a xmlns:ns2753="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml11/">latest version</ns2753:a> is available at http://www.w3.org/TR/xml11/.</ns2749:div></ns2748:dd><ns2754:dt xmlns:ns2754="http://www.w3.org/1999/xhtml" class="label"><ns2755:span xmlns:ns2755="http://www.w3.org/1999/xhtml"><ns2756:a xmlns:ns2756="http://www.w3.org/1999/xhtml" name="xml-names" id="xml-names"/>XML Names</ns2755:span></ns2754:dt><ns2757:dd xmlns:ns2757="http://www.w3.org/1999/xhtml"><ns2758:div xmlns:ns2758="http://www.w3.org/1999/xhtml">
      <ns2759:a xmlns:ns2759="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml-names"><ns2760:cite xmlns:ns2760="http://www.w3.org/1999/xhtml">Namespaces in XML 1.0 (Third Edition)</ns2760:cite></ns2759:a>, Dave Hollander, Richard Tobin, Tim Bray, <ns2761:em xmlns:ns2761="http://www.w3.org/1999/xhtml">et. al.</ns2761:em>, Editors. World Wide Web Consortium, 08 Dec 2009. This version is http://www.w3.org/TR/2009/REC-xml-names-20091208/. The <ns2762:a xmlns:ns2762="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml-names">latest version</ns2762:a> is available at http://www.w3.org/TR/xml-names.</ns2758:div></ns2757:dd><ns2763:dt xmlns:ns2763="http://www.w3.org/1999/xhtml" class="label"><ns2764:span xmlns:ns2764="http://www.w3.org/1999/xhtml"><ns2765:a xmlns:ns2765="http://www.w3.org/1999/xhtml" name="xml-names11" id="xml-names11"/>XML Names 1.1</ns2764:span></ns2763:dt><ns2766:dd xmlns:ns2766="http://www.w3.org/1999/xhtml"><ns2767:div xmlns:ns2767="http://www.w3.org/1999/xhtml">
      <ns2768:a xmlns:ns2768="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml-names11/"><ns2769:cite xmlns:ns2769="http://www.w3.org/1999/xhtml">Namespaces in XML 1.1 (Second Edition)</ns2769:cite></ns2768:a>, Dave Hollander, Tim Bray, Andrew Layman, and Richard Tobin, Editors. World Wide Web Consortium, 16 Aug 2006. This version is http://www.w3.org/TR/2006/REC-xml-names11-20060816. The <ns2770:a xmlns:ns2770="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xml-names11/">latest version</ns2770:a> is available at http://www.w3.org/TR/xml-names11/.</ns2767:div></ns2766:dd><ns2771:dt xmlns:ns2771="http://www.w3.org/1999/xhtml" class="label"><ns2772:span xmlns:ns2772="http://www.w3.org/1999/xhtml"><ns2773:a xmlns:ns2773="http://www.w3.org/1999/xhtml" name="xmlschema-1" id="xmlschema-1"/>XML Schema</ns2772:span></ns2771:dt><ns2774:dd xmlns:ns2774="http://www.w3.org/1999/xhtml"><ns2775:div xmlns:ns2775="http://www.w3.org/1999/xhtml">
      <ns2776:a xmlns:ns2776="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xmlschema-1/"><ns2777:cite xmlns:ns2777="http://www.w3.org/1999/xhtml">XML Schema Part 1: Structures Second Edition</ns2777:cite></ns2776:a>, David Beech, Henry S. Thompson, Murray Maloney, and Noah Mendelsohn, Editors. World Wide Web Consortium, 28 Oct 2004. This version is http://www.w3.org/TR/2004/REC-xmlschema-1-20041028/. The <ns2778:a xmlns:ns2778="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xmlschema-1/">latest version</ns2778:a> is available at http://www.w3.org/TR/xmlschema-1/.</ns2775:div></ns2774:dd><ns2779:dt xmlns:ns2779="http://www.w3.org/1999/xhtml" class="label"><ns2780:span xmlns:ns2780="http://www.w3.org/1999/xhtml"><ns2781:a xmlns:ns2781="http://www.w3.org/1999/xhtml" name="xpath-21" id="xpath-21"/>XML Path Language (XPath) 2.1</ns2780:span></ns2779:dt><ns2782:dd xmlns:ns2782="http://www.w3.org/1999/xhtml"><ns2783:div xmlns:ns2783="http://www.w3.org/1999/xhtml">
<ns2784:a xmlns:ns2784="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/"><ns2785:cite xmlns:ns2785="http://www.w3.org/1999/xhtml">XML Path Language (XPath) 2.1</ns2785:cite></ns2784:a>,
Jonathan Robie, Don Chamberlin, Michael Dyck, John Snelson, Editors.
World Wide Web Consortium,
15 December 2009. 
This version is http://www.w3.org/TR/2009/WD-xpath-21-20091215/.
The <ns2786:a xmlns:ns2786="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-21/">latest version</ns2786:a>
is available at http://www.w3.org/TR/xpath-21/.</ns2783:div></ns2782:dd><ns2787:dt xmlns:ns2787="http://www.w3.org/1999/xhtml" class="label"><ns2788:span xmlns:ns2788="http://www.w3.org/1999/xhtml"><ns2789:a xmlns:ns2789="http://www.w3.org/1999/xhtml" name="xquery-11" id="xquery-11"/>XQuery 1.1: An XML Query Language</ns2788:span></ns2787:dt><ns2790:dd xmlns:ns2790="http://www.w3.org/1999/xhtml"><ns2791:div xmlns:ns2791="http://www.w3.org/1999/xhtml">
<ns2792:a xmlns:ns2792="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xquery-11/"><ns2793:cite xmlns:ns2793="http://www.w3.org/1999/xhtml">XQuery 1.1: An XML Query Language</ns2793:cite></ns2792:a>,
Jonathan Robie, Don Chamberlin, Michael Dyck, John Snelson, Editors.
World Wide Web Consortium,
15 December 2009. 
This version is http://www.w3.org/TR/2009/WD-xquery-11-20091215/.
The <ns2794:a xmlns:ns2794="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xquery/">latest version</ns2794:a>
is available at http://www.w3.org/TR/xquery-11/.</ns2791:div></ns2790:dd><ns2795:dt xmlns:ns2795="http://www.w3.org/1999/xhtml" class="label"><ns2796:span xmlns:ns2796="http://www.w3.org/1999/xhtml"><ns2797:a xmlns:ns2797="http://www.w3.org/1999/xhtml" name="xslt-21" id="xslt-21"/>XSL Transformations (XSLT) Version 2.1</ns2796:span></ns2795:dt><ns2798:dd xmlns:ns2798="http://www.w3.org/1999/xhtml"><ns2799:div xmlns:ns2799="http://www.w3.org/1999/xhtml">
<ns2800:a xmlns:ns2800="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xslt-21"><ns2801:cite xmlns:ns2801="http://www.w3.org/1999/xhtml">XSL Transformations (XSLT) Version 2.1</ns2801:cite></ns2800:a>,
Michael Kay, Editor.
World Wide Web Consortium,
«awaiting First Public Working Draft publication». 
This version is http://www.w3.org/TR/2007/WD-xslt-21-YYYYMMDD/.
The <ns2802:a xmlns:ns2802="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xslt-21/">latest version</ns2802:a>
is available at http://www.w3.org/TR/xslt-21/.</ns2799:div></ns2798:dd></ns2627:dl></ns2624:div><ns2803:div xmlns:ns2803="http://www.w3.org/1999/xhtml" class="div2">
<ns2804:h3 xmlns:ns2804="http://www.w3.org/1999/xhtml"><ns2805:a xmlns:ns2805="http://www.w3.org/1999/xhtml" name="informative-references" id="informative-references"/>A.2 Informative References</ns2804:h3><ns2806:dl xmlns:ns2806="http://www.w3.org/1999/xhtml"><ns2807:dt xmlns:ns2807="http://www.w3.org/1999/xhtml" class="label"><ns2808:span xmlns:ns2808="http://www.w3.org/1999/xhtml"><ns2809:a xmlns:ns2809="http://www.w3.org/1999/xhtml" name="xhtml-modularization" id="xhtml-modularization"/>XHTML Modularization</ns2808:span></ns2807:dt><ns2810:dd xmlns:ns2810="http://www.w3.org/1999/xhtml"><ns2811:div xmlns:ns2811="http://www.w3.org/1999/xhtml">
      <ns2812:a xmlns:ns2812="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml-modularization/"><ns2813:cite xmlns:ns2813="http://www.w3.org/1999/xhtml">XHTML™ Modularization 1.1</ns2813:cite></ns2812:a>, Shane McCarron, Subramanian Peruvemba, Mark Birbeck, <ns2814:em xmlns:ns2814="http://www.w3.org/1999/xhtml">et. al.</ns2814:em>, Editors. World Wide Web Consortium, 08 Oct 2008. This version is http://www.w3.org/TR/2008/REC-xhtml-modularization-20081008. The <ns2815:a xmlns:ns2815="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml-modularization/">latest version</ns2815:a> is available at http://www.w3.org/TR/xhtml-modularization/.
      <ns2816:a xmlns:ns2816="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml-modularization/"><ns2817:cite xmlns:ns2817="http://www.w3.org/1999/xhtml">Modularization of XHTML™ 1.0 - Second Edition</ns2817:cite></ns2816:a>, , , , <ns2818:em xmlns:ns2818="http://www.w3.org/1999/xhtml">et. al.</ns2818:em>, Editors. World Wide Web Consortium, 18 Feb 2004. This version is http://www.w3.org/TR/2004/WD-xhtml-modularization-20040218. The <ns2819:a xmlns:ns2819="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xhtml-modularization/">latest version</ns2819:a> is available at http://www.w3.org/TR/xhtml-modularization/.</ns2811:div></ns2810:dd><ns2820:dt xmlns:ns2820="http://www.w3.org/1999/xhtml" class="label"><ns2821:span xmlns:ns2821="http://www.w3.org/1999/xhtml"><ns2822:a xmlns:ns2822="http://www.w3.org/1999/xhtml" name="xpath-datamodel" id="xpath-datamodel"/>XQuery 1.0 and XPath 2.0 Data Model (XDM)</ns2821:span></ns2820:dt><ns2823:dd xmlns:ns2823="http://www.w3.org/1999/xhtml"><ns2824:div xmlns:ns2824="http://www.w3.org/1999/xhtml">
<ns2825:a xmlns:ns2825="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel/"><ns2826:cite xmlns:ns2826="http://www.w3.org/1999/xhtml">XQuery 1.0 and XPath 2.0 Data Model (XDM)</ns2826:cite></ns2825:a>,
Norman Walsh, Mary Fernández, Ashok Malhotra, <ns2827:em xmlns:ns2827="http://www.w3.org/1999/xhtml">et. al.</ns2827:em>, Editors.
World Wide Web Consortium,
23 January 2007.
This version is http://www.w3.org/TR/2007/REC-xpath-datamodel-20070123/.
The <ns2828:a xmlns:ns2828="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/xpath-datamodel/">latest version</ns2828:a>
is available at http://www.w3.org/TR/xpath-datamodel/.</ns2824:div></ns2823:dd><ns2829:dt xmlns:ns2829="http://www.w3.org/1999/xhtml" class="label"><ns2830:span xmlns:ns2830="http://www.w3.org/1999/xhtml"><ns2831:a xmlns:ns2831="http://www.w3.org/1999/xhtml" name="serialization-10-2ed" id="serialization-10-2ed"/>XSLT 2.0 and XQuery 1.0 Serialization, Second Edition</ns2830:span></ns2829:dt><ns2832:dd xmlns:ns2832="http://www.w3.org/1999/xhtml"><ns2833:div xmlns:ns2833="http://www.w3.org/1999/xhtml">
      <ns2834:a xmlns:ns2834="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/2009/PER-xslt-xquery-serialization-20090421/"><ns2835:cite xmlns:ns2835="http://www.w3.org/1999/xhtml">XSLT 2.0 and XQuery 1.0 Serialization (Second Edition), W3C Proposed Edited Recommendation</ns2835:cite></ns2834:a>, Henry Zongaro, Norman Walsh, Joanne Tong, <ns2836:em xmlns:ns2836="http://www.w3.org/1999/xhtml">et. al.</ns2836:em>, Editors. World Wide Web Consortium, 23  Jan  2007. This version is http://www.w3.org/TR/2009/PER-xslt-xquery-serialization-20090421/</ns2833:div></ns2832:dd></ns2806:dl></ns2803:div></ns2621:div><ns2837:div xmlns:ns2837="http://www.w3.org/1999/xhtml" class="div1">
<ns2838:h2 xmlns:ns2838="http://www.w3.org/1999/xhtml"><ns2839:a xmlns:ns2839="http://www.w3.org/1999/xhtml" name="serparams-schema" id="serparams-schema"/>B Schema for Serialization Parameters</ns2838:h2><ns2840:p xmlns:ns2840="http://www.w3.org/1999/xhtml">The following schema describes the structure of a Data Model instance
that can be used to specify the settings of serialization parameters using
the mechanism described in <ns2841:a xmlns:ns2841="http://www.w3.org/1999/xhtml" href="#serparams-in-xdm-instance"><ns2842:b xmlns:ns2842="http://www.w3.org/1999/xhtml">3.1 Setting Serialization Parameters by Means of a Data Model Instance</ns2842:b></ns2841:a>.</ns2840:p><ns2843:p xmlns:ns2843="http://www.w3.org/1999/xhtml">A copy of this schema is available at
<ns2844:a xmlns:ns2844="http://www.w3.org/1999/xhtml" href="http://www.w3.org/2010/schema-for-parameters-for-xslt-xquery-serialization.xsd">http://www.w3.org/2010/schema-for-parameters-for-xslt-xquery-serialization.xsd</ns2844:a>.</ns2843:p><ns2845:pre xmlns:ns2845="http://www.w3.org/1999/xhtml">&lt;xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema"
      targetNamespace="http://www.w3.org/2010/xslt-xquery-serialization"
      xmlns:output="http://www.w3.org/2010/xslt-xquery-serialization"
      elementFormDefault="qualified"&gt;

  &lt;xs:annotation&gt;
    &lt;xs:documentation&gt;
      This is a schema for serialization parameters for
      XSLT and XQuery Serialization 1.1

      This schema is available for use under the conditions of the
      W3C Software License published at
      http://www.w3.org/Consortium/Legal/copyright-software-19980720 
      
      It defines a schema for XML Infoset instances with which a user of
      a host language MAY specify serialization parameters for use in
      serializing an instance of the XQuery and XPath Data Model.  It
      also provides hooks that allow the inclusion of implementation-
      defined serialization parameters and implementation-defined
      modifiers to serialization parameters.
    &lt;/xs:documentation&gt;
  &lt;/xs:annotation&gt;

  &lt;xs:simpleType name="QNames-type"&gt;
    &lt;xs:list itemType="xs:QName"/&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="yes-no-type"&gt;
    &lt;xs:restriction base="xs:token"&gt;
      &lt;xs:enumeration value="no"/&gt;
      &lt;xs:enumeration value="yes"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="yes-no-omit-type"&gt;
    &lt;xs:restriction base="xs:token"&gt;
      &lt;xs:enumeration value="no"/&gt;
      &lt;xs:enumeration value="omit"/&gt;
      &lt;xs:enumeration value="yes"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="char-type"&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:maxLength value="1"/&gt;
      &lt;xs:minLength value="1"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="encoding-string-type"&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:pattern value="[A-Za-z]([A-Za-z0-9._]|'-')*"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="method-type"&gt;
    &lt;xs:union&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base="xs:string"&gt;
          &lt;xs:enumeration value="html"/&gt;
          &lt;xs:enumeration value="text"/&gt;
          &lt;xs:enumeration value="xml"/&gt;
          &lt;xs:enumeration value="xhtml"/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
      &lt;xs:simpleType&gt;
        &lt;xs:restriction base="xs:QName"&gt;
          &lt;xs:pattern value=".*:.*"/&gt;
        &lt;/xs:restriction&gt;
      &lt;/xs:simpleType&gt;
    &lt;/xs:union&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="pubid-char-string-type"&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:pattern value="([- \r\n\ta-zA-Z0-9'()+,./:=?;!*#@$_%])*"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;xs:simpleType name="system-id-string-type"&gt;
    &lt;xs:restriction base="xs:string"&gt;
      &lt;xs:pattern value="[^']*|[^&amp;quot;]*"/&gt;
    &lt;/xs:restriction&gt;
  &lt;/xs:simpleType&gt;

  &lt;!--
     - Base type of all serialization parameter types
    --&gt;
  &lt;xs:complexType name="base-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:restriction base="xs:anyType"&gt;
        &lt;xs:anyAttribute namespace="##other" processContents="lax"/&gt;
      &lt;/xs:restriction&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Generic string serialization parameters
    --&gt;
  &lt;xs:complexType name="string-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="xs:string" use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter type for "yes", "no" or "omit"
     - serialization parameters
    --&gt;
  &lt;xs:complexType name="yes-no-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:yes-no-type" use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter type for list of xs:QName
     - serialization parameters
    --&gt;
  &lt;xs:complexType name="QNames-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:QNames-type" use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter type for "yes", "no" or "omit"
     - serialization parameters
    --&gt;
  &lt;xs:complexType name="yes-no-omit-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:yes-no-omit-type"
              use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter element for byte-order-mark parameter
    --&gt;
  &lt;xs:element name="serialization-parameter-element"
        abstract="true"
        type="output:base-param-type"/&gt;

  &lt;!--
     - Serialization parameter element for byte-order-mark parameter
    --&gt;
  &lt;xs:element name="byte-order-mark" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for cdata-section-elements parameter
    --&gt;
  &lt;xs:element name="cdata-section-elements" type="output:QNames-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter type for doctype-public parameter
    --&gt;
  &lt;xs:complexType name="doctype-public-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:pubid-char-string-type"
              use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter element for doctype-public parameter
    --&gt;
  &lt;xs:element name="doctype-public" type="output:doctype-public-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter type for doctype-system parameter
    --&gt;
  &lt;xs:complexType name="doctype-system-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:system-id-string-type"
              use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter element for doctype-system parameter
    --&gt;
  &lt;xs:element name="doctype-system" type="output:doctype-system-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter type for encoding parameter
    --&gt;
  &lt;xs:complexType name="encoding-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:encoding-string-type"
              use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter element for method parameter
    --&gt;
  &lt;xs:element name="encoding" type="output:encoding-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for escape-uri-attributes parameter
    --&gt;
  &lt;xs:element name="escape-uri-attributes" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for include-content-type parameter
    --&gt;
  &lt;xs:element name="include-content-type" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for indent parameter
    --&gt;
  &lt;xs:element name="indent" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for media-type parameter
    --&gt;
  &lt;xs:element name="media-type" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter type for method parameter
    --&gt;
  &lt;xs:complexType name="method-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:attribute name="value" type="output:method-type"
                use="required"/&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter element for method parameter
    --&gt;
  &lt;xs:element name="method" type="output:method-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;
  &lt;!--
     - Serialization parameter element for normalization-form parameter
    --&gt;
  &lt;xs:element name="normalization-form" type="output:string-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for omit-xml-declaration parameter
    --&gt;
  &lt;xs:element name="omit-xml-declaration" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for standalone parameter
    --&gt;
  &lt;xs:element name="standalone" type="output:yes-no-omit-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for suppress-indentation parameter
    --&gt;
  &lt;xs:element name="suppress-indentation" type="output:QNames-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for undeclare-prefixes parameter
    --&gt;
  &lt;xs:element name="undeclare-prefixes" type="output:yes-no-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter type for use-character-maps
     - parameter
    --&gt;
  &lt;xs:complexType name="use-character-maps-param-type"&gt;
    &lt;xs:complexContent&gt;
      &lt;xs:extension base="output:base-param-type"&gt;
        &lt;xs:sequence&gt;
          &lt;xs:element name="character-map" minOccurs="0"
                  maxOccurs="unbounded"&gt;
            &lt;xs:complexType&gt;
              &lt;xs:attribute name="character" type="output:char-type"/&gt;
              &lt;xs:attribute name="map-string" type="xs:string"/&gt;
              &lt;xs:anyAttribute namespace="##other"
                     processContents="lax"/&gt;
            &lt;/xs:complexType&gt;
          &lt;/xs:element&gt;
          &lt;xs:any minOccurs="0" namespace="##other"
                     processContents="lax"/&gt;
        &lt;/xs:sequence&gt;
      &lt;/xs:extension&gt;
    &lt;/xs:complexContent&gt;
  &lt;/xs:complexType&gt;

  &lt;!--
     - Serialization parameter element for use-character-maps parameter
    --&gt;
  &lt;xs:element name="use-character-maps"
        type="output:use-character-maps-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;!--
     - Serialization parameter element for version parameter
    --&gt;
  &lt;xs:element name="version"
        type="output:string-param-type"
        substitutionGroup="output:serialization-parameter-element"/&gt;

  &lt;xs:element name="serialization-parameters"&gt;
    &lt;xs:complexType&gt;
      &lt;xs:sequence&gt;
        &lt;xs:element ref="output:serialization-parameter-element"
              minOccurs="0" maxOccurs="unbounded"/&gt;
      &lt;/xs:sequence&gt;
    &lt;/xs:complexType&gt;
  &lt;/xs:element&gt;
&lt;/xs:schema&gt;
</ns2845:pre></ns2837:div><ns2846:div xmlns:ns2846="http://www.w3.org/1999/xhtml" class="div1">
<ns2847:h2 xmlns:ns2847="http://www.w3.org/1999/xhtml"><ns2848:a xmlns:ns2848="http://www.w3.org/1999/xhtml" name="id-errors" id="id-errors"/>C Summary of Error Conditions</ns2847:h2><ns2849:p xmlns:ns2849="http://www.w3.org/1999/xhtml">This document uses the <ns2850:code xmlns:ns2850="http://www.w3.org/1999/xhtml">err</ns2850:code> prefix which represents the same namespace URI (http://www.w3.org/2005/xqt-errors) as defined in <ns2851:a xmlns:ns2851="http://www.w3.org/1999/xhtml" href="#xpath-21">[XML Path Language (XPath) 2.1]</ns2851:a>. Use of this namespace prefix binding in this document is not normative.</ns2849:p><ns2852:dl xmlns:ns2852="http://www.w3.org/1999/xhtml"><ns2853:dt xmlns:ns2853="http://www.w3.org/1999/xhtml"><ns2854:a xmlns:ns2854="http://www.w3.org/1999/xhtml" name="ERRSENR0001"/>err:SENR0001</ns2853:dt><ns2855:dd xmlns:ns2855="http://www.w3.org/1999/xhtml"><ns2856:p xmlns:ns2856="http://www.w3.org/1999/xhtml">It is an error if an item in <ns2857:em xmlns:ns2857="http://www.w3.org/1999/xhtml">S<ns2858:sub xmlns:ns2858="http://www.w3.org/1999/xhtml">6</ns2858:sub></ns2857:em> in <ns2859:a xmlns:ns2859="http://www.w3.org/1999/xhtml" title="sequence normalization" href="#sequence-normalization">sequence normalization</ns2859:a> is an
attribute node or a namespace node.</ns2856:p></ns2855:dd><ns2860:dt xmlns:ns2860="http://www.w3.org/1999/xhtml"><ns2861:a xmlns:ns2861="http://www.w3.org/1999/xhtml" name="ERRSERE0003"/>err:SERE0003</ns2860:dt><ns2862:dd xmlns:ns2862="http://www.w3.org/1999/xhtml"><ns2863:p xmlns:ns2863="http://www.w3.org/1999/xhtml">It is an error if the
<ns2864:a xmlns:ns2864="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2864:a>
is unable to
satisfy the rules for
either a well-formed XML document entity or a well-formed XML
external general parsed entity, or both,
except for content modified by
the character expansion phase of serialization.</ns2863:p></ns2862:dd><ns2865:dt xmlns:ns2865="http://www.w3.org/1999/xhtml"><ns2866:a xmlns:ns2866="http://www.w3.org/1999/xhtml" name="ERRSEPM0004"/>err:SEPM0004</ns2865:dt><ns2867:dd xmlns:ns2867="http://www.w3.org/1999/xhtml"><ns2868:p xmlns:ns2868="http://www.w3.org/1999/xhtml">It is an error to specify the doctype-system parameter, or to specify the standalone parameter with a value other than <ns2869:code xmlns:ns2869="http://www.w3.org/1999/xhtml">omit</ns2869:code>, if the
instance of the data model contains text nodes or multiple element nodes as children
of the root node.</ns2868:p></ns2867:dd><ns2870:dt xmlns:ns2870="http://www.w3.org/1999/xhtml"><ns2871:a xmlns:ns2871="http://www.w3.org/1999/xhtml" name="ERRSERE0005"/>err:SERE0005</ns2870:dt><ns2872:dd xmlns:ns2872="http://www.w3.org/1999/xhtml"><ns2873:p xmlns:ns2873="http://www.w3.org/1999/xhtml">It is an error if the serialized result would contain an
<ns2874:a xmlns:ns2874="http://www.w3.org/1999/xhtml" href="http://www.w3.org/TR/REC-xml-names/#NT-NCName">
NCName
</ns2874:a><ns2875:sup xmlns:ns2875="http://www.w3.org/1999/xhtml"><ns2876:small xmlns:ns2876="http://www.w3.org/1999/xhtml">Names</ns2876:small></ns2875:sup> that contains a character that is not
permitted by the version of Namespaces in XML specified by the
<ns2877:code xmlns:ns2877="http://www.w3.org/1999/xhtml">version</ns2877:code> parameter.</ns2873:p></ns2872:dd><ns2878:dt xmlns:ns2878="http://www.w3.org/1999/xhtml"><ns2879:a xmlns:ns2879="http://www.w3.org/1999/xhtml" name="ERRSERE0006"/>err:SERE0006</ns2878:dt><ns2880:dd xmlns:ns2880="http://www.w3.org/1999/xhtml"><ns2881:p xmlns:ns2881="http://www.w3.org/1999/xhtml">
It is an error if the serialized result would contain a character that is not 
permitted by the version of XML specified by the <ns2882:code xmlns:ns2882="http://www.w3.org/1999/xhtml">version</ns2882:code> parameter.</ns2881:p></ns2880:dd><ns2883:dt xmlns:ns2883="http://www.w3.org/1999/xhtml"><ns2884:a xmlns:ns2884="http://www.w3.org/1999/xhtml" name="ERRSESU0007"/>err:SESU0007</ns2883:dt><ns2885:dd xmlns:ns2885="http://www.w3.org/1999/xhtml"><ns2886:p xmlns:ns2886="http://www.w3.org/1999/xhtml">It is an error if an output
encoding other than <ns2887:code xmlns:ns2887="http://www.w3.org/1999/xhtml">UTF-8</ns2887:code> or <ns2888:code xmlns:ns2888="http://www.w3.org/1999/xhtml">UTF-16</ns2888:code> is
requested and the <ns2889:a xmlns:ns2889="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2889:a>
does not support that encoding.</ns2886:p></ns2885:dd><ns2890:dt xmlns:ns2890="http://www.w3.org/1999/xhtml"><ns2891:a xmlns:ns2891="http://www.w3.org/1999/xhtml" name="ERRSERE0008"/>err:SERE0008</ns2890:dt><ns2892:dd xmlns:ns2892="http://www.w3.org/1999/xhtml"><ns2893:p xmlns:ns2893="http://www.w3.org/1999/xhtml">
It is an error if  a character that
cannot be represented in the encoding that the


<ns2894:a xmlns:ns2894="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2894:a>

is using for
output appears in
a context where character references are not allowed (for example if
the character occurs in the name of an element).</ns2893:p></ns2892:dd><ns2895:dt xmlns:ns2895="http://www.w3.org/1999/xhtml"><ns2896:a xmlns:ns2896="http://www.w3.org/1999/xhtml" name="ERRSEPM0009"/>err:SEPM0009</ns2895:dt><ns2897:dd xmlns:ns2897="http://www.w3.org/1999/xhtml"><ns2898:p xmlns:ns2898="http://www.w3.org/1999/xhtml">It is an error if the
<ns2899:code xmlns:ns2899="http://www.w3.org/1999/xhtml">omit-xml-declaration</ns2899:code> parameter has the value
<ns2900:code xmlns:ns2900="http://www.w3.org/1999/xhtml">yes</ns2900:code>, and
the <ns2901:code xmlns:ns2901="http://www.w3.org/1999/xhtml">standalone</ns2901:code> attribute has a value other than
<ns2902:code xmlns:ns2902="http://www.w3.org/1999/xhtml">omit</ns2902:code>; or the <ns2903:code xmlns:ns2903="http://www.w3.org/1999/xhtml">version</ns2903:code> parameter has a value other than
<ns2904:code xmlns:ns2904="http://www.w3.org/1999/xhtml">1.0</ns2904:code> and the <ns2905:code xmlns:ns2905="http://www.w3.org/1999/xhtml">doctype-system</ns2905:code>
parameter is specified.</ns2898:p></ns2897:dd><ns2906:dt xmlns:ns2906="http://www.w3.org/1999/xhtml"><ns2907:a xmlns:ns2907="http://www.w3.org/1999/xhtml" name="ERRSEPM0010"/>err:SEPM0010</ns2906:dt><ns2908:dd xmlns:ns2908="http://www.w3.org/1999/xhtml"><ns2909:p xmlns:ns2909="http://www.w3.org/1999/xhtml">It is an error if the output method is <ns2910:code xmlns:ns2910="http://www.w3.org/1999/xhtml">xml</ns2910:code>,
the value of the <ns2911:code xmlns:ns2911="http://www.w3.org/1999/xhtml">undeclare-prefixes</ns2911:code>
parameter is <ns2912:code xmlns:ns2912="http://www.w3.org/1999/xhtml">yes</ns2912:code>,
and the value of the <ns2913:code xmlns:ns2913="http://www.w3.org/1999/xhtml">version</ns2913:code> parameter is 1.0.</ns2909:p></ns2908:dd><ns2914:dt xmlns:ns2914="http://www.w3.org/1999/xhtml"><ns2915:a xmlns:ns2915="http://www.w3.org/1999/xhtml" name="ERRSESU0011"/>err:SESU0011</ns2914:dt><ns2916:dd xmlns:ns2916="http://www.w3.org/1999/xhtml"><ns2917:p xmlns:ns2917="http://www.w3.org/1999/xhtml">
It is an error
if the value of the
<ns2918:code xmlns:ns2918="http://www.w3.org/1999/xhtml">normalization-form</ns2918:code> parameter specifies a normalization form
that is not supported by the



<ns2919:a xmlns:ns2919="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2919:a>.</ns2917:p></ns2916:dd><ns2920:dt xmlns:ns2920="http://www.w3.org/1999/xhtml"><ns2921:a xmlns:ns2921="http://www.w3.org/1999/xhtml" name="ERRSERE0012"/>err:SERE0012</ns2920:dt><ns2922:dd xmlns:ns2922="http://www.w3.org/1999/xhtml"><ns2923:p xmlns:ns2923="http://www.w3.org/1999/xhtml">
It is an error if the value of the
<ns2924:code xmlns:ns2924="http://www.w3.org/1999/xhtml">normalization-form</ns2924:code> parameter is <ns2925:code xmlns:ns2925="http://www.w3.org/1999/xhtml">fully-normalized</ns2925:code> and any relevant construct
of the result begins with a combining character.</ns2923:p></ns2922:dd><ns2926:dt xmlns:ns2926="http://www.w3.org/1999/xhtml"><ns2927:a xmlns:ns2927="http://www.w3.org/1999/xhtml" name="ERRSESU0013"/>err:SESU0013</ns2926:dt><ns2928:dd xmlns:ns2928="http://www.w3.org/1999/xhtml"><ns2929:p xmlns:ns2929="http://www.w3.org/1999/xhtml">It is an error if the <ns2930:a xmlns:ns2930="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns2930:a>
does not support the version of XML or HTML specified by the <ns2931:code xmlns:ns2931="http://www.w3.org/1999/xhtml">version</ns2931:code> parameter.</ns2929:p></ns2928:dd><ns2932:dt xmlns:ns2932="http://www.w3.org/1999/xhtml"><ns2933:a xmlns:ns2933="http://www.w3.org/1999/xhtml" name="ERRSERE0014"/>err:SERE0014</ns2932:dt><ns2934:dd xmlns:ns2934="http://www.w3.org/1999/xhtml"><ns2935:p xmlns:ns2935="http://www.w3.org/1999/xhtml">It is an error to use the HTML
output method if characters which are legal in XML but not in

HTML

appear in the instance of the data model.</ns2935:p></ns2934:dd><ns2936:dt xmlns:ns2936="http://www.w3.org/1999/xhtml"><ns2937:a xmlns:ns2937="http://www.w3.org/1999/xhtml" name="ERRSERE0015"/>err:SERE0015</ns2936:dt><ns2938:dd xmlns:ns2938="http://www.w3.org/1999/xhtml"><ns2939:p xmlns:ns2939="http://www.w3.org/1999/xhtml">It is an error to use the HTML output method when <ns2940:code xmlns:ns2940="http://www.w3.org/1999/xhtml">&gt;</ns2940:code> appears within a processing instruction in the data model instance being serialized.</ns2939:p></ns2938:dd><ns2941:dt xmlns:ns2941="http://www.w3.org/1999/xhtml"><ns2942:a xmlns:ns2942="http://www.w3.org/1999/xhtml" name="ERRSEPM0016"/>err:SEPM0016</ns2941:dt><ns2943:dd xmlns:ns2943="http://www.w3.org/1999/xhtml"><ns2944:p xmlns:ns2944="http://www.w3.org/1999/xhtml">It is an error if a parameter value is invalid for the defined domain.</ns2944:p></ns2943:dd><ns2945:dt xmlns:ns2945="http://www.w3.org/1999/xhtml"><ns2946:a xmlns:ns2946="http://www.w3.org/1999/xhtml" name="ERRSEPM0017"/>err:SEPM0017</ns2945:dt><ns2947:dd xmlns:ns2947="http://www.w3.org/1999/xhtml"><ns2948:p xmlns:ns2948="http://www.w3.org/1999/xhtml">It is an error if evaluating an expression
in order to extract the setting of a serialization parameter from a data
model instance would yield an error.</ns2948:p></ns2947:dd><ns2949:dt xmlns:ns2949="http://www.w3.org/1999/xhtml"><ns2950:a xmlns:ns2950="http://www.w3.org/1999/xhtml" name="ERRSEPM0018"/>err:SEPM0018</ns2949:dt><ns2951:dd xmlns:ns2951="http://www.w3.org/1999/xhtml"><ns2952:p xmlns:ns2952="http://www.w3.org/1999/xhtml">It is an error if evaluating an expression
in order to extract the setting of the <ns2953:code xmlns:ns2953="http://www.w3.org/1999/xhtml">use-character-maps</ns2953:code>
serialization parameter from a data model instance would yield a
sequence of length greater than one.</ns2952:p></ns2951:dd><ns2954:dt xmlns:ns2954="http://www.w3.org/1999/xhtml"><ns2955:a xmlns:ns2955="http://www.w3.org/1999/xhtml" name="ERRSEPM0019"/>err:SEPM0019</ns2954:dt><ns2956:dd xmlns:ns2956="http://www.w3.org/1999/xhtml"><ns2957:p xmlns:ns2957="http://www.w3.org/1999/xhtml">It is an error if an instance of the data
model used to specify the settings of serialization parameters specifies
the value of the same parameter more than once.</ns2957:p></ns2956:dd></ns2852:dl></ns2846:div><ns2958:div xmlns:ns2958="http://www.w3.org/1999/xhtml" class="div1">
<ns2959:h2 xmlns:ns2959="http://www.w3.org/1999/xhtml"><ns2960:a xmlns:ns2960="http://www.w3.org/1999/xhtml" name="list-of-uri-attributes" id="list-of-uri-attributes"/>D List of URI Attributes</ns2959:h2><ns2961:p xmlns:ns2961="http://www.w3.org/1999/xhtml">The following list of attributes are declared as type <ns2962:code xmlns:ns2962="http://www.w3.org/1999/xhtml">%URI</ns2962:code> or 
			<ns2963:code xmlns:ns2963="http://www.w3.org/1999/xhtml">%UriList</ns2963:code> for a given HTML or XHTML element, with the exception of the 
			<ns2964:code xmlns:ns2964="http://www.w3.org/1999/xhtml">name</ns2964:code> attribute for element <ns2965:code xmlns:ns2965="http://www.w3.org/1999/xhtml">A</ns2965:code> which is not a URI type.  
			The <ns2966:code xmlns:ns2966="http://www.w3.org/1999/xhtml">name</ns2966:code> attribute for element <ns2967:code xmlns:ns2967="http://www.w3.org/1999/xhtml">A</ns2967:code> should be escaped as is
			recommended by the HTML Recommendation <ns2968:a xmlns:ns2968="http://www.w3.org/1999/xhtml" href="#html401">[HTML]</ns2968:a> in Appendix B.2.1.</ns2961:p><ns2969:table xmlns:ns2969="http://www.w3.org/1999/xhtml" width="500" border="1" summary="Attributes of type URI"><ns2970:col xmlns:ns2970="http://www.w3.org/1999/xhtml" width="200" span="1"/><ns2971:col xmlns:ns2971="http://www.w3.org/1999/xhtml" width="300" span="1"/><ns2972:thead xmlns:ns2972="http://www.w3.org/1999/xhtml"><ns2973:tr xmlns:ns2973="http://www.w3.org/1999/xhtml"><ns2974:th xmlns:ns2974="http://www.w3.org/1999/xhtml" align="left" colspan="1">Attributes</ns2974:th><ns2975:th xmlns:ns2975="http://www.w3.org/1999/xhtml" align="left" colspan="1">Elements</ns2975:th></ns2973:tr></ns2972:thead><ns2976:tbody xmlns:ns2976="http://www.w3.org/1999/xhtml"><ns2977:tr xmlns:ns2977="http://www.w3.org/1999/xhtml"><ns2978:td xmlns:ns2978="http://www.w3.org/1999/xhtml">action</ns2978:td><ns2979:td xmlns:ns2979="http://www.w3.org/1999/xhtml">FORM</ns2979:td></ns2977:tr><ns2980:tr xmlns:ns2980="http://www.w3.org/1999/xhtml"><ns2981:td xmlns:ns2981="http://www.w3.org/1999/xhtml">archive</ns2981:td><ns2982:td xmlns:ns2982="http://www.w3.org/1999/xhtml">OBJECT</ns2982:td></ns2980:tr><ns2983:tr xmlns:ns2983="http://www.w3.org/1999/xhtml"><ns2984:td xmlns:ns2984="http://www.w3.org/1999/xhtml">background</ns2984:td><ns2985:td xmlns:ns2985="http://www.w3.org/1999/xhtml">BODY</ns2985:td></ns2983:tr><ns2986:tr xmlns:ns2986="http://www.w3.org/1999/xhtml"><ns2987:td xmlns:ns2987="http://www.w3.org/1999/xhtml">cite</ns2987:td><ns2988:td xmlns:ns2988="http://www.w3.org/1999/xhtml">BLOCKQUOTE, DEL, INS, Q</ns2988:td></ns2986:tr><ns2989:tr xmlns:ns2989="http://www.w3.org/1999/xhtml"><ns2990:td xmlns:ns2990="http://www.w3.org/1999/xhtml">classid</ns2990:td><ns2991:td xmlns:ns2991="http://www.w3.org/1999/xhtml">OBJECT</ns2991:td></ns2989:tr><ns2992:tr xmlns:ns2992="http://www.w3.org/1999/xhtml"><ns2993:td xmlns:ns2993="http://www.w3.org/1999/xhtml">codebase</ns2993:td><ns2994:td xmlns:ns2994="http://www.w3.org/1999/xhtml">APPLET, OBJECT</ns2994:td></ns2992:tr><ns2995:tr xmlns:ns2995="http://www.w3.org/1999/xhtml"><ns2996:td xmlns:ns2996="http://www.w3.org/1999/xhtml">data</ns2996:td><ns2997:td xmlns:ns2997="http://www.w3.org/1999/xhtml">OBJECT</ns2997:td></ns2995:tr><ns2998:tr xmlns:ns2998="http://www.w3.org/1999/xhtml"><ns2999:td xmlns:ns2999="http://www.w3.org/1999/xhtml">datasrc</ns2999:td><ns3000:td xmlns:ns3000="http://www.w3.org/1999/xhtml">BUTTON, DIV, INPUT, OBJECT, SELECT, SPAN, TABLE, TEXTAREA</ns3000:td></ns2998:tr><ns3001:tr xmlns:ns3001="http://www.w3.org/1999/xhtml"><ns3002:td xmlns:ns3002="http://www.w3.org/1999/xhtml">for</ns3002:td><ns3003:td xmlns:ns3003="http://www.w3.org/1999/xhtml">SCRIPT</ns3003:td></ns3001:tr><ns3004:tr xmlns:ns3004="http://www.w3.org/1999/xhtml"><ns3005:td xmlns:ns3005="http://www.w3.org/1999/xhtml">href</ns3005:td><ns3006:td xmlns:ns3006="http://www.w3.org/1999/xhtml">A, AREA, BASE, LINK</ns3006:td></ns3004:tr><ns3007:tr xmlns:ns3007="http://www.w3.org/1999/xhtml"><ns3008:td xmlns:ns3008="http://www.w3.org/1999/xhtml">longdesc</ns3008:td><ns3009:td xmlns:ns3009="http://www.w3.org/1999/xhtml">FRAME, IFRAME, IMG</ns3009:td></ns3007:tr><ns3010:tr xmlns:ns3010="http://www.w3.org/1999/xhtml"><ns3011:td xmlns:ns3011="http://www.w3.org/1999/xhtml">name</ns3011:td><ns3012:td xmlns:ns3012="http://www.w3.org/1999/xhtml">A</ns3012:td></ns3010:tr><ns3013:tr xmlns:ns3013="http://www.w3.org/1999/xhtml"><ns3014:td xmlns:ns3014="http://www.w3.org/1999/xhtml">profile</ns3014:td><ns3015:td xmlns:ns3015="http://www.w3.org/1999/xhtml">HEAD</ns3015:td></ns3013:tr><ns3016:tr xmlns:ns3016="http://www.w3.org/1999/xhtml"><ns3017:td xmlns:ns3017="http://www.w3.org/1999/xhtml">src</ns3017:td><ns3018:td xmlns:ns3018="http://www.w3.org/1999/xhtml">FRAME, IFRAME, IMG, INPUT, SCRIPT</ns3018:td></ns3016:tr><ns3019:tr xmlns:ns3019="http://www.w3.org/1999/xhtml"><ns3020:td xmlns:ns3020="http://www.w3.org/1999/xhtml">usemap</ns3020:td><ns3021:td xmlns:ns3021="http://www.w3.org/1999/xhtml">IMG, INPUT, OBJECT</ns3021:td></ns3019:tr></ns2976:tbody></ns2969:table></ns2958:div><ns3022:div xmlns:ns3022="http://www.w3.org/1999/xhtml" class="div1">
<ns3023:h2 xmlns:ns3023="http://www.w3.org/1999/xhtml"><ns3024:a xmlns:ns3024="http://www.w3.org/1999/xhtml" name="implementation-defined-features" id="implementation-defined-features"/>E Checklist of Implementation-Defined Features (Non-Normative)</ns3023:h2><ns3025:p xmlns:ns3025="http://www.w3.org/1999/xhtml">This appendix provides a summary of Serialization features whose effect is
explicitly <ns3026:a xmlns:ns3026="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3026:a>.
The conformance rules (see <ns3027:a xmlns:ns3027="http://www.w3.org/1999/xhtml" href="#conformance"><ns3028:b xmlns:ns3028="http://www.w3.org/1999/xhtml">10 Conformance</ns3028:b></ns3027:a>) require vendors to provide documentation 
that explains how these choices have been exercised.</ns3025:p><ns3029:ol xmlns:ns3029="http://www.w3.org/1999/xhtml"><ns3030:li xmlns:ns3030="http://www.w3.org/1999/xhtml">For any <ns3031:a xmlns:ns3031="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3031:a>
output method, it is <ns3032:a xmlns:ns3032="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3032:a>
whether  <ns3033:a xmlns:ns3033="http://www.w3.org/1999/xhtml" title="sequence normalization" href="#sequence-normalization">sequence normalization</ns3033:a>
process takes place. (See <ns3034:a xmlns:ns3034="http://www.w3.org/1999/xhtml" href="#serdm"><ns3035:b xmlns:ns3035="http://www.w3.org/1999/xhtml">2 Sequence Normalization</ns3035:b></ns3034:a>)</ns3030:li><ns3036:li xmlns:ns3036="http://www.w3.org/1999/xhtml">If the namespace URI is non-null for the <ns3037:code xmlns:ns3037="http://www.w3.org/1999/xhtml">method</ns3037:code> serialization 
parameter, then the parameter specifies an <ns3038:a xmlns:ns3038="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3038:a>
output method. (See <ns3039:a xmlns:ns3039="http://www.w3.org/1999/xhtml" href="#serparam"><ns3040:b xmlns:ns3040="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns3040:b></ns3039:a>)</ns3036:li><ns3041:li xmlns:ns3041="http://www.w3.org/1999/xhtml">The effect of additional serialization parameters on the output of the serializer, 
where the name of such a parameter must be namespace-qualified, is 
<ns3042:a xmlns:ns3042="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3042:a> or <ns3043:a xmlns:ns3043="http://www.w3.org/1999/xhtml" title="implementation-dependent" href="#impdep">implementation-dependent</ns3043:a>.  
The extent of this effect on the output must not override the provisions of this specification. 
 (See <ns3044:a xmlns:ns3044="http://www.w3.org/1999/xhtml" href="#serparam"><ns3045:b xmlns:ns3045="http://www.w3.org/1999/xhtml">3 Serialization Parameters</ns3045:b></ns3044:a>)</ns3041:li><ns3046:li xmlns:ns3046="http://www.w3.org/1999/xhtml">The effect of providing an option that allows the encoding phase to be skipped, 
so that the result of serialization is a stream of Unicode characters, is <ns3047:a xmlns:ns3047="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3047:a>.  
The <ns3048:a xmlns:ns3048="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns3048:a> is not required  to support such an option.
 (See <ns3049:a xmlns:ns3049="http://www.w3.org/1999/xhtml" href="#serphases"><ns3050:b xmlns:ns3050="http://www.w3.org/1999/xhtml">4 Phases of Serialization</ns3050:b></ns3049:a>)</ns3046:li><ns3051:li xmlns:ns3051="http://www.w3.org/1999/xhtml"><ns3052:span xmlns:ns3052="http://www.w3.org/1999/xhtml">If an implementation
supports a value of the <ns3053:code xmlns:ns3053="http://www.w3.org/1999/xhtml">version</ns3053:code> parameter for the XML or XHTML
output method for which this document does not provide a normative definition,
the behavior is
<ns3054:a xmlns:ns3054="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3054:a>.</ns3052:span> (See <ns3055:a xmlns:ns3055="http://www.w3.org/1999/xhtml" href="#XML_VERSION"><ns3056:b xmlns:ns3056="http://www.w3.org/1999/xhtml">5.1.1 XML Output Method: the version Parameter</ns3056:b></ns3055:a>)</ns3051:li><ns3057:li xmlns:ns3057="http://www.w3.org/1999/xhtml">An <ns3058:a xmlns:ns3058="http://www.w3.org/1999/xhtml" title="serializer" href="#serializer">serializer</ns3058:a> may provide an <ns3059:a xmlns:ns3059="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3059:a> mechanism to place CDATA sections in the <ns3060:a xmlns:ns3060="http://www.w3.org/1999/xhtml" title="result tree" href="#result-tree">result tree</ns3060:a>. (See <ns3061:a xmlns:ns3061="http://www.w3.org/1999/xhtml" href="#XML_CDATA-SECTION-ELEMENTS"><ns3062:b xmlns:ns3062="http://www.w3.org/1999/xhtml">5.1.4 XML Output Method: the cdata-section-elements Parameter</ns3062:b></ns3061:a>)</ns3057:li><ns3063:li xmlns:ns3063="http://www.w3.org/1999/xhtml">If the value of the <ns3064:code xmlns:ns3064="http://www.w3.org/1999/xhtml">normalization-form</ns3064:code> form parameter is not <ns3065:code xmlns:ns3065="http://www.w3.org/1999/xhtml">NFC</ns3065:code>, <ns3066:code xmlns:ns3066="http://www.w3.org/1999/xhtml">NFD</ns3066:code>,
          <ns3067:code xmlns:ns3067="http://www.w3.org/1999/xhtml">NFKC</ns3067:code>, <ns3068:code xmlns:ns3068="http://www.w3.org/1999/xhtml">NFKD</ns3068:code>, <ns3069:code xmlns:ns3069="http://www.w3.org/1999/xhtml">fully-normalized</ns3069:code>,
           or <ns3070:code xmlns:ns3070="http://www.w3.org/1999/xhtml">none</ns3070:code> then the meaning of the value and its effect is
          <ns3071:a xmlns:ns3071="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3071:a>. (See <ns3072:a xmlns:ns3072="http://www.w3.org/1999/xhtml" href="#XML_NORMALIZATION-FORM"><ns3073:b xmlns:ns3073="http://www.w3.org/1999/xhtml">5.1.8 XML Output Method: the normalization-form Parameter</ns3073:b></ns3072:a>)</ns3063:li><ns3074:li xmlns:ns3074="http://www.w3.org/1999/xhtml"><ns3075:span xmlns:ns3075="http://www.w3.org/1999/xhtml">If an implementation
supports a value of the <ns3076:code xmlns:ns3076="http://www.w3.org/1999/xhtml">version</ns3076:code> parameter for the HTML output
method for which this document does not provide a normative definition, the
behavior is <ns3077:a xmlns:ns3077="http://www.w3.org/1999/xhtml" title="implementation-defined" href="#impdef">implementation-defined</ns3077:a>.</ns3075:span> (See <ns3078:a xmlns:ns3078="http://www.w3.org/1999/xhtml" href="#HTML_VERSION"><ns3079:b xmlns:ns3079="http://www.w3.org/1999/xhtml">7.4.1 HTML Output Method: the version Parameter</ns3079:b></ns3078:a>)</ns3074:li></ns3029:ol></ns3022:div><ns3080:div xmlns:ns3080="http://www.w3.org/1999/xhtml" class="div1">
<ns3081:h2 xmlns:ns3081="http://www.w3.org/1999/xhtml"><ns3082:a xmlns:ns3082="http://www.w3.org/1999/xhtml" name="revision-log" id="revision-log"/>F Revision Log (Non-Normative)</ns3081:h2><ns3083:p xmlns:ns3083="http://www.w3.org/1999/xhtml">
There are two categories of changes that have been made to this document:
those that have also been incorporated into
<ns3084:a xmlns:ns3084="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3084:a>, and those made since that document
was published.
</ns3083:p><ns3085:div xmlns:ns3085="http://www.w3.org/1999/xhtml" class="div2">
<ns3086:h3 xmlns:ns3086="http://www.w3.org/1999/xhtml"><ns3087:a xmlns:ns3087="http://www.w3.org/1999/xhtml" name="changes-since-2ed" id="changes-since-2ed"/>F.1 <ns3088:span xmlns:ns3088="http://www.w3.org/1999/xhtml">Changes since XSLT 2.0 and XQuery 1.0 Serialization (Second Edition)</ns3088:span></ns3086:h3><ns3089:p xmlns:ns3089="http://www.w3.org/1999/xhtml">The following sections detail the changes
to the serialization specification since the publication of the
<ns3090:a xmlns:ns3090="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3090:a>.  All changes are of a minor nature.
No change introduces an incompatibility, unless indicated below.
Informally this means, unless indicated otherwise below, given a sequence
that does not rely on any feature of <ns3091:a xmlns:ns3091="http://www.w3.org/1999/xhtml" href="#xpath-datamodel-11">[XQuery and XPath Data Model 1.1]</ns3091:a> that
was not available in <ns3092:a xmlns:ns3092="http://www.w3.org/1999/xhtml" href="#xpath-datamodel">[XQuery 1.0 and XPath 2.0 Data Model (XDM)]</ns3092:a>, and a
set of serialization parameters that does not include the
<ns3093:code xmlns:ns3093="http://www.w3.org/1999/xhtml">suppress-indentation</ns3093:code> parameter, a serializer that conforms
to the requirements of <ns3094:a xmlns:ns3094="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3094:a>
would produce a serialized result or an error that is
consistent with the requirements of this specification, given the same
sequence and serialization parameters, in addition to the
<ns3095:code xmlns:ns3095="http://www.w3.org/1999/xhtml">suppress-indentation</ns3095:code> parameter with value empty.
</ns3089:p><ns3096:div xmlns:ns3096="http://www.w3.org/1999/xhtml" class="div3">
<ns3097:h4 xmlns:ns3097="http://www.w3.org/1999/xhtml"><ns3098:a xmlns:ns3098="http://www.w3.org/1999/xhtml" name="changes-for-1st-WD" id="changes-for-1st-WD"/>F.1.1 Changes applied for the first Public Working Draft</ns3097:h4><ns3099:p xmlns:ns3099="http://www.w3.org/1999/xhtml">The following changes have been applied
since the publication of <ns3100:a xmlns:ns3100="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3100:a>.
None of these changes introduces an incompatibility with
<ns3101:a xmlns:ns3101="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3101:a>.</ns3099:p><ns3102:ul xmlns:ns3102="http://www.w3.org/1999/xhtml"><ns3103:li xmlns:ns3103="http://www.w3.org/1999/xhtml"><ns3104:p xmlns:ns3104="http://www.w3.org/1999/xhtml">Applied decision of
<ns3105:a xmlns:ns3105="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6723">Bugzilla bug 6723</ns3105:a>
(Erratum SE.E13), clarifying how HTML elements that have no children but whose
content model is not empty are serialized.</ns3104:p></ns3103:li><ns3106:li xmlns:ns3106="http://www.w3.org/1999/xhtml"><ns3107:p xmlns:ns3107="http://www.w3.org/1999/xhtml">Applied decision of
<ns3108:a xmlns:ns3108="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6732">Bugzilla bug 6732</ns3108:a>
(Erratum SE.E12), clarifying for which versions of XML and HTML this document
makes normative statements.</ns3107:p></ns3106:li><ns3109:li xmlns:ns3109="http://www.w3.org/1999/xhtml"><ns3110:p xmlns:ns3110="http://www.w3.org/1999/xhtml">Take into account presence of function items in a sequence that
is to be serialized.</ns3110:p></ns3109:li><ns3111:li xmlns:ns3111="http://www.w3.org/1999/xhtml"><ns3112:p xmlns:ns3112="http://www.w3.org/1999/xhtml">Miscellaneous minor editorial improvements.</ns3112:p></ns3111:li></ns3102:ul></ns3096:div><ns3113:div xmlns:ns3113="http://www.w3.org/1999/xhtml" class="div3">
<ns3114:h4 xmlns:ns3114="http://www.w3.org/1999/xhtml"><ns3115:a xmlns:ns3115="http://www.w3.org/1999/xhtml" name="changes-for-2nd-WD" id="changes-for-2nd-WD"/>F.1.2 Changes applied for the second Public Working Draft</ns3114:h4><ns3116:p xmlns:ns3116="http://www.w3.org/1999/xhtml">The following changes have been applied
since the first Public Working Draft of this specification was published.
None of these changes introduces an incompatibility with
<ns3117:a xmlns:ns3117="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3117:a>,
<ns3118:span xmlns:ns3118="http://www.w3.org/1999/xhtml">unless otherwise indicated
below</ns3118:span>.</ns3116:p><ns3119:ul xmlns:ns3119="http://www.w3.org/1999/xhtml"><ns3120:li xmlns:ns3120="http://www.w3.org/1999/xhtml"><ns3121:p xmlns:ns3121="http://www.w3.org/1999/xhtml">Added definition of <ns3122:code xmlns:ns3122="http://www.w3.org/1999/xhtml">suppress-indentation</ns3122:code> serialization
parameter as requested in
<ns3123:a xmlns:ns3123="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6535">Bugzilla bug
6535</ns3123:a>.</ns3121:p></ns3120:li><ns3124:li xmlns:ns3124="http://www.w3.org/1999/xhtml"><ns3125:p xmlns:ns3125="http://www.w3.org/1999/xhtml">Applied changes for
<ns3126:a xmlns:ns3126="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7829">Bugzilla bug 7829</ns3126:a> (erratum SE.E14), clarifying how minimized attributes are handled
under the rules of the HTML output method.</ns3125:p></ns3124:li><ns3127:li xmlns:ns3127="http://www.w3.org/1999/xhtml"><ns3128:p xmlns:ns3128="http://www.w3.org/1999/xhtml">Applied changes for
<ns3129:a xmlns:ns3129="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8245">Bugzilla bug 8245</ns3129:a> (erratum SE.E15), correcting a serialization error that mentions
which control characters are not permitted under the rules of the HTML
output method.</ns3128:p></ns3127:li><ns3130:li xmlns:ns3130="http://www.w3.org/1999/xhtml"><ns3131:p xmlns:ns3131="http://www.w3.org/1999/xhtml">Applied changes for
<ns3132:a xmlns:ns3132="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=7823">Bugzilla bug 7823</ns3132:a> (erratum SE.E16),
clarifying how the <ns3133:code xmlns:ns3133="http://www.w3.org/1999/xhtml">script</ns3133:code> and <ns3134:code xmlns:ns3134="http://www.w3.org/1999/xhtml">style</ns3134:code> elements are
handled for the HTML output method.</ns3131:p></ns3130:li><ns3135:li xmlns:ns3135="http://www.w3.org/1999/xhtml"><ns3136:p xmlns:ns3136="http://www.w3.org/1999/xhtml">Applied changes for
<ns3137:a xmlns:ns3137="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8651">Bugzilla bug 8651</ns3137:a> (erratum SE.E17), clarifying what it means to compare without
regard to case.</ns3136:p></ns3135:li><ns3138:li xmlns:ns3138="http://www.w3.org/1999/xhtml"><ns3139:p xmlns:ns3139="http://www.w3.org/1999/xhtml">Applied changes for 
<ns3140:a xmlns:ns3140="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=8206">Bugzilla bug 8206</ns3140:a> (erratum SE.E18), clarifying what it means to escape according to
HTML or XML rules.</ns3139:p></ns3138:li><ns3141:li xmlns:ns3141="http://www.w3.org/1999/xhtml"><ns3142:p xmlns:ns3142="http://www.w3.org/1999/xhtml">Relaxed rules for the XML output method
that specify where a serializer is permitted to add whitespace, as requested
in
<ns3143:a xmlns:ns3143="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6808">Bugzilla bug 6808</ns3143:a>.  This introduces an incompatibility only inasmuch as the serialized
results produced by a serializer conforming to this specification could
differ from the results a serializer that adheres to
<ns3144:a xmlns:ns3144="http://www.w3.org/1999/xhtml" href="#serialization-10-2ed">[XSLT 2.0 and XQuery 1.0 Serialization, Second Edition]</ns3144:a> would be permitted to produce.</ns3142:p></ns3141:li><ns3145:li xmlns:ns3145="http://www.w3.org/1999/xhtml"><ns3146:p xmlns:ns3146="http://www.w3.org/1999/xhtml">Defined a mechanism for specifying serialization parameter settings
in the form of a data model instance as suggested for resolving
<ns3147:a xmlns:ns3147="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=9302">Bugzilla bug 9302</ns3147:a></ns3146:p></ns3145:li></ns3119:ul></ns3113:div></ns3085:div><ns3148:div xmlns:ns3148="http://www.w3.org/1999/xhtml" class="div2">
<ns3149:h3 xmlns:ns3149="http://www.w3.org/1999/xhtml"><ns3150:a xmlns:ns3150="http://www.w3.org/1999/xhtml" name="changes-since-1ed" id="changes-since-1ed"/>F.2 Changes incorporated in the Second Edition</ns3149:h3><ns3151:p xmlns:ns3151="http://www.w3.org/1999/xhtml">The following table lists changes made to this document that are described in detail in the 
        <ns3152:a xmlns:ns3152="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html">Errata</ns3152:a> to the first edition. The rationale for each erratum
        is explained in the corresponding Bugzilla database entry. The following table summarizes
        the errata that have been applied.</ns3151:p><ns3153:table xmlns:ns3153="http://www.w3.org/1999/xhtml" border="1" cellpadding="5" width="100%" summary="Errata to first edition"><ns3154:thead xmlns:ns3154="http://www.w3.org/1999/xhtml"><ns3155:tr xmlns:ns3155="http://www.w3.org/1999/xhtml"><ns3156:td xmlns:ns3156="http://www.w3.org/1999/xhtml">Erratum</ns3156:td><ns3157:td xmlns:ns3157="http://www.w3.org/1999/xhtml">Bugzilla</ns3157:td><ns3158:td xmlns:ns3158="http://www.w3.org/1999/xhtml">Category</ns3158:td><ns3159:td xmlns:ns3159="http://www.w3.org/1999/xhtml">Description</ns3159:td></ns3155:tr></ns3154:thead><ns3160:tbody xmlns:ns3160="http://www.w3.org/1999/xhtml"><ns3161:tr xmlns:ns3161="http://www.w3.org/1999/xhtml"><ns3162:td xmlns:ns3162="http://www.w3.org/1999/xhtml"><ns3163:a xmlns:ns3163="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E1">E1</ns3163:a></ns3162:td><ns3164:td xmlns:ns3164="http://www.w3.org/1999/xhtml"><ns3165:a xmlns:ns3165="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=4372">4372</ns3165:a></ns3164:td><ns3166:td xmlns:ns3166="http://www.w3.org/1999/xhtml">substantive</ns3166:td><ns3167:td xmlns:ns3167="http://www.w3.org/1999/xhtml">
      This erratum places constraints on the type of string that is valid for the doctype-public attribute of xsl:output.
    </ns3167:td></ns3161:tr><ns3168:tr xmlns:ns3168="http://www.w3.org/1999/xhtml"><ns3169:td xmlns:ns3169="http://www.w3.org/1999/xhtml"><ns3170:a xmlns:ns3170="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E2">E2</ns3170:a></ns3169:td><ns3171:td xmlns:ns3171="http://www.w3.org/1999/xhtml"><ns3172:a xmlns:ns3172="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=4557">4557</ns3172:a></ns3171:td><ns3173:td xmlns:ns3173="http://www.w3.org/1999/xhtml">editorial</ns3173:td><ns3174:td xmlns:ns3174="http://www.w3.org/1999/xhtml">
      This erratum corrects an editorial error concerning the number of phases of serialization.
    </ns3174:td></ns3168:tr><ns3175:tr xmlns:ns3175="http://www.w3.org/1999/xhtml"><ns3176:td xmlns:ns3176="http://www.w3.org/1999/xhtml"><ns3177:a xmlns:ns3177="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E3">E3</ns3177:a></ns3176:td><ns3178:td xmlns:ns3178="http://www.w3.org/1999/xhtml"><ns3179:a xmlns:ns3179="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5066">5066</ns3179:a></ns3178:td><ns3180:td xmlns:ns3180="http://www.w3.org/1999/xhtml">editorial</ns3180:td><ns3181:td xmlns:ns3181="http://www.w3.org/1999/xhtml">
      This erratum corrects an editorial error concerning the currently registered XHTML media types.
    </ns3181:td></ns3175:tr><ns3182:tr xmlns:ns3182="http://www.w3.org/1999/xhtml"><ns3183:td xmlns:ns3183="http://www.w3.org/1999/xhtml"><ns3184:a xmlns:ns3184="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E4">E4</ns3184:a></ns3183:td><ns3185:td xmlns:ns3185="http://www.w3.org/1999/xhtml"><ns3186:a xmlns:ns3186="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5433">5433</ns3186:a></ns3185:td><ns3187:td xmlns:ns3187="http://www.w3.org/1999/xhtml">substantive</ns3187:td><ns3188:td xmlns:ns3188="http://www.w3.org/1999/xhtml">
      This erratum clarifies how descendant elements of an XML island must be serialized according to the HTML output method.
    </ns3188:td></ns3182:tr><ns3189:tr xmlns:ns3189="http://www.w3.org/1999/xhtml"><ns3190:td xmlns:ns3190="http://www.w3.org/1999/xhtml"><ns3191:a xmlns:ns3191="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E5">E5</ns3191:a></ns3190:td><ns3192:td xmlns:ns3192="http://www.w3.org/1999/xhtml"><ns3193:a xmlns:ns3193="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5439">5439</ns3193:a></ns3192:td><ns3194:td xmlns:ns3194="http://www.w3.org/1999/xhtml">substantive</ns3194:td><ns3195:td xmlns:ns3195="http://www.w3.org/1999/xhtml">
      This erratum aligns the description of the effect of the include-content-type serialization parameter of the HTML output method with that of the XHTML output method.
    </ns3195:td></ns3189:tr><ns3196:tr xmlns:ns3196="http://www.w3.org/1999/xhtml"><ns3197:td xmlns:ns3197="http://www.w3.org/1999/xhtml"><ns3198:a xmlns:ns3198="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E6">E6</ns3198:a></ns3197:td><ns3199:td xmlns:ns3199="http://www.w3.org/1999/xhtml"><ns3200:a xmlns:ns3200="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5458">5458</ns3200:a></ns3199:td><ns3201:td xmlns:ns3201="http://www.w3.org/1999/xhtml">substantive</ns3201:td><ns3202:td xmlns:ns3202="http://www.w3.org/1999/xhtml">
      This erratum ensures that the sequence normalization process preserves any type annotations associated with nodes in the input sequence.
    </ns3202:td></ns3196:tr><ns3203:tr xmlns:ns3203="http://www.w3.org/1999/xhtml"><ns3204:td xmlns:ns3204="http://www.w3.org/1999/xhtml"><ns3205:a xmlns:ns3205="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E7">E7</ns3205:a></ns3204:td><ns3206:td xmlns:ns3206="http://www.w3.org/1999/xhtml"><ns3207:a xmlns:ns3207="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5300">5300</ns3207:a></ns3206:td><ns3208:td xmlns:ns3208="http://www.w3.org/1999/xhtml">substantive</ns3208:td><ns3209:td xmlns:ns3209="http://www.w3.org/1999/xhtml">
      This erratum clarifies how elements with empty content models are to be serialized under the HTML and XHTML output methods.
    </ns3209:td></ns3203:tr><ns3210:tr xmlns:ns3210="http://www.w3.org/1999/xhtml"><ns3211:td xmlns:ns3211="http://www.w3.org/1999/xhtml"><ns3212:a xmlns:ns3212="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E8">E8</ns3212:a></ns3211:td><ns3213:td xmlns:ns3213="http://www.w3.org/1999/xhtml"><ns3214:a xmlns:ns3214="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5441">5441</ns3214:a></ns3213:td><ns3215:td xmlns:ns3215="http://www.w3.org/1999/xhtml">substantive</ns3215:td><ns3216:td xmlns:ns3216="http://www.w3.org/1999/xhtml">
      This erratum ensures that Unicode normalization applies to all
characters that might be adjacent in the serialized result produced by the text
output method, including those that are in text nodes that are separated by
element nodes in the data model instance.
    </ns3216:td></ns3210:tr><ns3217:tr xmlns:ns3217="http://www.w3.org/1999/xhtml"><ns3218:td xmlns:ns3218="http://www.w3.org/1999/xhtml"><ns3219:a xmlns:ns3219="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E9">E9</ns3219:a></ns3218:td><ns3220:td xmlns:ns3220="http://www.w3.org/1999/xhtml"><ns3221:a xmlns:ns3221="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=5993">5993</ns3221:a></ns3220:td><ns3222:td xmlns:ns3222="http://www.w3.org/1999/xhtml">substantive</ns3222:td><ns3223:td xmlns:ns3223="http://www.w3.org/1999/xhtml">
      This erratum makes previously non-normative text that describes how
the xhtml and html output methods must behave if the indent
parameter has the value yes into normative text.
    </ns3223:td></ns3217:tr><ns3224:tr xmlns:ns3224="http://www.w3.org/1999/xhtml"><ns3225:td xmlns:ns3225="http://www.w3.org/1999/xhtml"><ns3226:a xmlns:ns3226="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E10">E10</ns3226:a></ns3225:td><ns3227:td xmlns:ns3227="http://www.w3.org/1999/xhtml"><ns3228:a xmlns:ns3228="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6466">6466</ns3228:a></ns3227:td><ns3229:td xmlns:ns3229="http://www.w3.org/1999/xhtml">substantive</ns3229:td><ns3230:td xmlns:ns3230="http://www.w3.org/1999/xhtml">
      This erratum specifies the syntactic constraints on the values of the
doctype-public and doctype-system serialization
parameters.
    </ns3230:td></ns3224:tr><ns3231:tr xmlns:ns3231="http://www.w3.org/1999/xhtml"><ns3232:td xmlns:ns3232="http://www.w3.org/1999/xhtml"><ns3233:a xmlns:ns3233="http://www.w3.org/1999/xhtml" href="http://www.w3.org/XML/2007/qt-errata/xslt-xquery-serialization-errata.html#E11">E11</ns3233:a></ns3232:td><ns3234:td xmlns:ns3234="http://www.w3.org/1999/xhtml"><ns3235:a xmlns:ns3235="http://www.w3.org/1999/xhtml" href="http://www.w3.org/Bugs/Public/show_bug.cgi?id=6376">6376</ns3235:a></ns3234:td><ns3236:td xmlns:ns3236="http://www.w3.org/1999/xhtml">editorial</ns3236:td><ns3237:td xmlns:ns3237="http://www.w3.org/1999/xhtml">
      This erratum makes clear which parts of the recommendation are not 
considered to be normative.
    </ns3237:td></ns3231:tr></ns3160:tbody></ns3153:table></ns3148:div></ns3080:div></ns2620:div></ns5:body></ns0:html>